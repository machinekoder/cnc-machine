   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"os_core.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.align	2
  19              		.global	OSInit
  20              		.thumb
  21              		.thumb_func
  23              	OSInit:
  24              	.LFB0:
  25              		.file 1 "Libraries/uC-OSIII/os_core.c"
   1:Libraries/uC-OSIII/os_core.c **** /*
   2:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
   3:Libraries/uC-OSIII/os_core.c **** *                                                      uC/OS-III
   4:Libraries/uC-OSIII/os_core.c **** *                                                 The Real-Time Kernel
   5:Libraries/uC-OSIII/os_core.c **** *
   6:Libraries/uC-OSIII/os_core.c **** *                                  (c) Copyright 2009-2010; Micrium, Inc.; Weston, FL
   7:Libraries/uC-OSIII/os_core.c **** *                          All rights reserved.  Protected by international copyright laws.
   8:Libraries/uC-OSIII/os_core.c **** *
   9:Libraries/uC-OSIII/os_core.c **** *                                                     CORE FUNCTIONS
  10:Libraries/uC-OSIII/os_core.c **** *
  11:Libraries/uC-OSIII/os_core.c **** * File    : OS_CORE.C
  12:Libraries/uC-OSIII/os_core.c **** * By      : JJL
  13:Libraries/uC-OSIII/os_core.c **** * Version : V3.01.2
  14:Libraries/uC-OSIII/os_core.c **** *
  15:Libraries/uC-OSIII/os_core.c **** * LICENSING TERMS:
  16:Libraries/uC-OSIII/os_core.c **** * ---------------
  17:Libraries/uC-OSIII/os_core.c **** *               uC/OS-III is provided in source form to registered licensees ONLY.  It is
  18:Libraries/uC-OSIII/os_core.c **** *               illegal to distribute this source code to any third party unless you receive
  19:Libraries/uC-OSIII/os_core.c **** *               written permission by an authorized Micrium representative.  Knowledge of
  20:Libraries/uC-OSIII/os_core.c **** *               the source code may NOT be used to develop a similar product.
  21:Libraries/uC-OSIII/os_core.c **** *
  22:Libraries/uC-OSIII/os_core.c **** *               Please help us continue to provide the Embedded community with the finest
  23:Libraries/uC-OSIII/os_core.c **** *               software available.  Your honesty is greatly appreciated.
  24:Libraries/uC-OSIII/os_core.c **** *
  25:Libraries/uC-OSIII/os_core.c **** *               You can contact us at www.micrium.com.
  26:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
  27:Libraries/uC-OSIII/os_core.c **** */
  28:Libraries/uC-OSIII/os_core.c **** 
  29:Libraries/uC-OSIII/os_core.c **** #include  <os.h>
  30:Libraries/uC-OSIII/os_core.c **** 
  31:Libraries/uC-OSIII/os_core.c **** #ifdef VSC_INCLUDE_SOURCE_FILE_NAMES
  32:Libraries/uC-OSIII/os_core.c **** const  CPU_CHAR  *os_core__c = "$Id: $";
  33:Libraries/uC-OSIII/os_core.c **** #endif
  34:Libraries/uC-OSIII/os_core.c **** 
  35:Libraries/uC-OSIII/os_core.c **** /*
  36:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
  37:Libraries/uC-OSIII/os_core.c **** *                                                    INITIALIZATION
  38:Libraries/uC-OSIII/os_core.c **** *
  39:Libraries/uC-OSIII/os_core.c **** * Description: This function is used to initialize the internals of uC/OS-III and MUST be called pr
  40:Libraries/uC-OSIII/os_core.c **** *              creating any uC/OS-III object and, prior to calling OS_Start().
  41:Libraries/uC-OSIII/os_core.c **** *
  42:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_err         is a pointer to a variable that will contain an error code returned by
  43:Libraries/uC-OSIII/os_core.c **** *
  44:Libraries/uC-OSIII/os_core.c **** *                                OS_ERR_NONE    Initialization was successful
  45:Libraries/uC-OSIII/os_core.c **** *                                Other          Other OS_ERR_xxx depending on the sub-functions cal
  46:Libraries/uC-OSIII/os_core.c **** * Returns    : none
  47:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
  48:Libraries/uC-OSIII/os_core.c **** */
  49:Libraries/uC-OSIII/os_core.c **** 
  50:Libraries/uC-OSIII/os_core.c **** void  OSInit (OS_ERR  *p_err)
  51:Libraries/uC-OSIII/os_core.c **** {
  26              		.loc 1 51 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 16
  29              		@ frame_needed = 1, uses_anonymous_args = 0
  30 0000 80B5     		push	{r7, lr}
  31              	.LCFI0:
  32              		.cfi_def_cfa_offset 8
  33              		.cfi_offset 14, -4
  34              		.cfi_offset 7, -8
  35 0002 84B0     		sub	sp, sp, #16
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 24
  38 0004 00AF     		add	r7, sp, #0
  39              	.LCFI2:
  40              		.cfi_def_cfa_register 7
  41 0006 7860     		str	r0, [r7, #4]
  52:Libraries/uC-OSIII/os_core.c ****     CPU_STK      *p_stk;
  53:Libraries/uC-OSIII/os_core.c ****     CPU_STK_SIZE  size;
  54:Libraries/uC-OSIII/os_core.c **** 
  55:Libraries/uC-OSIII/os_core.c **** 
  56:Libraries/uC-OSIII/os_core.c **** 
  57:Libraries/uC-OSIII/os_core.c **** #ifdef OS_SAFETY_CRITICAL
  58:Libraries/uC-OSIII/os_core.c ****     if (p_err == (OS_ERR *)0) {
  59:Libraries/uC-OSIII/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
  60:Libraries/uC-OSIII/os_core.c ****     }
  61:Libraries/uC-OSIII/os_core.c **** #endif
  62:Libraries/uC-OSIII/os_core.c **** 
  63:Libraries/uC-OSIII/os_core.c ****     OSInitHook();                                           /* Call port specific initialization co
  42              		.loc 1 63 0
  43 0008 FFF7FEFF 		bl	OSInitHook
  64:Libraries/uC-OSIII/os_core.c **** 
  65:Libraries/uC-OSIII/os_core.c ****     OSIntNestingCtr                 = (OS_NESTING_CTR)0;    /* Clear the interrupt nesting counter 
  44              		.loc 1 65 0
  45 000c 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
  46 0010 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
  47 0014 4FF00002 		mov	r2, #0
  48 0018 1A70     		strb	r2, [r3, #0]
  66:Libraries/uC-OSIII/os_core.c **** 
  67:Libraries/uC-OSIII/os_core.c ****     OSRunning                       =  OS_STATE_OS_STOPPED; /* Indicate that multitasking not start
  49              		.loc 1 67 0
  50 001a 40F20003 		movw	r3, #:lower16:OSRunning
  51 001e C0F20003 		movt	r3, #:upper16:OSRunning
  52 0022 4FF00002 		mov	r2, #0
  53 0026 1A70     		strb	r2, [r3, #0]
  68:Libraries/uC-OSIII/os_core.c **** 
  69:Libraries/uC-OSIII/os_core.c ****     OSSchedLockNestingCtr           = (OS_NESTING_CTR)0;    /* Clear the scheduling lock counter   
  54              		.loc 1 69 0
  55 0028 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
  56 002c C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
  57 0030 4FF00002 		mov	r2, #0
  58 0034 1A70     		strb	r2, [r3, #0]
  70:Libraries/uC-OSIII/os_core.c **** 
  71:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_SCHED_LOCK_TIME_MEAS_EN > 0u
  72:Libraries/uC-OSIII/os_core.c ****     OSSchedLockTimeBegin            = (CPU_TS)0;
  59              		.loc 1 72 0
  60 0036 40F20003 		movw	r3, #:lower16:OSSchedLockTimeBegin
  61 003a C0F20003 		movt	r3, #:upper16:OSSchedLockTimeBegin
  62 003e 4FF00002 		mov	r2, #0
  63 0042 1A60     		str	r2, [r3, #0]
  73:Libraries/uC-OSIII/os_core.c ****     OSSchedLockTimeMax              = (CPU_TS)0;
  64              		.loc 1 73 0
  65 0044 40F20003 		movw	r3, #:lower16:OSSchedLockTimeMax
  66 0048 C0F20003 		movt	r3, #:upper16:OSSchedLockTimeMax
  67 004c 4FF00002 		mov	r2, #0
  68 0050 1A60     		str	r2, [r3, #0]
  74:Libraries/uC-OSIII/os_core.c ****     OSSchedLockTimeMaxCur           = (CPU_TS)0;
  69              		.loc 1 74 0
  70 0052 40F20003 		movw	r3, #:lower16:OSSchedLockTimeMaxCur
  71 0056 C0F20003 		movt	r3, #:upper16:OSSchedLockTimeMaxCur
  72 005a 4FF00002 		mov	r2, #0
  73 005e 1A60     		str	r2, [r3, #0]
  75:Libraries/uC-OSIII/os_core.c **** #endif
  76:Libraries/uC-OSIII/os_core.c **** 
  77:Libraries/uC-OSIII/os_core.c **** #ifdef OS_SAFETY_CRITICAL_IEC61508
  78:Libraries/uC-OSIII/os_core.c ****     OSSafetyCriticalStartFlag       =  DEF_FALSE;
  79:Libraries/uC-OSIII/os_core.c **** #endif
  80:Libraries/uC-OSIII/os_core.c **** 
  81:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_SCHED_ROUND_ROBIN_EN > 0u
  82:Libraries/uC-OSIII/os_core.c ****     OSSchedRoundRobinEn             = DEF_FALSE;
  74              		.loc 1 82 0
  75 0060 40F20003 		movw	r3, #:lower16:OSSchedRoundRobinEn
  76 0064 C0F20003 		movt	r3, #:upper16:OSSchedRoundRobinEn
  77 0068 4FF00002 		mov	r2, #0
  78 006c 1A70     		strb	r2, [r3, #0]
  83:Libraries/uC-OSIII/os_core.c ****     OSSchedRoundRobinDfltTimeQuanta = OSCfg_TickRate_Hz / 10u;
  79              		.loc 1 83 0
  80 006e 40F20003 		movw	r3, #:lower16:OSCfg_TickRate_Hz
  81 0072 C0F20003 		movt	r3, #:upper16:OSCfg_TickRate_Hz
  82 0076 1A68     		ldr	r2, [r3, #0]
  83 0078 4CF6CD43 		movw	r3, #52429
  84 007c CCF6CC43 		movt	r3, 52428
  85 0080 A3FB0213 		umull	r1, r3, r3, r2
  86 0084 4FEAD302 		lsr	r2, r3, #3
  87 0088 40F20003 		movw	r3, #:lower16:OSSchedRoundRobinDfltTimeQuanta
  88 008c C0F20003 		movt	r3, #:upper16:OSSchedRoundRobinDfltTimeQuanta
  89 0090 1A60     		str	r2, [r3, #0]
  84:Libraries/uC-OSIII/os_core.c **** #endif
  85:Libraries/uC-OSIII/os_core.c **** 
  86:Libraries/uC-OSIII/os_core.c ****     if (OSCfg_ISRStkSize > (CPU_STK_SIZE)0) {
  90              		.loc 1 86 0
  91 0092 40F20003 		movw	r3, #:lower16:OSCfg_ISRStkSize
  92 0096 C0F20003 		movt	r3, #:upper16:OSCfg_ISRStkSize
  93 009a 1B68     		ldr	r3, [r3, #0]
  94 009c 002B     		cmp	r3, #0
  95 009e 1ED0     		beq	.L2
  87:Libraries/uC-OSIII/os_core.c ****         p_stk = OSCfg_ISRStkBasePtr;                        /* Clear exception stack for stack chec
  96              		.loc 1 87 0
  97 00a0 40F20003 		movw	r3, #:lower16:OSCfg_ISRStkBasePtr
  98 00a4 C0F20003 		movt	r3, #:upper16:OSCfg_ISRStkBasePtr
  99 00a8 1B68     		ldr	r3, [r3, #0]
 100 00aa FB60     		str	r3, [r7, #12]
  88:Libraries/uC-OSIII/os_core.c ****         if (p_stk != (CPU_STK *)0) {
 101              		.loc 1 88 0
 102 00ac FB68     		ldr	r3, [r7, #12]
 103 00ae 002B     		cmp	r3, #0
 104 00b0 15D0     		beq	.L2
  89:Libraries/uC-OSIII/os_core.c ****             size  = OSCfg_ISRStkSize;
 105              		.loc 1 89 0
 106 00b2 40F20003 		movw	r3, #:lower16:OSCfg_ISRStkSize
 107 00b6 C0F20003 		movt	r3, #:upper16:OSCfg_ISRStkSize
 108 00ba 1B68     		ldr	r3, [r3, #0]
 109 00bc BB60     		str	r3, [r7, #8]
  90:Libraries/uC-OSIII/os_core.c ****             while (size > (CPU_STK_SIZE)0) {
 110              		.loc 1 90 0
 111 00be 0BE0     		b	.L3
 112              	.L4:
  91:Libraries/uC-OSIII/os_core.c ****                 size--;
 113              		.loc 1 91 0
 114 00c0 BB68     		ldr	r3, [r7, #8]
 115 00c2 03F1FF33 		add	r3, r3, #-1
 116 00c6 BB60     		str	r3, [r7, #8]
  92:Libraries/uC-OSIII/os_core.c ****                 *p_stk = (CPU_STK)0;
 117              		.loc 1 92 0
 118 00c8 FB68     		ldr	r3, [r7, #12]
 119 00ca 4FF00002 		mov	r2, #0
 120 00ce 1A60     		str	r2, [r3, #0]
  93:Libraries/uC-OSIII/os_core.c ****                 p_stk++;
 121              		.loc 1 93 0
 122 00d0 FB68     		ldr	r3, [r7, #12]
 123 00d2 03F10403 		add	r3, r3, #4
 124 00d6 FB60     		str	r3, [r7, #12]
 125              	.L3:
  90:Libraries/uC-OSIII/os_core.c ****             while (size > (CPU_STK_SIZE)0) {
 126              		.loc 1 90 0 discriminator 1
 127 00d8 BB68     		ldr	r3, [r7, #8]
 128 00da 002B     		cmp	r3, #0
 129 00dc F0D1     		bne	.L4
 130              	.L2:
  94:Libraries/uC-OSIII/os_core.c ****             }
  95:Libraries/uC-OSIII/os_core.c ****         }
  96:Libraries/uC-OSIII/os_core.c ****     }
  97:Libraries/uC-OSIII/os_core.c **** 
  98:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_APP_HOOKS_EN > 0u
  99:Libraries/uC-OSIII/os_core.c ****     OS_AppTaskCreateHookPtr = (OS_APP_HOOK_TCB )0;          /* Clear application hook pointers     
 131              		.loc 1 99 0
 132 00de 40F20003 		movw	r3, #:lower16:OS_AppTaskCreateHookPtr
 133 00e2 C0F20003 		movt	r3, #:upper16:OS_AppTaskCreateHookPtr
 134 00e6 4FF00002 		mov	r2, #0
 135 00ea 1A60     		str	r2, [r3, #0]
 100:Libraries/uC-OSIII/os_core.c ****     OS_AppTaskDelHookPtr    = (OS_APP_HOOK_TCB )0;
 136              		.loc 1 100 0
 137 00ec 40F20003 		movw	r3, #:lower16:OS_AppTaskDelHookPtr
 138 00f0 C0F20003 		movt	r3, #:upper16:OS_AppTaskDelHookPtr
 139 00f4 4FF00002 		mov	r2, #0
 140 00f8 1A60     		str	r2, [r3, #0]
 101:Libraries/uC-OSIII/os_core.c ****     OS_AppTaskReturnHookPtr = (OS_APP_HOOK_TCB )0;
 141              		.loc 1 101 0
 142 00fa 40F20003 		movw	r3, #:lower16:OS_AppTaskReturnHookPtr
 143 00fe C0F20003 		movt	r3, #:upper16:OS_AppTaskReturnHookPtr
 144 0102 4FF00002 		mov	r2, #0
 145 0106 1A60     		str	r2, [r3, #0]
 102:Libraries/uC-OSIII/os_core.c **** 
 103:Libraries/uC-OSIII/os_core.c ****     OS_AppIdleTaskHookPtr   = (OS_APP_HOOK_VOID)0;
 146              		.loc 1 103 0
 147 0108 40F20003 		movw	r3, #:lower16:OS_AppIdleTaskHookPtr
 148 010c C0F20003 		movt	r3, #:upper16:OS_AppIdleTaskHookPtr
 149 0110 4FF00002 		mov	r2, #0
 150 0114 1A60     		str	r2, [r3, #0]
 104:Libraries/uC-OSIII/os_core.c ****     OS_AppStatTaskHookPtr   = (OS_APP_HOOK_VOID)0;
 151              		.loc 1 104 0
 152 0116 40F20003 		movw	r3, #:lower16:OS_AppStatTaskHookPtr
 153 011a C0F20003 		movt	r3, #:upper16:OS_AppStatTaskHookPtr
 154 011e 4FF00002 		mov	r2, #0
 155 0122 1A60     		str	r2, [r3, #0]
 105:Libraries/uC-OSIII/os_core.c ****     OS_AppTaskSwHookPtr     = (OS_APP_HOOK_VOID)0;
 156              		.loc 1 105 0
 157 0124 40F20003 		movw	r3, #:lower16:OS_AppTaskSwHookPtr
 158 0128 C0F20003 		movt	r3, #:upper16:OS_AppTaskSwHookPtr
 159 012c 4FF00002 		mov	r2, #0
 160 0130 1A60     		str	r2, [r3, #0]
 106:Libraries/uC-OSIII/os_core.c ****     OS_AppTimeTickHookPtr   = (OS_APP_HOOK_VOID)0;
 161              		.loc 1 106 0
 162 0132 40F20003 		movw	r3, #:lower16:OS_AppTimeTickHookPtr
 163 0136 C0F20003 		movt	r3, #:upper16:OS_AppTimeTickHookPtr
 164 013a 4FF00002 		mov	r2, #0
 165 013e 1A60     		str	r2, [r3, #0]
 107:Libraries/uC-OSIII/os_core.c **** #endif
 108:Libraries/uC-OSIII/os_core.c **** 
 109:Libraries/uC-OSIII/os_core.c ****     OS_PrioInit();                                          /* Initialize the priority bitmap table
 166              		.loc 1 109 0
 167 0140 FFF7FEFF 		bl	OS_PrioInit
 110:Libraries/uC-OSIII/os_core.c **** 
 111:Libraries/uC-OSIII/os_core.c ****     OS_RdyListInit();                                       /* Initialize the Ready List           
 168              		.loc 1 111 0
 169 0144 FFF7FEFF 		bl	OS_RdyListInit
 112:Libraries/uC-OSIII/os_core.c **** 
 113:Libraries/uC-OSIII/os_core.c ****     OS_TaskInit(p_err);                                     /* Initialize the task manager         
 170              		.loc 1 113 0
 171 0148 7868     		ldr	r0, [r7, #4]
 172 014a FFF7FEFF 		bl	OS_TaskInit
 114:Libraries/uC-OSIII/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 173              		.loc 1 114 0
 174 014e 7B68     		ldr	r3, [r7, #4]
 175 0150 1B88     		ldrh	r3, [r3, #0]
 176 0152 002B     		cmp	r3, #0
 177 0154 51D1     		bne	.L18
 178              	.L5:
 115:Libraries/uC-OSIII/os_core.c ****         return;
 116:Libraries/uC-OSIII/os_core.c ****     }
 117:Libraries/uC-OSIII/os_core.c **** 
 118:Libraries/uC-OSIII/os_core.c ****     OS_IdleTaskInit(p_err);                                 /* Initialize the Idle Task            
 179              		.loc 1 118 0
 180 0156 7868     		ldr	r0, [r7, #4]
 181 0158 FFF7FEFF 		bl	OS_IdleTaskInit
 119:Libraries/uC-OSIII/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 182              		.loc 1 119 0
 183 015c 7B68     		ldr	r3, [r7, #4]
 184 015e 1B88     		ldrh	r3, [r3, #0]
 185 0160 002B     		cmp	r3, #0
 186 0162 4CD1     		bne	.L19
 187              	.L7:
 120:Libraries/uC-OSIII/os_core.c ****         return;
 121:Libraries/uC-OSIII/os_core.c ****     }
 122:Libraries/uC-OSIII/os_core.c **** 
 123:Libraries/uC-OSIII/os_core.c **** 
 124:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_ISR_POST_DEFERRED_EN > 0u
 125:Libraries/uC-OSIII/os_core.c ****     OS_IntQTaskInit(p_err);                                 /* Initialize the Interrupt Queue Handl
 188              		.loc 1 125 0
 189 0164 7868     		ldr	r0, [r7, #4]
 190 0166 FFF7FEFF 		bl	OS_IntQTaskInit
 126:Libraries/uC-OSIII/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 191              		.loc 1 126 0
 192 016a 7B68     		ldr	r3, [r7, #4]
 193 016c 1B88     		ldrh	r3, [r3, #0]
 194 016e 002B     		cmp	r3, #0
 195 0170 47D1     		bne	.L20
 196              	.L8:
 127:Libraries/uC-OSIII/os_core.c ****         return;
 128:Libraries/uC-OSIII/os_core.c ****     }
 129:Libraries/uC-OSIII/os_core.c **** #endif
 130:Libraries/uC-OSIII/os_core.c **** 
 131:Libraries/uC-OSIII/os_core.c ****     OS_TickTaskInit(p_err);                                 /* Initialize the Tick Task            
 197              		.loc 1 131 0
 198 0172 7868     		ldr	r0, [r7, #4]
 199 0174 FFF7FEFF 		bl	OS_TickTaskInit
 132:Libraries/uC-OSIII/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 200              		.loc 1 132 0
 201 0178 7B68     		ldr	r3, [r7, #4]
 202 017a 1B88     		ldrh	r3, [r3, #0]
 203 017c 002B     		cmp	r3, #0
 204 017e 42D1     		bne	.L21
 205              	.L9:
 133:Libraries/uC-OSIII/os_core.c ****         return;
 134:Libraries/uC-OSIII/os_core.c ****     }
 135:Libraries/uC-OSIII/os_core.c **** 
 136:Libraries/uC-OSIII/os_core.c **** 
 137:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_STAT_TASK_EN > 0u                                /* Initialize the Statistic Task       
 138:Libraries/uC-OSIII/os_core.c ****     OS_StatTaskInit(p_err);
 206              		.loc 1 138 0
 207 0180 7868     		ldr	r0, [r7, #4]
 208 0182 FFF7FEFF 		bl	OS_StatTaskInit
 139:Libraries/uC-OSIII/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 209              		.loc 1 139 0
 210 0186 7B68     		ldr	r3, [r7, #4]
 211 0188 1B88     		ldrh	r3, [r3, #0]
 212 018a 002B     		cmp	r3, #0
 213 018c 3DD1     		bne	.L22
 214              	.L10:
 140:Libraries/uC-OSIII/os_core.c ****         return;
 141:Libraries/uC-OSIII/os_core.c ****     }
 142:Libraries/uC-OSIII/os_core.c **** #endif
 143:Libraries/uC-OSIII/os_core.c **** 
 144:Libraries/uC-OSIII/os_core.c **** 
 145:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_FLAG_EN > 0u                                     /* Initialize the Event Flag module    
 146:Libraries/uC-OSIII/os_core.c ****     OS_FlagInit(p_err);
 215              		.loc 1 146 0
 216 018e 7868     		ldr	r0, [r7, #4]
 217 0190 FFF7FEFF 		bl	OS_FlagInit
 147:Libraries/uC-OSIII/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 218              		.loc 1 147 0
 219 0194 7B68     		ldr	r3, [r7, #4]
 220 0196 1B88     		ldrh	r3, [r3, #0]
 221 0198 002B     		cmp	r3, #0
 222 019a 38D1     		bne	.L23
 223              	.L11:
 148:Libraries/uC-OSIII/os_core.c ****         return;
 149:Libraries/uC-OSIII/os_core.c ****     }
 150:Libraries/uC-OSIII/os_core.c **** #endif
 151:Libraries/uC-OSIII/os_core.c **** 
 152:Libraries/uC-OSIII/os_core.c **** 
 153:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_MEM_EN > 0u                                      /* Initialize the Memory Manager module
 154:Libraries/uC-OSIII/os_core.c ****     OS_MemInit(p_err);
 224              		.loc 1 154 0
 225 019c 7868     		ldr	r0, [r7, #4]
 226 019e FFF7FEFF 		bl	OS_MemInit
 155:Libraries/uC-OSIII/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 227              		.loc 1 155 0
 228 01a2 7B68     		ldr	r3, [r7, #4]
 229 01a4 1B88     		ldrh	r3, [r3, #0]
 230 01a6 002B     		cmp	r3, #0
 231 01a8 33D1     		bne	.L24
 232              	.L12:
 156:Libraries/uC-OSIII/os_core.c ****         return;
 157:Libraries/uC-OSIII/os_core.c ****     }
 158:Libraries/uC-OSIII/os_core.c **** #endif
 159:Libraries/uC-OSIII/os_core.c **** 
 160:Libraries/uC-OSIII/os_core.c **** 
 161:Libraries/uC-OSIII/os_core.c **** #if (OS_MSG_EN) > 0u                                        /* Initialize the free list of OS_MSGs 
 162:Libraries/uC-OSIII/os_core.c ****     OS_MsgPoolInit(p_err);
 233              		.loc 1 162 0
 234 01aa 7868     		ldr	r0, [r7, #4]
 235 01ac FFF7FEFF 		bl	OS_MsgPoolInit
 163:Libraries/uC-OSIII/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 236              		.loc 1 163 0
 237 01b0 7B68     		ldr	r3, [r7, #4]
 238 01b2 1B88     		ldrh	r3, [r3, #0]
 239 01b4 002B     		cmp	r3, #0
 240 01b6 2ED1     		bne	.L25
 241              	.L13:
 164:Libraries/uC-OSIII/os_core.c ****         return;
 165:Libraries/uC-OSIII/os_core.c ****     }
 166:Libraries/uC-OSIII/os_core.c **** #endif
 167:Libraries/uC-OSIII/os_core.c **** 
 168:Libraries/uC-OSIII/os_core.c **** 
 169:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_MUTEX_EN > 0u                                    /* Initialize the Mutex Manager module 
 170:Libraries/uC-OSIII/os_core.c ****     OS_MutexInit(p_err);
 242              		.loc 1 170 0
 243 01b8 7868     		ldr	r0, [r7, #4]
 244 01ba FFF7FEFF 		bl	OS_MutexInit
 171:Libraries/uC-OSIII/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 245              		.loc 1 171 0
 246 01be 7B68     		ldr	r3, [r7, #4]
 247 01c0 1B88     		ldrh	r3, [r3, #0]
 248 01c2 002B     		cmp	r3, #0
 249 01c4 29D1     		bne	.L26
 250              	.L14:
 172:Libraries/uC-OSIII/os_core.c ****         return;
 173:Libraries/uC-OSIII/os_core.c ****     }
 174:Libraries/uC-OSIII/os_core.c **** #endif
 175:Libraries/uC-OSIII/os_core.c **** 
 176:Libraries/uC-OSIII/os_core.c **** 
 177:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_Q_EN > 0u
 178:Libraries/uC-OSIII/os_core.c ****     OS_QInit(p_err);                                        /* Initialize the Message Queue Manager
 251              		.loc 1 178 0
 252 01c6 7868     		ldr	r0, [r7, #4]
 253 01c8 FFF7FEFF 		bl	OS_QInit
 179:Libraries/uC-OSIII/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 254              		.loc 1 179 0
 255 01cc 7B68     		ldr	r3, [r7, #4]
 256 01ce 1B88     		ldrh	r3, [r3, #0]
 257 01d0 002B     		cmp	r3, #0
 258 01d2 24D1     		bne	.L27
 259              	.L15:
 180:Libraries/uC-OSIII/os_core.c ****         return;
 181:Libraries/uC-OSIII/os_core.c ****     }
 182:Libraries/uC-OSIII/os_core.c **** #endif
 183:Libraries/uC-OSIII/os_core.c **** 
 184:Libraries/uC-OSIII/os_core.c **** 
 185:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_SEM_EN > 0u                                      /* Initialize the Semaphore Manager mod
 186:Libraries/uC-OSIII/os_core.c ****     OS_SemInit(p_err);
 260              		.loc 1 186 0
 261 01d4 7868     		ldr	r0, [r7, #4]
 262 01d6 FFF7FEFF 		bl	OS_SemInit
 187:Libraries/uC-OSIII/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 263              		.loc 1 187 0
 264 01da 7B68     		ldr	r3, [r7, #4]
 265 01dc 1B88     		ldrh	r3, [r3, #0]
 266 01de 002B     		cmp	r3, #0
 267 01e0 1FD1     		bne	.L28
 268              	.L16:
 188:Libraries/uC-OSIII/os_core.c ****         return;
 189:Libraries/uC-OSIII/os_core.c ****     }
 190:Libraries/uC-OSIII/os_core.c **** #endif
 191:Libraries/uC-OSIII/os_core.c **** 
 192:Libraries/uC-OSIII/os_core.c **** 
 193:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_TMR_EN > 0u                                      /* Initialize the Timer Manager module 
 194:Libraries/uC-OSIII/os_core.c ****     OS_TmrInit(p_err);
 269              		.loc 1 194 0
 270 01e2 7868     		ldr	r0, [r7, #4]
 271 01e4 FFF7FEFF 		bl	OS_TmrInit
 195:Libraries/uC-OSIII/os_core.c ****     if (*p_err != OS_ERR_NONE) {
 272              		.loc 1 195 0
 273 01e8 7B68     		ldr	r3, [r7, #4]
 274 01ea 1B88     		ldrh	r3, [r3, #0]
 275 01ec 002B     		cmp	r3, #0
 276 01ee 1AD1     		bne	.L29
 277              	.L17:
 196:Libraries/uC-OSIII/os_core.c ****         return;
 197:Libraries/uC-OSIII/os_core.c ****     }
 198:Libraries/uC-OSIII/os_core.c **** #endif
 199:Libraries/uC-OSIII/os_core.c **** 
 200:Libraries/uC-OSIII/os_core.c **** 
 201:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_DBG_EN > 0u
 202:Libraries/uC-OSIII/os_core.c ****     OS_Dbg_Init();
 278              		.loc 1 202 0
 279 01f0 FFF7FEFF 		bl	OS_Dbg_Init
 203:Libraries/uC-OSIII/os_core.c **** #endif
 204:Libraries/uC-OSIII/os_core.c **** 
 205:Libraries/uC-OSIII/os_core.c ****     OSCfg_Init();
 280              		.loc 1 205 0
 281 01f4 FFF7FEFF 		bl	OSCfg_Init
 282 01f8 16E0     		b	.L1
 283              	.L18:
 115:Libraries/uC-OSIII/os_core.c ****         return;
 284              		.loc 1 115 0
 285 01fa 00BF     		nop
 286 01fc 14E0     		b	.L1
 287              	.L19:
 120:Libraries/uC-OSIII/os_core.c ****         return;
 288              		.loc 1 120 0
 289 01fe 00BF     		nop
 290 0200 12E0     		b	.L1
 291              	.L20:
 127:Libraries/uC-OSIII/os_core.c ****         return;
 292              		.loc 1 127 0
 293 0202 00BF     		nop
 294 0204 10E0     		b	.L1
 295              	.L21:
 133:Libraries/uC-OSIII/os_core.c ****         return;
 296              		.loc 1 133 0
 297 0206 00BF     		nop
 298 0208 0EE0     		b	.L1
 299              	.L22:
 140:Libraries/uC-OSIII/os_core.c ****         return;
 300              		.loc 1 140 0
 301 020a 00BF     		nop
 302 020c 0CE0     		b	.L1
 303              	.L23:
 148:Libraries/uC-OSIII/os_core.c ****         return;
 304              		.loc 1 148 0
 305 020e 00BF     		nop
 306 0210 0AE0     		b	.L1
 307              	.L24:
 156:Libraries/uC-OSIII/os_core.c ****         return;
 308              		.loc 1 156 0
 309 0212 00BF     		nop
 310 0214 08E0     		b	.L1
 311              	.L25:
 164:Libraries/uC-OSIII/os_core.c ****         return;
 312              		.loc 1 164 0
 313 0216 00BF     		nop
 314 0218 06E0     		b	.L1
 315              	.L26:
 172:Libraries/uC-OSIII/os_core.c ****         return;
 316              		.loc 1 172 0
 317 021a 00BF     		nop
 318 021c 04E0     		b	.L1
 319              	.L27:
 180:Libraries/uC-OSIII/os_core.c ****         return;
 320              		.loc 1 180 0
 321 021e 00BF     		nop
 322 0220 02E0     		b	.L1
 323              	.L28:
 188:Libraries/uC-OSIII/os_core.c ****         return;
 324              		.loc 1 188 0
 325 0222 00BF     		nop
 326 0224 00E0     		b	.L1
 327              	.L29:
 196:Libraries/uC-OSIII/os_core.c ****         return;
 328              		.loc 1 196 0
 329 0226 00BF     		nop
 330              	.L1:
 206:Libraries/uC-OSIII/os_core.c **** }
 331              		.loc 1 206 0
 332 0228 07F11007 		add	r7, r7, #16
 333 022c BD46     		mov	sp, r7
 334 022e 80BD     		pop	{r7, pc}
 335              		.cfi_endproc
 336              	.LFE0:
 338              		.align	2
 339              		.global	OSIntEnter
 340              		.thumb
 341              		.thumb_func
 343              	OSIntEnter:
 344              	.LFB1:
 207:Libraries/uC-OSIII/os_core.c **** 
 208:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 209:Libraries/uC-OSIII/os_core.c **** /*
 210:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 211:Libraries/uC-OSIII/os_core.c **** *                                                      ENTER ISR
 212:Libraries/uC-OSIII/os_core.c **** *
 213:Libraries/uC-OSIII/os_core.c **** * Description: This function is used to notify uC/OS-III that you are about to service an interrupt
 214:Libraries/uC-OSIII/os_core.c **** *              (ISR).  This allows uC/OS-III to keep track of interrupt nesting and thus only perfo
 215:Libraries/uC-OSIII/os_core.c **** *              the last nested ISR.
 216:Libraries/uC-OSIII/os_core.c **** *
 217:Libraries/uC-OSIII/os_core.c **** * Arguments  : none
 218:Libraries/uC-OSIII/os_core.c **** *
 219:Libraries/uC-OSIII/os_core.c **** * Returns    : none
 220:Libraries/uC-OSIII/os_core.c **** *
 221:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function MUST be called with interrupts already disabled
 222:Libraries/uC-OSIII/os_core.c **** *
 223:Libraries/uC-OSIII/os_core.c **** *              2) Your ISR can directly increment 'OSIntNestingCtr' without calling this function b
 224:Libraries/uC-OSIII/os_core.c **** *                 been declared 'global', the port is actually considered part of the OS and thus i
 225:Libraries/uC-OSIII/os_core.c **** *                 uC/OS-III variables.
 226:Libraries/uC-OSIII/os_core.c **** *
 227:Libraries/uC-OSIII/os_core.c **** *              3) You MUST still call OSIntExit() even though you increment 'OSIntNestingCtr' direc
 228:Libraries/uC-OSIII/os_core.c **** *
 229:Libraries/uC-OSIII/os_core.c **** *              4) You MUST invoke OSIntEnter() and OSIntExit() in pair.  In other words, for every 
 230:Libraries/uC-OSIII/os_core.c **** *                 (or direct increment to OSIntNestingCtr) at the beginning of the ISR you MUST hav
 231:Libraries/uC-OSIII/os_core.c **** *                 at the end of the ISR.
 232:Libraries/uC-OSIII/os_core.c **** *
 233:Libraries/uC-OSIII/os_core.c **** *              5) You are allowed to nest interrupts up to 250 levels deep.
 234:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 235:Libraries/uC-OSIII/os_core.c **** */
 236:Libraries/uC-OSIII/os_core.c **** 
 237:Libraries/uC-OSIII/os_core.c **** void  OSIntEnter (void)
 238:Libraries/uC-OSIII/os_core.c **** {
 345              		.loc 1 238 0
 346              		.cfi_startproc
 347              		@ args = 0, pretend = 0, frame = 0
 348              		@ frame_needed = 1, uses_anonymous_args = 0
 349              		@ link register save eliminated.
 350 0230 80B4     		push	{r7}
 351              	.LCFI3:
 352              		.cfi_def_cfa_offset 4
 353              		.cfi_offset 7, -4
 354 0232 00AF     		add	r7, sp, #0
 355              	.LCFI4:
 356              		.cfi_def_cfa_register 7
 239:Libraries/uC-OSIII/os_core.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                 /* Is OS running?                      
 357              		.loc 1 239 0
 358 0234 40F20003 		movw	r3, #:lower16:OSRunning
 359 0238 C0F20003 		movt	r3, #:upper16:OSRunning
 360 023c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 361 023e 012B     		cmp	r3, #1
 362 0240 14D1     		bne	.L34
 363              	.L31:
 240:Libraries/uC-OSIII/os_core.c ****         return;                                             /* No                                  
 241:Libraries/uC-OSIII/os_core.c ****     }
 242:Libraries/uC-OSIII/os_core.c **** 
 243:Libraries/uC-OSIII/os_core.c ****     if (OSIntNestingCtr >= (OS_NESTING_CTR)250u) {          /* Have we nested past 250 levels?     
 364              		.loc 1 243 0
 365 0242 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 366 0246 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 367 024a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 368 024c F92B     		cmp	r3, #249
 369 024e 0FD8     		bhi	.L35
 370              	.L33:
 244:Libraries/uC-OSIII/os_core.c ****         return;                                             /* Yes                                 
 245:Libraries/uC-OSIII/os_core.c ****     }
 246:Libraries/uC-OSIII/os_core.c **** 
 247:Libraries/uC-OSIII/os_core.c ****     OSIntNestingCtr++;                                      /* Increment ISR nesting level         
 371              		.loc 1 247 0
 372 0250 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 373 0254 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 374 0258 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 375 025a 03F10103 		add	r3, r3, #1
 376 025e DAB2     		uxtb	r2, r3
 377 0260 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 378 0264 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 379 0268 1A70     		strb	r2, [r3, #0]
 380 026a 02E0     		b	.L30
 381              	.L34:
 240:Libraries/uC-OSIII/os_core.c ****         return;                                             /* No                                  
 382              		.loc 1 240 0
 383 026c 00BF     		nop
 384 026e 00E0     		b	.L30
 385              	.L35:
 244:Libraries/uC-OSIII/os_core.c ****         return;                                             /* Yes                                 
 386              		.loc 1 244 0
 387 0270 00BF     		nop
 388              	.L30:
 248:Libraries/uC-OSIII/os_core.c **** }
 389              		.loc 1 248 0
 390 0272 BD46     		mov	sp, r7
 391 0274 80BC     		pop	{r7}
 392 0276 7047     		bx	lr
 393              		.cfi_endproc
 394              	.LFE1:
 396              		.align	2
 397              		.global	OSIntExit
 398              		.thumb
 399              		.thumb_func
 401              	OSIntExit:
 402              	.LFB2:
 249:Libraries/uC-OSIII/os_core.c **** 
 250:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 251:Libraries/uC-OSIII/os_core.c **** /*
 252:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 253:Libraries/uC-OSIII/os_core.c **** *                                                       EXIT ISR
 254:Libraries/uC-OSIII/os_core.c **** *
 255:Libraries/uC-OSIII/os_core.c **** * Description: This function is used to notify uC/OS-III that you have completed servicing an ISR. 
 256:Libraries/uC-OSIII/os_core.c **** *              ISR has completed, uC/OS-III will call the scheduler to determine whether a new, hig
 257:Libraries/uC-OSIII/os_core.c **** *              ready to run.
 258:Libraries/uC-OSIII/os_core.c **** *
 259:Libraries/uC-OSIII/os_core.c **** * Arguments  : none
 260:Libraries/uC-OSIII/os_core.c **** *
 261:Libraries/uC-OSIII/os_core.c **** * Returns    : none
 262:Libraries/uC-OSIII/os_core.c **** *
 263:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) You MUST invoke OSIntEnter() and OSIntExit() in pair.  In other words, for every 
 264:Libraries/uC-OSIII/os_core.c **** *                 (or direct increment to OSIntNestingCtr) at the beginning of the ISR you MUST hav
 265:Libraries/uC-OSIII/os_core.c **** *                 at the end of the ISR.
 266:Libraries/uC-OSIII/os_core.c **** *
 267:Libraries/uC-OSIII/os_core.c **** *              2) Rescheduling is prevented when the scheduler is locked (see OSSchedLock())
 268:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 269:Libraries/uC-OSIII/os_core.c **** */
 270:Libraries/uC-OSIII/os_core.c **** 
 271:Libraries/uC-OSIII/os_core.c **** void  OSIntExit (void)
 272:Libraries/uC-OSIII/os_core.c **** {
 403              		.loc 1 272 0
 404              		.cfi_startproc
 405              		@ args = 0, pretend = 0, frame = 8
 406              		@ frame_needed = 1, uses_anonymous_args = 0
 407 0278 80B5     		push	{r7, lr}
 408              	.LCFI5:
 409              		.cfi_def_cfa_offset 8
 410              		.cfi_offset 14, -4
 411              		.cfi_offset 7, -8
 412 027a 82B0     		sub	sp, sp, #8
 413              	.LCFI6:
 414              		.cfi_def_cfa_offset 16
 415 027c 00AF     		add	r7, sp, #0
 416              	.LCFI7:
 417              		.cfi_def_cfa_register 7
 273:Libraries/uC-OSIII/os_core.c ****     CPU_SR_ALLOC();
 418              		.loc 1 273 0
 419 027e 4FF00003 		mov	r3, #0
 420 0282 7B60     		str	r3, [r7, #4]
 274:Libraries/uC-OSIII/os_core.c **** 
 275:Libraries/uC-OSIII/os_core.c **** 
 276:Libraries/uC-OSIII/os_core.c **** 
 277:Libraries/uC-OSIII/os_core.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                 /* Has the OS started?                 
 421              		.loc 1 277 0
 422 0284 40F20003 		movw	r3, #:lower16:OSRunning
 423 0288 C0F20003 		movt	r3, #:upper16:OSRunning
 424 028c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 425 028e 012B     		cmp	r3, #1
 426 0290 79D1     		bne	.L43
 427              	.L37:
 278:Libraries/uC-OSIII/os_core.c ****         return;                                             /* No                                  
 279:Libraries/uC-OSIII/os_core.c ****     }
 280:Libraries/uC-OSIII/os_core.c **** 
 281:Libraries/uC-OSIII/os_core.c ****     if (OSIntNestingCtr == (OS_NESTING_CTR)0) {             /* Prevent OSIntNestingCtr from wrappin
 428              		.loc 1 281 0
 429 0292 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 430 0296 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 431 029a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 432 029c 002B     		cmp	r3, #0
 433 029e 74D0     		beq	.L44
 434              	.L39:
 282:Libraries/uC-OSIII/os_core.c ****         return;
 283:Libraries/uC-OSIII/os_core.c ****     }
 284:Libraries/uC-OSIII/os_core.c **** 
 285:Libraries/uC-OSIII/os_core.c ****     CPU_INT_DIS();
 435              		.loc 1 285 0
 436 02a0 FFF7FEFF 		bl	CPU_SR_Save
 437 02a4 7860     		str	r0, [r7, #4]
 286:Libraries/uC-OSIII/os_core.c ****     OSIntNestingCtr--;
 438              		.loc 1 286 0
 439 02a6 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 440 02aa C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 441 02ae 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 442 02b0 03F1FF33 		add	r3, r3, #-1
 443 02b4 DAB2     		uxtb	r2, r3
 444 02b6 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 445 02ba C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 446 02be 1A70     		strb	r2, [r3, #0]
 287:Libraries/uC-OSIII/os_core.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* ISRs still nested?                  
 447              		.loc 1 287 0
 448 02c0 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 449 02c4 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 450 02c8 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 451 02ca 002B     		cmp	r3, #0
 452 02cc 03D0     		beq	.L40
 288:Libraries/uC-OSIII/os_core.c ****         CPU_INT_EN();                                       /* Yes                                 
 453              		.loc 1 288 0
 454 02ce 7868     		ldr	r0, [r7, #4]
 455 02d0 FFF7FEFF 		bl	CPU_SR_Restore
 289:Libraries/uC-OSIII/os_core.c ****         return;
 456              		.loc 1 289 0
 457 02d4 5AE0     		b	.L36
 458              	.L40:
 290:Libraries/uC-OSIII/os_core.c ****     }
 291:Libraries/uC-OSIII/os_core.c **** 
 292:Libraries/uC-OSIII/os_core.c ****     if (OSSchedLockNestingCtr > (OS_NESTING_CTR)0) {        /* Scheduler still locked?             
 459              		.loc 1 292 0
 460 02d6 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 461 02da C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 462 02de 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 463 02e0 002B     		cmp	r3, #0
 464 02e2 03D0     		beq	.L41
 293:Libraries/uC-OSIII/os_core.c ****         CPU_INT_EN();                                       /* Yes                                 
 465              		.loc 1 293 0
 466 02e4 7868     		ldr	r0, [r7, #4]
 467 02e6 FFF7FEFF 		bl	CPU_SR_Restore
 294:Libraries/uC-OSIII/os_core.c ****         return;
 468              		.loc 1 294 0
 469 02ea 4FE0     		b	.L36
 470              	.L41:
 295:Libraries/uC-OSIII/os_core.c ****     }
 296:Libraries/uC-OSIII/os_core.c **** 
 297:Libraries/uC-OSIII/os_core.c ****     OSPrioHighRdy   = OS_PrioGetHighest();                  /* Find highest priority               
 471              		.loc 1 297 0
 472 02ec FFF7FEFF 		bl	OS_PrioGetHighest
 473 02f0 0346     		mov	r3, r0
 474 02f2 1A46     		mov	r2, r3
 475 02f4 40F20003 		movw	r3, #:lower16:OSPrioHighRdy
 476 02f8 C0F20003 		movt	r3, #:upper16:OSPrioHighRdy
 477 02fc 1A70     		strb	r2, [r3, #0]
 298:Libraries/uC-OSIII/os_core.c ****     OSTCBHighRdyPtr = OSRdyList[OSPrioHighRdy].HeadPtr;     /* Get highest priority task ready-to-r
 478              		.loc 1 298 0
 479 02fe 40F20003 		movw	r3, #:lower16:OSPrioHighRdy
 480 0302 C0F20003 		movt	r3, #:upper16:OSPrioHighRdy
 481 0306 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 482 0308 1946     		mov	r1, r3
 483 030a 40F20002 		movw	r2, #:lower16:OSRdyList
 484 030e C0F20002 		movt	r2, #:upper16:OSRdyList
 485 0312 0B46     		mov	r3, r1
 486 0314 4FEA4303 		lsl	r3, r3, #1
 487 0318 5B18     		adds	r3, r3, r1
 488 031a 4FEA8303 		lsl	r3, r3, #2
 489 031e D318     		adds	r3, r2, r3
 490 0320 1A68     		ldr	r2, [r3, #0]
 491 0322 40F20003 		movw	r3, #:lower16:OSTCBHighRdyPtr
 492 0326 C0F20003 		movt	r3, #:upper16:OSTCBHighRdyPtr
 493 032a 1A60     		str	r2, [r3, #0]
 299:Libraries/uC-OSIII/os_core.c ****     if (OSTCBHighRdyPtr == OSTCBCurPtr) {                   /* Current task still the highest prior
 494              		.loc 1 299 0
 495 032c 40F20003 		movw	r3, #:lower16:OSTCBHighRdyPtr
 496 0330 C0F20003 		movt	r3, #:upper16:OSTCBHighRdyPtr
 497 0334 1A68     		ldr	r2, [r3, #0]
 498 0336 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 499 033a C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 500 033e 1B68     		ldr	r3, [r3, #0]
 501 0340 9A42     		cmp	r2, r3
 502 0342 03D1     		bne	.L42
 300:Libraries/uC-OSIII/os_core.c ****         CPU_INT_EN();                                       /* Yes                                 
 503              		.loc 1 300 0
 504 0344 7868     		ldr	r0, [r7, #4]
 505 0346 FFF7FEFF 		bl	CPU_SR_Restore
 301:Libraries/uC-OSIII/os_core.c ****         return;
 506              		.loc 1 301 0
 507 034a 1FE0     		b	.L36
 508              	.L42:
 302:Libraries/uC-OSIII/os_core.c ****     }
 303:Libraries/uC-OSIII/os_core.c **** 
 304:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_TASK_PROFILE_EN > 0u
 305:Libraries/uC-OSIII/os_core.c ****     OSTCBHighRdyPtr->CtxSwCtr++;                            /* Inc. # of context switches for this 
 509              		.loc 1 305 0
 510 034c 40F20003 		movw	r3, #:lower16:OSTCBHighRdyPtr
 511 0350 C0F20003 		movt	r3, #:upper16:OSTCBHighRdyPtr
 512 0354 1B68     		ldr	r3, [r3, #0]
 513 0356 D3F8A420 		ldr	r2, [r3, #164]
 514 035a 02F10102 		add	r2, r2, #1
 515 035e C3F8A420 		str	r2, [r3, #164]
 306:Libraries/uC-OSIII/os_core.c **** #endif
 307:Libraries/uC-OSIII/os_core.c ****     OSTaskCtxSwCtr++;                                       /* Keep track of the total number of ct
 516              		.loc 1 307 0
 517 0362 40F20003 		movw	r3, #:lower16:OSTaskCtxSwCtr
 518 0366 C0F20003 		movt	r3, #:upper16:OSTaskCtxSwCtr
 519 036a 1B68     		ldr	r3, [r3, #0]
 520 036c 03F10102 		add	r2, r3, #1
 521 0370 40F20003 		movw	r3, #:lower16:OSTaskCtxSwCtr
 522 0374 C0F20003 		movt	r3, #:upper16:OSTaskCtxSwCtr
 523 0378 1A60     		str	r2, [r3, #0]
 308:Libraries/uC-OSIII/os_core.c **** 
 309:Libraries/uC-OSIII/os_core.c ****     OSIntCtxSw();                                           /* Perform interrupt level ctx switch  
 524              		.loc 1 309 0
 525 037a FFF7FEFF 		bl	OSIntCtxSw
 310:Libraries/uC-OSIII/os_core.c ****     CPU_INT_EN();
 526              		.loc 1 310 0
 527 037e 7868     		ldr	r0, [r7, #4]
 528 0380 FFF7FEFF 		bl	CPU_SR_Restore
 529 0384 02E0     		b	.L36
 530              	.L43:
 278:Libraries/uC-OSIII/os_core.c ****         return;                                             /* No                                  
 531              		.loc 1 278 0
 532 0386 00BF     		nop
 533 0388 00E0     		b	.L36
 534              	.L44:
 282:Libraries/uC-OSIII/os_core.c ****         return;
 535              		.loc 1 282 0
 536 038a 00BF     		nop
 537              	.L36:
 311:Libraries/uC-OSIII/os_core.c **** }
 538              		.loc 1 311 0
 539 038c 07F10807 		add	r7, r7, #8
 540 0390 BD46     		mov	sp, r7
 541 0392 80BD     		pop	{r7, pc}
 542              		.cfi_endproc
 543              	.LFE2:
 545              		.align	2
 546              		.global	OSSched
 547              		.thumb
 548              		.thumb_func
 550              	OSSched:
 551              	.LFB3:
 312:Libraries/uC-OSIII/os_core.c **** 
 313:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 314:Libraries/uC-OSIII/os_core.c **** /*
 315:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 316:Libraries/uC-OSIII/os_core.c **** *                                    INDICATE THAT IT'S NO LONGER SAFE TO CREATE OBJECTS
 317:Libraries/uC-OSIII/os_core.c **** *
 318:Libraries/uC-OSIII/os_core.c **** * Description: This function is called by the application code to indicate that all initialization 
 319:Libraries/uC-OSIII/os_core.c **** *              and that kernel objects are no longer allowed to be created.
 320:Libraries/uC-OSIII/os_core.c **** *
 321:Libraries/uC-OSIII/os_core.c **** * Arguments  : none
 322:Libraries/uC-OSIII/os_core.c **** *
 323:Libraries/uC-OSIII/os_core.c **** * Returns    : none
 324:Libraries/uC-OSIII/os_core.c **** *
 325:Libraries/uC-OSIII/os_core.c **** * Note(s)    : none
 326:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 327:Libraries/uC-OSIII/os_core.c **** */
 328:Libraries/uC-OSIII/os_core.c **** 
 329:Libraries/uC-OSIII/os_core.c **** #ifdef OS_SAFETY_CRITICAL_IEC61508
 330:Libraries/uC-OSIII/os_core.c **** void  OSSafetyCriticalStart (void)
 331:Libraries/uC-OSIII/os_core.c **** {
 332:Libraries/uC-OSIII/os_core.c ****     OSSafetyCriticalStartFlag = DEF_TRUE;
 333:Libraries/uC-OSIII/os_core.c **** }
 334:Libraries/uC-OSIII/os_core.c **** 
 335:Libraries/uC-OSIII/os_core.c **** #endif
 336:Libraries/uC-OSIII/os_core.c **** 
 337:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 338:Libraries/uC-OSIII/os_core.c **** /*
 339:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 340:Libraries/uC-OSIII/os_core.c **** *                                                      SCHEDULER
 341:Libraries/uC-OSIII/os_core.c **** *
 342:Libraries/uC-OSIII/os_core.c **** * Description: This function is called by other uC/OS-III services to determine whether a new, high
 343:Libraries/uC-OSIII/os_core.c **** *              been made ready to run.  This function is invoked by TASK level code and is not used
 344:Libraries/uC-OSIII/os_core.c **** *              from ISRs (see OSIntExit() for ISR rescheduling).
 345:Libraries/uC-OSIII/os_core.c **** *
 346:Libraries/uC-OSIII/os_core.c **** * Arguments  : none
 347:Libraries/uC-OSIII/os_core.c **** *
 348:Libraries/uC-OSIII/os_core.c **** * Returns    : none
 349:Libraries/uC-OSIII/os_core.c **** *
 350:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) Rescheduling is prevented when the scheduler is locked (see OSSchedLock())
 351:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 352:Libraries/uC-OSIII/os_core.c **** */
 353:Libraries/uC-OSIII/os_core.c **** 
 354:Libraries/uC-OSIII/os_core.c **** void  OSSched (void)
 355:Libraries/uC-OSIII/os_core.c **** {
 552              		.loc 1 355 0
 553              		.cfi_startproc
 554              		@ args = 0, pretend = 0, frame = 8
 555              		@ frame_needed = 1, uses_anonymous_args = 0
 556 0394 80B5     		push	{r7, lr}
 557              	.LCFI8:
 558              		.cfi_def_cfa_offset 8
 559              		.cfi_offset 14, -4
 560              		.cfi_offset 7, -8
 561 0396 82B0     		sub	sp, sp, #8
 562              	.LCFI9:
 563              		.cfi_def_cfa_offset 16
 564 0398 00AF     		add	r7, sp, #0
 565              	.LCFI10:
 566              		.cfi_def_cfa_register 7
 356:Libraries/uC-OSIII/os_core.c ****     CPU_SR_ALLOC();
 567              		.loc 1 356 0
 568 039a 4FF00003 		mov	r3, #0
 569 039e 7B60     		str	r3, [r7, #4]
 357:Libraries/uC-OSIII/os_core.c **** 
 358:Libraries/uC-OSIII/os_core.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* ISRs still nested?                  
 570              		.loc 1 358 0
 571 03a0 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 572 03a4 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 573 03a8 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 574 03aa 002B     		cmp	r3, #0
 575 03ac 56D1     		bne	.L50
 576              	.L46:
 359:Libraries/uC-OSIII/os_core.c ****         return;                                             /* Yes ... only schedule when no nested
 360:Libraries/uC-OSIII/os_core.c ****     }
 361:Libraries/uC-OSIII/os_core.c **** 
 362:Libraries/uC-OSIII/os_core.c ****     if (OSSchedLockNestingCtr > (OS_NESTING_CTR)0) {        /* Scheduler locked?                   
 577              		.loc 1 362 0
 578 03ae 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 579 03b2 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 580 03b6 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 581 03b8 002B     		cmp	r3, #0
 582 03ba 51D1     		bne	.L51
 583              	.L48:
 363:Libraries/uC-OSIII/os_core.c ****         return;                                             /* Yes                                 
 364:Libraries/uC-OSIII/os_core.c ****     }
 365:Libraries/uC-OSIII/os_core.c **** 
 366:Libraries/uC-OSIII/os_core.c ****     CPU_INT_DIS();
 584              		.loc 1 366 0
 585 03bc FFF7FEFF 		bl	CPU_SR_Save
 586 03c0 7860     		str	r0, [r7, #4]
 367:Libraries/uC-OSIII/os_core.c ****     OSPrioHighRdy   = OS_PrioGetHighest();                  /* Find the highest priority ready     
 587              		.loc 1 367 0
 588 03c2 FFF7FEFF 		bl	OS_PrioGetHighest
 589 03c6 0346     		mov	r3, r0
 590 03c8 1A46     		mov	r2, r3
 591 03ca 40F20003 		movw	r3, #:lower16:OSPrioHighRdy
 592 03ce C0F20003 		movt	r3, #:upper16:OSPrioHighRdy
 593 03d2 1A70     		strb	r2, [r3, #0]
 368:Libraries/uC-OSIII/os_core.c ****     OSTCBHighRdyPtr = OSRdyList[OSPrioHighRdy].HeadPtr;
 594              		.loc 1 368 0
 595 03d4 40F20003 		movw	r3, #:lower16:OSPrioHighRdy
 596 03d8 C0F20003 		movt	r3, #:upper16:OSPrioHighRdy
 597 03dc 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 598 03de 1946     		mov	r1, r3
 599 03e0 40F20002 		movw	r2, #:lower16:OSRdyList
 600 03e4 C0F20002 		movt	r2, #:upper16:OSRdyList
 601 03e8 0B46     		mov	r3, r1
 602 03ea 4FEA4303 		lsl	r3, r3, #1
 603 03ee 5B18     		adds	r3, r3, r1
 604 03f0 4FEA8303 		lsl	r3, r3, #2
 605 03f4 D318     		adds	r3, r2, r3
 606 03f6 1A68     		ldr	r2, [r3, #0]
 607 03f8 40F20003 		movw	r3, #:lower16:OSTCBHighRdyPtr
 608 03fc C0F20003 		movt	r3, #:upper16:OSTCBHighRdyPtr
 609 0400 1A60     		str	r2, [r3, #0]
 369:Libraries/uC-OSIII/os_core.c ****     if (OSTCBHighRdyPtr == OSTCBCurPtr) {                   /* Current task is still highest priori
 610              		.loc 1 369 0
 611 0402 40F20003 		movw	r3, #:lower16:OSTCBHighRdyPtr
 612 0406 C0F20003 		movt	r3, #:upper16:OSTCBHighRdyPtr
 613 040a 1A68     		ldr	r2, [r3, #0]
 614 040c 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 615 0410 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 616 0414 1B68     		ldr	r3, [r3, #0]
 617 0416 9A42     		cmp	r2, r3
 618 0418 03D1     		bne	.L49
 370:Libraries/uC-OSIII/os_core.c ****         CPU_INT_EN();                                       /* Yes ... no need to context switch   
 619              		.loc 1 370 0
 620 041a 7868     		ldr	r0, [r7, #4]
 621 041c FFF7FEFF 		bl	CPU_SR_Restore
 371:Libraries/uC-OSIII/os_core.c ****         return;
 622              		.loc 1 371 0
 623 0420 1FE0     		b	.L45
 624              	.L49:
 372:Libraries/uC-OSIII/os_core.c ****     }
 373:Libraries/uC-OSIII/os_core.c **** 
 374:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_TASK_PROFILE_EN > 0u
 375:Libraries/uC-OSIII/os_core.c ****     OSTCBHighRdyPtr->CtxSwCtr++;                            /* Inc. # of context switches to this t
 625              		.loc 1 375 0
 626 0422 40F20003 		movw	r3, #:lower16:OSTCBHighRdyPtr
 627 0426 C0F20003 		movt	r3, #:upper16:OSTCBHighRdyPtr
 628 042a 1B68     		ldr	r3, [r3, #0]
 629 042c D3F8A420 		ldr	r2, [r3, #164]
 630 0430 02F10102 		add	r2, r2, #1
 631 0434 C3F8A420 		str	r2, [r3, #164]
 376:Libraries/uC-OSIII/os_core.c **** #endif
 377:Libraries/uC-OSIII/os_core.c ****     OSTaskCtxSwCtr++;                                       /* Increment context switch counter    
 632              		.loc 1 377 0
 633 0438 40F20003 		movw	r3, #:lower16:OSTaskCtxSwCtr
 634 043c C0F20003 		movt	r3, #:upper16:OSTaskCtxSwCtr
 635 0440 1B68     		ldr	r3, [r3, #0]
 636 0442 03F10102 		add	r2, r3, #1
 637 0446 40F20003 		movw	r3, #:lower16:OSTaskCtxSwCtr
 638 044a C0F20003 		movt	r3, #:upper16:OSTaskCtxSwCtr
 639 044e 1A60     		str	r2, [r3, #0]
 378:Libraries/uC-OSIII/os_core.c **** 
 379:Libraries/uC-OSIII/os_core.c ****     OS_TASK_SW();                                           /* Perform a task level context switch 
 640              		.loc 1 379 0
 641 0450 FFF7FEFF 		bl	OSCtxSw
 380:Libraries/uC-OSIII/os_core.c ****     CPU_INT_EN();
 642              		.loc 1 380 0
 643 0454 7868     		ldr	r0, [r7, #4]
 644 0456 FFF7FEFF 		bl	CPU_SR_Restore
 645 045a 02E0     		b	.L45
 646              	.L50:
 359:Libraries/uC-OSIII/os_core.c ****         return;                                             /* Yes ... only schedule when no nested
 647              		.loc 1 359 0
 648 045c 00BF     		nop
 649 045e 00E0     		b	.L45
 650              	.L51:
 363:Libraries/uC-OSIII/os_core.c ****         return;                                             /* Yes                                 
 651              		.loc 1 363 0
 652 0460 00BF     		nop
 653              	.L45:
 381:Libraries/uC-OSIII/os_core.c **** }
 654              		.loc 1 381 0
 655 0462 07F10807 		add	r7, r7, #8
 656 0466 BD46     		mov	sp, r7
 657 0468 80BD     		pop	{r7, pc}
 658              		.cfi_endproc
 659              	.LFE3:
 661 046a 00BF     		.align	2
 662              		.global	OSSchedLock
 663              		.thumb
 664              		.thumb_func
 666              	OSSchedLock:
 667              	.LFB4:
 382:Libraries/uC-OSIII/os_core.c **** 
 383:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 384:Libraries/uC-OSIII/os_core.c **** /*
 385:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 386:Libraries/uC-OSIII/os_core.c **** *                                                 PREVENT SCHEDULING
 387:Libraries/uC-OSIII/os_core.c **** *
 388:Libraries/uC-OSIII/os_core.c **** * Description: This function is used to prevent rescheduling from taking place.  This allows your a
 389:Libraries/uC-OSIII/os_core.c **** *              context switches until you are ready to permit context switching.
 390:Libraries/uC-OSIII/os_core.c **** *
 391:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_err     is a pointer to a variable that will receive an error code:
 392:Libraries/uC-OSIII/os_core.c **** *
 393:Libraries/uC-OSIII/os_core.c **** *                            OS_ERR_NONE                 The scheduler is locked
 394:Libraries/uC-OSIII/os_core.c **** *                            OS_ERR_LOCK_NESTING_OVF     If you attempted to nest call to this func
 395:Libraries/uC-OSIII/os_core.c **** *                            OS_ERR_OS_NOT_RUNNING       If uC/OS-III is not running yet.
 396:Libraries/uC-OSIII/os_core.c **** *
 397:Libraries/uC-OSIII/os_core.c **** * Returns    : none
 398:Libraries/uC-OSIII/os_core.c **** *
 399:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) You MUST invoke OSSchedLock() and OSSchedUnlock() in pair.  In other words, for e
 400:Libraries/uC-OSIII/os_core.c **** *                 call to OSSchedLock() you MUST have a call to OSSchedUnlock().
 401:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 402:Libraries/uC-OSIII/os_core.c **** */
 403:Libraries/uC-OSIII/os_core.c **** 
 404:Libraries/uC-OSIII/os_core.c **** void  OSSchedLock (OS_ERR  *p_err)
 405:Libraries/uC-OSIII/os_core.c **** {
 668              		.loc 1 405 0
 669              		.cfi_startproc
 670              		@ args = 0, pretend = 0, frame = 16
 671              		@ frame_needed = 1, uses_anonymous_args = 0
 672 046c 80B5     		push	{r7, lr}
 673              	.LCFI11:
 674              		.cfi_def_cfa_offset 8
 675              		.cfi_offset 14, -4
 676              		.cfi_offset 7, -8
 677 046e 84B0     		sub	sp, sp, #16
 678              	.LCFI12:
 679              		.cfi_def_cfa_offset 24
 680 0470 00AF     		add	r7, sp, #0
 681              	.LCFI13:
 682              		.cfi_def_cfa_register 7
 683 0472 7860     		str	r0, [r7, #4]
 406:Libraries/uC-OSIII/os_core.c ****     CPU_SR_ALLOC();
 684              		.loc 1 406 0
 685 0474 4FF00003 		mov	r3, #0
 686 0478 FB60     		str	r3, [r7, #12]
 407:Libraries/uC-OSIII/os_core.c **** 
 408:Libraries/uC-OSIII/os_core.c **** 
 409:Libraries/uC-OSIII/os_core.c **** 
 410:Libraries/uC-OSIII/os_core.c **** #ifdef OS_SAFETY_CRITICAL
 411:Libraries/uC-OSIII/os_core.c ****     if (p_err == (OS_ERR *)0) {
 412:Libraries/uC-OSIII/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 413:Libraries/uC-OSIII/os_core.c ****     }
 414:Libraries/uC-OSIII/os_core.c **** #endif
 415:Libraries/uC-OSIII/os_core.c **** 
 416:Libraries/uC-OSIII/os_core.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                 /* Make sure multitasking is running   
 687              		.loc 1 416 0
 688 047a 40F20003 		movw	r3, #:lower16:OSRunning
 689 047e C0F20003 		movt	r3, #:upper16:OSRunning
 690 0482 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 691 0484 012B     		cmp	r3, #1
 692 0486 04D0     		beq	.L53
 417:Libraries/uC-OSIII/os_core.c ****         *p_err = OS_ERR_OS_NOT_RUNNING;
 693              		.loc 1 417 0
 694 0488 7B68     		ldr	r3, [r7, #4]
 695 048a 45F68962 		movw	r2, #24201
 696 048e 1A80     		strh	r2, [r3, #0]	@ movhi
 418:Libraries/uC-OSIII/os_core.c ****         return;
 697              		.loc 1 418 0
 698 0490 28E0     		b	.L52
 699              	.L53:
 419:Libraries/uC-OSIII/os_core.c ****     }
 420:Libraries/uC-OSIII/os_core.c **** 
 421:Libraries/uC-OSIII/os_core.c ****     if (OSSchedLockNestingCtr >= (OS_NESTING_CTR)250u) {    /* Prevent OSSchedLockNestingCtr overfl
 700              		.loc 1 421 0
 701 0492 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 702 0496 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 703 049a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 704 049c F92B     		cmp	r3, #249
 705 049e 04D9     		bls	.L55
 422:Libraries/uC-OSIII/os_core.c ****         *p_err = OS_ERR_LOCK_NESTING_OVF;
 706              		.loc 1 422 0
 707 04a0 7B68     		ldr	r3, [r7, #4]
 708 04a2 45F20922 		movw	r2, #21001
 709 04a6 1A80     		strh	r2, [r3, #0]	@ movhi
 423:Libraries/uC-OSIII/os_core.c ****         return;
 710              		.loc 1 423 0
 711 04a8 1CE0     		b	.L52
 712              	.L55:
 424:Libraries/uC-OSIII/os_core.c ****     }
 425:Libraries/uC-OSIII/os_core.c **** 
 426:Libraries/uC-OSIII/os_core.c ****     CPU_CRITICAL_ENTER();
 713              		.loc 1 426 0
 714 04aa FFF7FEFF 		bl	CPU_SR_Save
 715 04ae F860     		str	r0, [r7, #12]
 716 04b0 FFF7FEFF 		bl	CPU_IntDisMeasStart
 427:Libraries/uC-OSIII/os_core.c ****     OSSchedLockNestingCtr++;                                /* Increment lock nesting level        
 717              		.loc 1 427 0
 718 04b4 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 719 04b8 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 720 04bc 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 721 04be 03F10103 		add	r3, r3, #1
 722 04c2 DAB2     		uxtb	r2, r3
 723 04c4 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 724 04c8 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 725 04cc 1A70     		strb	r2, [r3, #0]
 428:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_SCHED_LOCK_TIME_MEAS_EN > 0u
 429:Libraries/uC-OSIII/os_core.c ****     OS_SchedLockTimeMeasStart();
 726              		.loc 1 429 0
 727 04ce FFF7FEFF 		bl	OS_SchedLockTimeMeasStart
 430:Libraries/uC-OSIII/os_core.c **** #endif
 431:Libraries/uC-OSIII/os_core.c ****     CPU_CRITICAL_EXIT();
 728              		.loc 1 431 0
 729 04d2 FFF7FEFF 		bl	CPU_IntDisMeasStop
 730 04d6 F868     		ldr	r0, [r7, #12]
 731 04d8 FFF7FEFF 		bl	CPU_SR_Restore
 432:Libraries/uC-OSIII/os_core.c ****     *p_err = OS_ERR_NONE;
 732              		.loc 1 432 0
 733 04dc 7B68     		ldr	r3, [r7, #4]
 734 04de 4FF00002 		mov	r2, #0
 735 04e2 1A80     		strh	r2, [r3, #0]	@ movhi
 736              	.L52:
 433:Libraries/uC-OSIII/os_core.c **** }
 737              		.loc 1 433 0
 738 04e4 07F11007 		add	r7, r7, #16
 739 04e8 BD46     		mov	sp, r7
 740 04ea 80BD     		pop	{r7, pc}
 741              		.cfi_endproc
 742              	.LFE4:
 744              		.align	2
 745              		.global	OSSchedUnlock
 746              		.thumb
 747              		.thumb_func
 749              	OSSchedUnlock:
 750              	.LFB5:
 434:Libraries/uC-OSIII/os_core.c **** 
 435:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 436:Libraries/uC-OSIII/os_core.c **** /*
 437:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 438:Libraries/uC-OSIII/os_core.c **** *                                                  ENABLE SCHEDULING
 439:Libraries/uC-OSIII/os_core.c **** *
 440:Libraries/uC-OSIII/os_core.c **** * Description: This function is used to re-allow rescheduling.
 441:Libraries/uC-OSIII/os_core.c **** *
 442:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_err     is a pointer to a variable that will contain an error code returned by thi
 443:Libraries/uC-OSIII/os_core.c **** *
 444:Libraries/uC-OSIII/os_core.c **** *                            OS_ERR_NONE
 445:Libraries/uC-OSIII/os_core.c **** *                            OS_ERR_OS_NOT_RUNNING       The scheduler has been enabled
 446:Libraries/uC-OSIII/os_core.c **** *                            OS_ERR_SCHED_LOCKED         The scheduler is still locked, still neste
 447:Libraries/uC-OSIII/os_core.c **** *                            OS_ERR_SCHED_NOT_LOCKED     The scheduler was not locked
 448:Libraries/uC-OSIII/os_core.c **** *
 449:Libraries/uC-OSIII/os_core.c **** * Returns    : none
 450:Libraries/uC-OSIII/os_core.c **** *
 451:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) You MUST invoke OSSchedLock() and OSSchedUnlock() in pair.  In other words, for e
 452:Libraries/uC-OSIII/os_core.c **** *                 OSSchedLock() you MUST have a call to OSSchedUnlock().
 453:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 454:Libraries/uC-OSIII/os_core.c **** */
 455:Libraries/uC-OSIII/os_core.c **** 
 456:Libraries/uC-OSIII/os_core.c **** void  OSSchedUnlock (OS_ERR  *p_err)
 457:Libraries/uC-OSIII/os_core.c **** {
 751              		.loc 1 457 0
 752              		.cfi_startproc
 753              		@ args = 0, pretend = 0, frame = 16
 754              		@ frame_needed = 1, uses_anonymous_args = 0
 755 04ec 80B5     		push	{r7, lr}
 756              	.LCFI14:
 757              		.cfi_def_cfa_offset 8
 758              		.cfi_offset 14, -4
 759              		.cfi_offset 7, -8
 760 04ee 84B0     		sub	sp, sp, #16
 761              	.LCFI15:
 762              		.cfi_def_cfa_offset 24
 763 04f0 00AF     		add	r7, sp, #0
 764              	.LCFI16:
 765              		.cfi_def_cfa_register 7
 766 04f2 7860     		str	r0, [r7, #4]
 458:Libraries/uC-OSIII/os_core.c ****     CPU_SR_ALLOC();
 767              		.loc 1 458 0
 768 04f4 4FF00003 		mov	r3, #0
 769 04f8 FB60     		str	r3, [r7, #12]
 459:Libraries/uC-OSIII/os_core.c **** 
 460:Libraries/uC-OSIII/os_core.c **** 
 461:Libraries/uC-OSIII/os_core.c **** 
 462:Libraries/uC-OSIII/os_core.c **** #ifdef OS_SAFETY_CRITICAL
 463:Libraries/uC-OSIII/os_core.c ****     if (p_err == (OS_ERR *)0) {
 464:Libraries/uC-OSIII/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 465:Libraries/uC-OSIII/os_core.c ****     }
 466:Libraries/uC-OSIII/os_core.c **** #endif
 467:Libraries/uC-OSIII/os_core.c **** 
 468:Libraries/uC-OSIII/os_core.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                 /* Make sure multitasking is running   
 770              		.loc 1 468 0
 771 04fa 40F20003 		movw	r3, #:lower16:OSRunning
 772 04fe C0F20003 		movt	r3, #:upper16:OSRunning
 773 0502 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 774 0504 012B     		cmp	r3, #1
 775 0506 04D0     		beq	.L57
 469:Libraries/uC-OSIII/os_core.c ****         *p_err = OS_ERR_OS_NOT_RUNNING;
 776              		.loc 1 469 0
 777 0508 7B68     		ldr	r3, [r7, #4]
 778 050a 45F68962 		movw	r2, #24201
 779 050e 1A80     		strh	r2, [r3, #0]	@ movhi
 470:Libraries/uC-OSIII/os_core.c ****         return;
 780              		.loc 1 470 0
 781 0510 3BE0     		b	.L56
 782              	.L57:
 471:Libraries/uC-OSIII/os_core.c ****     }
 472:Libraries/uC-OSIII/os_core.c **** 
 473:Libraries/uC-OSIII/os_core.c ****     if (OSSchedLockNestingCtr == (OS_NESTING_CTR)0) {       /* See if the scheduler is locked      
 783              		.loc 1 473 0
 784 0512 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 785 0516 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 786 051a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 787 051c 002B     		cmp	r3, #0
 788 051e 04D1     		bne	.L59
 474:Libraries/uC-OSIII/os_core.c ****         *p_err = OS_ERR_SCHED_NOT_LOCKED;
 789              		.loc 1 474 0
 790 0520 7B68     		ldr	r3, [r7, #4]
 791 0522 46F66352 		movw	r2, #28003
 792 0526 1A80     		strh	r2, [r3, #0]	@ movhi
 475:Libraries/uC-OSIII/os_core.c ****         return;
 793              		.loc 1 475 0
 794 0528 2FE0     		b	.L56
 795              	.L59:
 476:Libraries/uC-OSIII/os_core.c ****     }
 477:Libraries/uC-OSIII/os_core.c **** 
 478:Libraries/uC-OSIII/os_core.c ****     CPU_CRITICAL_ENTER();
 796              		.loc 1 478 0
 797 052a FFF7FEFF 		bl	CPU_SR_Save
 798 052e F860     		str	r0, [r7, #12]
 799 0530 FFF7FEFF 		bl	CPU_IntDisMeasStart
 479:Libraries/uC-OSIII/os_core.c ****     OSSchedLockNestingCtr--;                                /* Decrement lock nesting level        
 800              		.loc 1 479 0
 801 0534 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 802 0538 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 803 053c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 804 053e 03F1FF33 		add	r3, r3, #-1
 805 0542 DAB2     		uxtb	r2, r3
 806 0544 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 807 0548 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 808 054c 1A70     		strb	r2, [r3, #0]
 480:Libraries/uC-OSIII/os_core.c ****     if (OSSchedLockNestingCtr > (OS_NESTING_CTR)0) {
 809              		.loc 1 480 0
 810 054e 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 811 0552 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 812 0556 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 813 0558 002B     		cmp	r3, #0
 814 055a 09D0     		beq	.L60
 481:Libraries/uC-OSIII/os_core.c ****         CPU_CRITICAL_EXIT();                                /* Scheduler is still locked           
 815              		.loc 1 481 0
 816 055c FFF7FEFF 		bl	CPU_IntDisMeasStop
 817 0560 F868     		ldr	r0, [r7, #12]
 818 0562 FFF7FEFF 		bl	CPU_SR_Restore
 482:Libraries/uC-OSIII/os_core.c ****         *p_err = OS_ERR_SCHED_LOCKED;
 819              		.loc 1 482 0
 820 0566 7B68     		ldr	r3, [r7, #4]
 821 0568 46F66252 		movw	r2, #28002
 822 056c 1A80     		strh	r2, [r3, #0]	@ movhi
 483:Libraries/uC-OSIII/os_core.c ****         return;
 823              		.loc 1 483 0
 824 056e 0CE0     		b	.L56
 825              	.L60:
 484:Libraries/uC-OSIII/os_core.c ****     }
 485:Libraries/uC-OSIII/os_core.c **** 
 486:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_SCHED_LOCK_TIME_MEAS_EN > 0u
 487:Libraries/uC-OSIII/os_core.c ****     OS_SchedLockTimeMeasStop();
 826              		.loc 1 487 0
 827 0570 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 488:Libraries/uC-OSIII/os_core.c **** #endif
 489:Libraries/uC-OSIII/os_core.c **** 
 490:Libraries/uC-OSIII/os_core.c ****     CPU_CRITICAL_EXIT();                                    /* Scheduler should be re-enabled      
 828              		.loc 1 490 0
 829 0574 FFF7FEFF 		bl	CPU_IntDisMeasStop
 830 0578 F868     		ldr	r0, [r7, #12]
 831 057a FFF7FEFF 		bl	CPU_SR_Restore
 491:Libraries/uC-OSIII/os_core.c ****     OSSched();                                              /* Run the scheduler                   
 832              		.loc 1 491 0
 833 057e FFF7FEFF 		bl	OSSched
 492:Libraries/uC-OSIII/os_core.c ****     *p_err = OS_ERR_NONE;
 834              		.loc 1 492 0
 835 0582 7B68     		ldr	r3, [r7, #4]
 836 0584 4FF00002 		mov	r2, #0
 837 0588 1A80     		strh	r2, [r3, #0]	@ movhi
 838              	.L56:
 493:Libraries/uC-OSIII/os_core.c **** }
 839              		.loc 1 493 0
 840 058a 07F11007 		add	r7, r7, #16
 841 058e BD46     		mov	sp, r7
 842 0590 80BD     		pop	{r7, pc}
 843              		.cfi_endproc
 844              	.LFE5:
 846 0592 00BF     		.align	2
 847              		.global	OSSchedRoundRobinCfg
 848              		.thumb
 849              		.thumb_func
 851              	OSSchedRoundRobinCfg:
 852              	.LFB6:
 494:Libraries/uC-OSIII/os_core.c **** 
 495:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 496:Libraries/uC-OSIII/os_core.c **** /*
 497:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 498:Libraries/uC-OSIII/os_core.c **** *                                      CONFIGURE ROUND-ROBIN SCHEDULING PARAMETERS
 499:Libraries/uC-OSIII/os_core.c **** *
 500:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to change the round-robin scheduling parameters.
 501:Libraries/uC-OSIII/os_core.c **** *
 502:Libraries/uC-OSIII/os_core.c **** * Arguments  : en                determines whether round-robin will be enabled (when DEF_EN) or no
 503:Libraries/uC-OSIII/os_core.c **** *
 504:Libraries/uC-OSIII/os_core.c **** *              dflt_time_quanta  default number of ticks between time slices.  0 means assumes OSCf
 505:Libraries/uC-OSIII/os_core.c **** *
 506:Libraries/uC-OSIII/os_core.c **** *              p_err             is a pointer to a variable that will contain an error code returne
 507:Libraries/uC-OSIII/os_core.c **** *
 508:Libraries/uC-OSIII/os_core.c **** *                                    OS_ERR_NONE    The call was successful
 509:Libraries/uC-OSIII/os_core.c **** *
 510:Libraries/uC-OSIII/os_core.c **** * Returns    : none
 511:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 512:Libraries/uC-OSIII/os_core.c **** */
 513:Libraries/uC-OSIII/os_core.c **** 
 514:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_SCHED_ROUND_ROBIN_EN > 0u
 515:Libraries/uC-OSIII/os_core.c **** void  OSSchedRoundRobinCfg (CPU_BOOLEAN  en,
 516:Libraries/uC-OSIII/os_core.c ****                             OS_TICK      dflt_time_quanta,
 517:Libraries/uC-OSIII/os_core.c ****                             OS_ERR      *p_err)
 518:Libraries/uC-OSIII/os_core.c **** {
 853              		.loc 1 518 0
 854              		.cfi_startproc
 855              		@ args = 0, pretend = 0, frame = 24
 856              		@ frame_needed = 1, uses_anonymous_args = 0
 857 0594 80B5     		push	{r7, lr}
 858              	.LCFI17:
 859              		.cfi_def_cfa_offset 8
 860              		.cfi_offset 14, -4
 861              		.cfi_offset 7, -8
 862 0596 86B0     		sub	sp, sp, #24
 863              	.LCFI18:
 864              		.cfi_def_cfa_offset 32
 865 0598 00AF     		add	r7, sp, #0
 866              	.LCFI19:
 867              		.cfi_def_cfa_register 7
 868 059a 0346     		mov	r3, r0
 869 059c B960     		str	r1, [r7, #8]
 870 059e 7A60     		str	r2, [r7, #4]
 871 05a0 FB73     		strb	r3, [r7, #15]
 519:Libraries/uC-OSIII/os_core.c ****     CPU_SR_ALLOC();
 872              		.loc 1 519 0
 873 05a2 4FF00003 		mov	r3, #0
 874 05a6 7B61     		str	r3, [r7, #20]
 520:Libraries/uC-OSIII/os_core.c **** 
 521:Libraries/uC-OSIII/os_core.c **** 
 522:Libraries/uC-OSIII/os_core.c **** 
 523:Libraries/uC-OSIII/os_core.c **** #ifdef OS_SAFETY_CRITICAL
 524:Libraries/uC-OSIII/os_core.c ****     if (p_err == (OS_ERR *)0) {
 525:Libraries/uC-OSIII/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 526:Libraries/uC-OSIII/os_core.c ****     }
 527:Libraries/uC-OSIII/os_core.c **** #endif
 528:Libraries/uC-OSIII/os_core.c **** 
 529:Libraries/uC-OSIII/os_core.c ****     CPU_CRITICAL_ENTER();
 875              		.loc 1 529 0
 876 05a8 FFF7FEFF 		bl	CPU_SR_Save
 877 05ac 7861     		str	r0, [r7, #20]
 878 05ae FFF7FEFF 		bl	CPU_IntDisMeasStart
 530:Libraries/uC-OSIII/os_core.c ****     if (en != DEF_ENABLED) {
 879              		.loc 1 530 0
 880 05b2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 881 05b4 012B     		cmp	r3, #1
 882 05b6 07D0     		beq	.L62
 531:Libraries/uC-OSIII/os_core.c ****         OSSchedRoundRobinEn = DEF_DISABLED;
 883              		.loc 1 531 0
 884 05b8 40F20003 		movw	r3, #:lower16:OSSchedRoundRobinEn
 885 05bc C0F20003 		movt	r3, #:upper16:OSSchedRoundRobinEn
 886 05c0 4FF00002 		mov	r2, #0
 887 05c4 1A70     		strb	r2, [r3, #0]
 888 05c6 06E0     		b	.L63
 889              	.L62:
 532:Libraries/uC-OSIII/os_core.c ****     } else {
 533:Libraries/uC-OSIII/os_core.c ****         OSSchedRoundRobinEn = DEF_ENABLED;
 890              		.loc 1 533 0
 891 05c8 40F20003 		movw	r3, #:lower16:OSSchedRoundRobinEn
 892 05cc C0F20003 		movt	r3, #:upper16:OSSchedRoundRobinEn
 893 05d0 4FF00102 		mov	r2, #1
 894 05d4 1A70     		strb	r2, [r3, #0]
 895              	.L63:
 534:Libraries/uC-OSIII/os_core.c ****     }
 535:Libraries/uC-OSIII/os_core.c **** 
 536:Libraries/uC-OSIII/os_core.c ****     if (dflt_time_quanta > (OS_TICK)0) {
 896              		.loc 1 536 0
 897 05d6 BB68     		ldr	r3, [r7, #8]
 898 05d8 002B     		cmp	r3, #0
 899 05da 06D0     		beq	.L64
 537:Libraries/uC-OSIII/os_core.c ****         OSSchedRoundRobinDfltTimeQuanta = dflt_time_quanta;
 900              		.loc 1 537 0
 901 05dc 40F20003 		movw	r3, #:lower16:OSSchedRoundRobinDfltTimeQuanta
 902 05e0 C0F20003 		movt	r3, #:upper16:OSSchedRoundRobinDfltTimeQuanta
 903 05e4 BA68     		ldr	r2, [r7, #8]
 904 05e6 1A60     		str	r2, [r3, #0]
 905 05e8 11E0     		b	.L65
 906              	.L64:
 538:Libraries/uC-OSIII/os_core.c ****     } else {
 539:Libraries/uC-OSIII/os_core.c ****         OSSchedRoundRobinDfltTimeQuanta = (OS_TICK)(OSCfg_TickRate_Hz / (OS_RATE_HZ)10);
 907              		.loc 1 539 0
 908 05ea 40F20003 		movw	r3, #:lower16:OSCfg_TickRate_Hz
 909 05ee C0F20003 		movt	r3, #:upper16:OSCfg_TickRate_Hz
 910 05f2 1A68     		ldr	r2, [r3, #0]
 911 05f4 4CF6CD43 		movw	r3, #52429
 912 05f8 CCF6CC43 		movt	r3, 52428
 913 05fc A3FB0213 		umull	r1, r3, r3, r2
 914 0600 4FEAD302 		lsr	r2, r3, #3
 915 0604 40F20003 		movw	r3, #:lower16:OSSchedRoundRobinDfltTimeQuanta
 916 0608 C0F20003 		movt	r3, #:upper16:OSSchedRoundRobinDfltTimeQuanta
 917 060c 1A60     		str	r2, [r3, #0]
 918              	.L65:
 540:Libraries/uC-OSIII/os_core.c ****     }
 541:Libraries/uC-OSIII/os_core.c ****     CPU_CRITICAL_EXIT();
 919              		.loc 1 541 0
 920 060e FFF7FEFF 		bl	CPU_IntDisMeasStop
 921 0612 7869     		ldr	r0, [r7, #20]
 922 0614 FFF7FEFF 		bl	CPU_SR_Restore
 542:Libraries/uC-OSIII/os_core.c ****     *p_err = OS_ERR_NONE;
 923              		.loc 1 542 0
 924 0618 7B68     		ldr	r3, [r7, #4]
 925 061a 4FF00002 		mov	r2, #0
 926 061e 1A80     		strh	r2, [r3, #0]	@ movhi
 543:Libraries/uC-OSIII/os_core.c **** }
 927              		.loc 1 543 0
 928 0620 07F11807 		add	r7, r7, #24
 929 0624 BD46     		mov	sp, r7
 930 0626 80BD     		pop	{r7, pc}
 931              		.cfi_endproc
 932              	.LFE6:
 934              		.align	2
 935              		.global	OSSchedRoundRobinYield
 936              		.thumb
 937              		.thumb_func
 939              	OSSchedRoundRobinYield:
 940              	.LFB7:
 544:Libraries/uC-OSIII/os_core.c **** #endif
 545:Libraries/uC-OSIII/os_core.c **** 
 546:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 547:Libraries/uC-OSIII/os_core.c **** /*
 548:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 549:Libraries/uC-OSIII/os_core.c **** *                                    YIELD CPU WHEN TASK NO LONGER NEEDS THE TIME SLICE
 550:Libraries/uC-OSIII/os_core.c **** *
 551:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to give up the CPU when it is done executing before its time
 552:Libraries/uC-OSIII/os_core.c **** *
 553:Libraries/uC-OSIII/os_core.c **** * Argument(s): p_err      is a pointer to a variable that will contain an error code returned by th
 554:Libraries/uC-OSIII/os_core.c **** *
 555:Libraries/uC-OSIII/os_core.c **** *                             OS_ERR_NONE                   The call was successful
 556:Libraries/uC-OSIII/os_core.c **** *                             OS_ERR_ROUND_ROBIN_1          Only 1 task at this priority, nothing t
 557:Libraries/uC-OSIII/os_core.c **** *                             OS_ERR_ROUND_ROBIN_DISABLED   Round Robin is not enabled
 558:Libraries/uC-OSIII/os_core.c **** *                             OS_ERR_SCHED_LOCKED           The scheduler has been locked
 559:Libraries/uC-OSIII/os_core.c **** *                             OS_ERR_YIELD_ISR              Can't be called from an ISR
 560:Libraries/uC-OSIII/os_core.c **** *
 561:Libraries/uC-OSIII/os_core.c **** * Returns    : none
 562:Libraries/uC-OSIII/os_core.c **** *
 563:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function MUST be called from a task.
 564:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 565:Libraries/uC-OSIII/os_core.c **** */
 566:Libraries/uC-OSIII/os_core.c **** 
 567:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_SCHED_ROUND_ROBIN_EN > 0u
 568:Libraries/uC-OSIII/os_core.c **** void  OSSchedRoundRobinYield (OS_ERR  *p_err)
 569:Libraries/uC-OSIII/os_core.c **** {
 941              		.loc 1 569 0
 942              		.cfi_startproc
 943              		@ args = 0, pretend = 0, frame = 24
 944              		@ frame_needed = 1, uses_anonymous_args = 0
 945 0628 80B5     		push	{r7, lr}
 946              	.LCFI20:
 947              		.cfi_def_cfa_offset 8
 948              		.cfi_offset 14, -4
 949              		.cfi_offset 7, -8
 950 062a 86B0     		sub	sp, sp, #24
 951              	.LCFI21:
 952              		.cfi_def_cfa_offset 32
 953 062c 00AF     		add	r7, sp, #0
 954              	.LCFI22:
 955              		.cfi_def_cfa_register 7
 956 062e 7860     		str	r0, [r7, #4]
 570:Libraries/uC-OSIII/os_core.c ****     OS_RDY_LIST  *p_rdy_list;
 571:Libraries/uC-OSIII/os_core.c ****     OS_TCB       *p_tcb;
 572:Libraries/uC-OSIII/os_core.c ****     CPU_SR_ALLOC();
 957              		.loc 1 572 0
 958 0630 4FF00003 		mov	r3, #0
 959 0634 7B61     		str	r3, [r7, #20]
 573:Libraries/uC-OSIII/os_core.c **** 
 574:Libraries/uC-OSIII/os_core.c **** 
 575:Libraries/uC-OSIII/os_core.c **** 
 576:Libraries/uC-OSIII/os_core.c **** #ifdef OS_SAFETY_CRITICAL
 577:Libraries/uC-OSIII/os_core.c ****     if (p_err == (OS_ERR *)0) {
 578:Libraries/uC-OSIII/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 579:Libraries/uC-OSIII/os_core.c ****     }
 580:Libraries/uC-OSIII/os_core.c **** #endif
 581:Libraries/uC-OSIII/os_core.c **** 
 582:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u
 583:Libraries/uC-OSIII/os_core.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* Can't call this function from an ISR
 960              		.loc 1 583 0
 961 0636 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 962 063a C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 963 063e 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 964 0640 002B     		cmp	r3, #0
 965 0642 04D0     		beq	.L67
 584:Libraries/uC-OSIII/os_core.c ****         *p_err = OS_ERR_YIELD_ISR;
 966              		.loc 1 584 0
 967 0644 7B68     		ldr	r3, [r7, #4]
 968 0646 48F2D142 		movw	r2, #34001
 969 064a 1A80     		strh	r2, [r3, #0]	@ movhi
 585:Libraries/uC-OSIII/os_core.c ****         return;
 970              		.loc 1 585 0
 971 064c 62E0     		b	.L66
 972              	.L67:
 586:Libraries/uC-OSIII/os_core.c ****     }
 587:Libraries/uC-OSIII/os_core.c **** #endif
 588:Libraries/uC-OSIII/os_core.c **** 
 589:Libraries/uC-OSIII/os_core.c ****     if (OSSchedLockNestingCtr > (OS_NESTING_CTR)0) {        /* Can't yield if the scheduler is lock
 973              		.loc 1 589 0
 974 064e 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 975 0652 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 976 0656 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 977 0658 002B     		cmp	r3, #0
 978 065a 04D0     		beq	.L69
 590:Libraries/uC-OSIII/os_core.c ****         *p_err = OS_ERR_SCHED_LOCKED;
 979              		.loc 1 590 0
 980 065c 7B68     		ldr	r3, [r7, #4]
 981 065e 46F66252 		movw	r2, #28002
 982 0662 1A80     		strh	r2, [r3, #0]	@ movhi
 591:Libraries/uC-OSIII/os_core.c ****         return;
 983              		.loc 1 591 0
 984 0664 56E0     		b	.L66
 985              	.L69:
 592:Libraries/uC-OSIII/os_core.c ****     }
 593:Libraries/uC-OSIII/os_core.c **** 
 594:Libraries/uC-OSIII/os_core.c ****     if (OSSchedRoundRobinEn != DEF_TRUE) {                  /* Make sure round-robin has been enabl
 986              		.loc 1 594 0
 987 0666 40F20003 		movw	r3, #:lower16:OSSchedRoundRobinEn
 988 066a C0F20003 		movt	r3, #:upper16:OSSchedRoundRobinEn
 989 066e 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 990 0670 012B     		cmp	r3, #1
 991 0672 04D0     		beq	.L70
 595:Libraries/uC-OSIII/os_core.c ****         *p_err = OS_ERR_ROUND_ROBIN_DISABLED;
 992              		.loc 1 595 0
 993 0674 7B68     		ldr	r3, [r7, #4]
 994 0676 46F67B12 		movw	r2, #27003
 995 067a 1A80     		strh	r2, [r3, #0]	@ movhi
 596:Libraries/uC-OSIII/os_core.c ****         return;
 996              		.loc 1 596 0
 997 067c 4AE0     		b	.L66
 998              	.L70:
 597:Libraries/uC-OSIII/os_core.c ****     }
 598:Libraries/uC-OSIII/os_core.c **** 
 599:Libraries/uC-OSIII/os_core.c ****     CPU_CRITICAL_ENTER();
 999              		.loc 1 599 0
 1000 067e FFF7FEFF 		bl	CPU_SR_Save
 1001 0682 7861     		str	r0, [r7, #20]
 1002 0684 FFF7FEFF 		bl	CPU_IntDisMeasStart
 600:Libraries/uC-OSIII/os_core.c ****     p_rdy_list = &OSRdyList[OSPrioCur];                     /* Can't yield if it's the only task at
 1003              		.loc 1 600 0
 1004 0688 40F20003 		movw	r3, #:lower16:OSPrioCur
 1005 068c C0F20003 		movt	r3, #:upper16:OSPrioCur
 1006 0690 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1007 0692 1A46     		mov	r2, r3
 1008 0694 1346     		mov	r3, r2
 1009 0696 4FEA4303 		lsl	r3, r3, #1
 1010 069a 9B18     		adds	r3, r3, r2
 1011 069c 4FEA8303 		lsl	r3, r3, #2
 1012 06a0 1A46     		mov	r2, r3
 1013 06a2 40F20003 		movw	r3, #:lower16:OSRdyList
 1014 06a6 C0F20003 		movt	r3, #:upper16:OSRdyList
 1015 06aa D318     		adds	r3, r2, r3
 1016 06ac 3B61     		str	r3, [r7, #16]
 601:Libraries/uC-OSIII/os_core.c ****     if (p_rdy_list->NbrEntries < (OS_OBJ_QTY)2) {
 1017              		.loc 1 601 0
 1018 06ae 3B69     		ldr	r3, [r7, #16]
 1019 06b0 1B89     		ldrh	r3, [r3, #8]
 1020 06b2 012B     		cmp	r3, #1
 1021 06b4 09D8     		bhi	.L71
 602:Libraries/uC-OSIII/os_core.c ****         CPU_CRITICAL_EXIT();
 1022              		.loc 1 602 0
 1023 06b6 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1024 06ba 7869     		ldr	r0, [r7, #20]
 1025 06bc FFF7FEFF 		bl	CPU_SR_Restore
 603:Libraries/uC-OSIII/os_core.c ****         *p_err = OS_ERR_ROUND_ROBIN_1;
 1026              		.loc 1 603 0
 1027 06c0 7B68     		ldr	r3, [r7, #4]
 1028 06c2 46F67A12 		movw	r2, #27002
 1029 06c6 1A80     		strh	r2, [r3, #0]	@ movhi
 604:Libraries/uC-OSIII/os_core.c ****         return;
 1030              		.loc 1 604 0
 1031 06c8 24E0     		b	.L66
 1032              	.L71:
 605:Libraries/uC-OSIII/os_core.c ****     }
 606:Libraries/uC-OSIII/os_core.c **** 
 607:Libraries/uC-OSIII/os_core.c ****     OS_RdyListMoveHeadToTail(p_rdy_list);                   /* Move current OS_TCB to the end of th
 1033              		.loc 1 607 0
 1034 06ca 3869     		ldr	r0, [r7, #16]
 1035 06cc FFF7FEFF 		bl	OS_RdyListMoveHeadToTail
 608:Libraries/uC-OSIII/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                            /* Point to new OS_TCB at head of the l
 1036              		.loc 1 608 0
 1037 06d0 3B69     		ldr	r3, [r7, #16]
 1038 06d2 1B68     		ldr	r3, [r3, #0]
 1039 06d4 FB60     		str	r3, [r7, #12]
 609:Libraries/uC-OSIII/os_core.c ****     if (p_tcb->TimeQuanta == (OS_TICK)0) {                  /* See if we need to use the default ti
 1040              		.loc 1 609 0
 1041 06d6 FB68     		ldr	r3, [r7, #12]
 1042 06d8 D3F89830 		ldr	r3, [r3, #152]
 1043 06dc 002B     		cmp	r3, #0
 1044 06de 08D1     		bne	.L72
 610:Libraries/uC-OSIII/os_core.c ****         p_tcb->TimeQuantaCtr = OSSchedRoundRobinDfltTimeQuanta;
 1045              		.loc 1 610 0
 1046 06e0 40F20003 		movw	r3, #:lower16:OSSchedRoundRobinDfltTimeQuanta
 1047 06e4 C0F20003 		movt	r3, #:upper16:OSSchedRoundRobinDfltTimeQuanta
 1048 06e8 1A68     		ldr	r2, [r3, #0]
 1049 06ea FB68     		ldr	r3, [r7, #12]
 1050 06ec C3F89C20 		str	r2, [r3, #156]
 1051 06f0 05E0     		b	.L73
 1052              	.L72:
 611:Libraries/uC-OSIII/os_core.c ****     } else {
 612:Libraries/uC-OSIII/os_core.c ****         p_tcb->TimeQuantaCtr = p_tcb->TimeQuanta;           /* Load time slice counter with new tim
 1053              		.loc 1 612 0
 1054 06f2 FB68     		ldr	r3, [r7, #12]
 1055 06f4 D3F89820 		ldr	r2, [r3, #152]
 1056 06f8 FB68     		ldr	r3, [r7, #12]
 1057 06fa C3F89C20 		str	r2, [r3, #156]
 1058              	.L73:
 613:Libraries/uC-OSIII/os_core.c ****     }
 614:Libraries/uC-OSIII/os_core.c **** 
 615:Libraries/uC-OSIII/os_core.c ****     CPU_CRITICAL_EXIT();
 1059              		.loc 1 615 0
 1060 06fe FFF7FEFF 		bl	CPU_IntDisMeasStop
 1061 0702 7869     		ldr	r0, [r7, #20]
 1062 0704 FFF7FEFF 		bl	CPU_SR_Restore
 616:Libraries/uC-OSIII/os_core.c **** 
 617:Libraries/uC-OSIII/os_core.c ****     OSSched();                                              /* Run new task                        
 1063              		.loc 1 617 0
 1064 0708 FFF7FEFF 		bl	OSSched
 618:Libraries/uC-OSIII/os_core.c ****     *p_err = OS_ERR_NONE;
 1065              		.loc 1 618 0
 1066 070c 7B68     		ldr	r3, [r7, #4]
 1067 070e 4FF00002 		mov	r2, #0
 1068 0712 1A80     		strh	r2, [r3, #0]	@ movhi
 1069              	.L66:
 619:Libraries/uC-OSIII/os_core.c **** }
 1070              		.loc 1 619 0
 1071 0714 07F11807 		add	r7, r7, #24
 1072 0718 BD46     		mov	sp, r7
 1073 071a 80BD     		pop	{r7, pc}
 1074              		.cfi_endproc
 1075              	.LFE7:
 1077              		.align	2
 1078              		.global	OSStart
 1079              		.thumb
 1080              		.thumb_func
 1082              	OSStart:
 1083              	.LFB8:
 620:Libraries/uC-OSIII/os_core.c **** #endif
 621:Libraries/uC-OSIII/os_core.c **** 
 622:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 623:Libraries/uC-OSIII/os_core.c **** /*
 624:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 625:Libraries/uC-OSIII/os_core.c **** *                                                 START MULTITASKING
 626:Libraries/uC-OSIII/os_core.c **** *
 627:Libraries/uC-OSIII/os_core.c **** * Description: This function is used to start the multitasking process which lets uC/OS-III manages
 628:Libraries/uC-OSIII/os_core.c **** *              created.  Before you can call OSStart(), you MUST have called OSInit() and you MUST 
 629:Libraries/uC-OSIII/os_core.c **** *              one application task.
 630:Libraries/uC-OSIII/os_core.c **** *
 631:Libraries/uC-OSIII/os_core.c **** * Argument(s): p_err      is a pointer to a variable that will contain an error code returned by th
 632:Libraries/uC-OSIII/os_core.c **** *
 633:Libraries/uC-OSIII/os_core.c **** *                             OS_ERR_FATAL_RETURN    OS was running and OSStart() returned.
 634:Libraries/uC-OSIII/os_core.c **** *                             OS_ERR_OS_RUNNING      OS is already running, OSStart() has no effect
 635:Libraries/uC-OSIII/os_core.c **** *
 636:Libraries/uC-OSIII/os_core.c **** * Returns    : none
 637:Libraries/uC-OSIII/os_core.c **** *
 638:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) OSStartHighRdy() MUST:
 639:Libraries/uC-OSIII/os_core.c **** *                 a) Call OSTaskSwHook() then,
 640:Libraries/uC-OSIII/os_core.c **** *                 b) Load the context of the task pointed to by OSTCBHighRdyPtr.
 641:Libraries/uC-OSIII/os_core.c **** *                 c) Execute the task.
 642:Libraries/uC-OSIII/os_core.c **** *
 643:Libraries/uC-OSIII/os_core.c **** *              2) OSStart() is not supposed to return.  If it does, that would be considered a fata
 644:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 645:Libraries/uC-OSIII/os_core.c **** */
 646:Libraries/uC-OSIII/os_core.c **** 
 647:Libraries/uC-OSIII/os_core.c **** void  OSStart (OS_ERR  *p_err)
 648:Libraries/uC-OSIII/os_core.c **** {
 1084              		.loc 1 648 0
 1085              		.cfi_startproc
 1086              		@ args = 0, pretend = 0, frame = 8
 1087              		@ frame_needed = 1, uses_anonymous_args = 0
 1088 071c 80B5     		push	{r7, lr}
 1089              	.LCFI23:
 1090              		.cfi_def_cfa_offset 8
 1091              		.cfi_offset 14, -4
 1092              		.cfi_offset 7, -8
 1093 071e 82B0     		sub	sp, sp, #8
 1094              	.LCFI24:
 1095              		.cfi_def_cfa_offset 16
 1096 0720 00AF     		add	r7, sp, #0
 1097              	.LCFI25:
 1098              		.cfi_def_cfa_register 7
 1099 0722 7860     		str	r0, [r7, #4]
 649:Libraries/uC-OSIII/os_core.c **** #ifdef OS_SAFETY_CRITICAL
 650:Libraries/uC-OSIII/os_core.c ****     if (p_err == (OS_ERR *)0) {
 651:Libraries/uC-OSIII/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 652:Libraries/uC-OSIII/os_core.c ****     }
 653:Libraries/uC-OSIII/os_core.c **** #endif
 654:Libraries/uC-OSIII/os_core.c **** 
 655:Libraries/uC-OSIII/os_core.c ****     if (OSRunning == OS_STATE_OS_STOPPED) {
 1100              		.loc 1 655 0
 1101 0724 40F20003 		movw	r3, #:lower16:OSRunning
 1102 0728 C0F20003 		movt	r3, #:upper16:OSRunning
 1103 072c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1104 072e 002B     		cmp	r3, #0
 1105 0730 41D1     		bne	.L75
 656:Libraries/uC-OSIII/os_core.c ****         OSPrioHighRdy   = OS_PrioGetHighest();              /* Find the highest priority           
 1106              		.loc 1 656 0
 1107 0732 FFF7FEFF 		bl	OS_PrioGetHighest
 1108 0736 0346     		mov	r3, r0
 1109 0738 1A46     		mov	r2, r3
 1110 073a 40F20003 		movw	r3, #:lower16:OSPrioHighRdy
 1111 073e C0F20003 		movt	r3, #:upper16:OSPrioHighRdy
 1112 0742 1A70     		strb	r2, [r3, #0]
 657:Libraries/uC-OSIII/os_core.c ****         OSPrioCur       = OSPrioHighRdy;
 1113              		.loc 1 657 0
 1114 0744 40F20003 		movw	r3, #:lower16:OSPrioHighRdy
 1115 0748 C0F20003 		movt	r3, #:upper16:OSPrioHighRdy
 1116 074c 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 1117 074e 40F20003 		movw	r3, #:lower16:OSPrioCur
 1118 0752 C0F20003 		movt	r3, #:upper16:OSPrioCur
 1119 0756 1A70     		strb	r2, [r3, #0]
 658:Libraries/uC-OSIII/os_core.c ****         OSTCBHighRdyPtr = OSRdyList[OSPrioHighRdy].HeadPtr;
 1120              		.loc 1 658 0
 1121 0758 40F20003 		movw	r3, #:lower16:OSPrioHighRdy
 1122 075c C0F20003 		movt	r3, #:upper16:OSPrioHighRdy
 1123 0760 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1124 0762 1946     		mov	r1, r3
 1125 0764 40F20002 		movw	r2, #:lower16:OSRdyList
 1126 0768 C0F20002 		movt	r2, #:upper16:OSRdyList
 1127 076c 0B46     		mov	r3, r1
 1128 076e 4FEA4303 		lsl	r3, r3, #1
 1129 0772 5B18     		adds	r3, r3, r1
 1130 0774 4FEA8303 		lsl	r3, r3, #2
 1131 0778 D318     		adds	r3, r2, r3
 1132 077a 1A68     		ldr	r2, [r3, #0]
 1133 077c 40F20003 		movw	r3, #:lower16:OSTCBHighRdyPtr
 1134 0780 C0F20003 		movt	r3, #:upper16:OSTCBHighRdyPtr
 1135 0784 1A60     		str	r2, [r3, #0]
 659:Libraries/uC-OSIII/os_core.c ****         OSTCBCurPtr     = OSTCBHighRdyPtr;
 1136              		.loc 1 659 0
 1137 0786 40F20003 		movw	r3, #:lower16:OSTCBHighRdyPtr
 1138 078a C0F20003 		movt	r3, #:upper16:OSTCBHighRdyPtr
 1139 078e 1A68     		ldr	r2, [r3, #0]
 1140 0790 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1141 0794 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1142 0798 1A60     		str	r2, [r3, #0]
 660:Libraries/uC-OSIII/os_core.c ****         OSRunning       = OS_STATE_OS_RUNNING;
 1143              		.loc 1 660 0
 1144 079a 40F20003 		movw	r3, #:lower16:OSRunning
 1145 079e C0F20003 		movt	r3, #:upper16:OSRunning
 1146 07a2 4FF00102 		mov	r2, #1
 1147 07a6 1A70     		strb	r2, [r3, #0]
 661:Libraries/uC-OSIII/os_core.c ****         OSStartHighRdy();                                   /* Execute target specific code to star
 1148              		.loc 1 661 0
 1149 07a8 FFF7FEFF 		bl	OSStartHighRdy
 662:Libraries/uC-OSIII/os_core.c ****         *p_err          = OS_ERR_FATAL_RETURN;              /* OSStart() is not supposed to return 
 1150              		.loc 1 662 0
 1151 07ac 7B68     		ldr	r3, [r7, #4]
 1152 07ae 43F69922 		movw	r2, #15001
 1153 07b2 1A80     		strh	r2, [r3, #0]	@ movhi
 1154 07b4 03E0     		b	.L74
 1155              	.L75:
 663:Libraries/uC-OSIII/os_core.c ****     } else {
 664:Libraries/uC-OSIII/os_core.c ****         *p_err          = OS_ERR_OS_RUNNING;                /* OS is already running               
 1156              		.loc 1 664 0
 1157 07b6 7B68     		ldr	r3, [r7, #4]
 1158 07b8 45F68A62 		movw	r2, #24202
 1159 07bc 1A80     		strh	r2, [r3, #0]	@ movhi
 1160              	.L74:
 665:Libraries/uC-OSIII/os_core.c ****     }
 666:Libraries/uC-OSIII/os_core.c **** }
 1161              		.loc 1 666 0
 1162 07be 07F10807 		add	r7, r7, #8
 1163 07c2 BD46     		mov	sp, r7
 1164 07c4 80BD     		pop	{r7, pc}
 1165              		.cfi_endproc
 1166              	.LFE8:
 1168 07c6 00BF     		.align	2
 1169              		.global	OSVersion
 1170              		.thumb
 1171              		.thumb_func
 1173              	OSVersion:
 1174              	.LFB9:
 667:Libraries/uC-OSIII/os_core.c **** 
 668:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 669:Libraries/uC-OSIII/os_core.c **** /*
 670:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 671:Libraries/uC-OSIII/os_core.c **** *                                                    GET VERSION
 672:Libraries/uC-OSIII/os_core.c **** *
 673:Libraries/uC-OSIII/os_core.c **** * Description: This function is used to return the version number of uC/OS-III.  The returned value
 674:Libraries/uC-OSIII/os_core.c **** *              uC/OS-III's version number multiplied by 1000.  In other words, version 3.00 would b
 675:Libraries/uC-OSIII/os_core.c **** *
 676:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_err   is a pointer to a variable that will receive an error code.  However, OSVers
 677:Libraries/uC-OSIII/os_core.c **** *                      variable to
 678:Libraries/uC-OSIII/os_core.c **** *
 679:Libraries/uC-OSIII/os_core.c **** *                         OS_ERR_NONE
 680:Libraries/uC-OSIII/os_core.c **** *
 681:Libraries/uC-OSIII/os_core.c **** * Returns    : The version number of uC/OS-III multiplied by 1000.
 682:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 683:Libraries/uC-OSIII/os_core.c **** */
 684:Libraries/uC-OSIII/os_core.c **** 
 685:Libraries/uC-OSIII/os_core.c **** CPU_INT16U  OSVersion (OS_ERR  *p_err)
 686:Libraries/uC-OSIII/os_core.c **** {
 1175              		.loc 1 686 0
 1176              		.cfi_startproc
 1177              		@ args = 0, pretend = 0, frame = 8
 1178              		@ frame_needed = 1, uses_anonymous_args = 0
 1179              		@ link register save eliminated.
 1180 07c8 80B4     		push	{r7}
 1181              	.LCFI26:
 1182              		.cfi_def_cfa_offset 4
 1183              		.cfi_offset 7, -4
 1184 07ca 83B0     		sub	sp, sp, #12
 1185              	.LCFI27:
 1186              		.cfi_def_cfa_offset 16
 1187 07cc 00AF     		add	r7, sp, #0
 1188              	.LCFI28:
 1189              		.cfi_def_cfa_register 7
 1190 07ce 7860     		str	r0, [r7, #4]
 687:Libraries/uC-OSIII/os_core.c **** #ifdef OS_SAFETY_CRITICAL
 688:Libraries/uC-OSIII/os_core.c ****     if (p_err == (OS_ERR *)0) {
 689:Libraries/uC-OSIII/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 690:Libraries/uC-OSIII/os_core.c ****     }
 691:Libraries/uC-OSIII/os_core.c **** #endif
 692:Libraries/uC-OSIII/os_core.c **** 
 693:Libraries/uC-OSIII/os_core.c ****     *p_err = OS_ERR_NONE;
 1191              		.loc 1 693 0
 1192 07d0 7B68     		ldr	r3, [r7, #4]
 1193 07d2 4FF00002 		mov	r2, #0
 1194 07d6 1A80     		strh	r2, [r3, #0]	@ movhi
 694:Libraries/uC-OSIII/os_core.c ****     return (OS_VERSION);
 1195              		.loc 1 694 0
 1196 07d8 40F6C433 		movw	r3, #3012
 695:Libraries/uC-OSIII/os_core.c **** }
 1197              		.loc 1 695 0
 1198 07dc 1846     		mov	r0, r3
 1199 07de 07F10C07 		add	r7, r7, #12
 1200 07e2 BD46     		mov	sp, r7
 1201 07e4 80BC     		pop	{r7}
 1202 07e6 7047     		bx	lr
 1203              		.cfi_endproc
 1204              	.LFE9:
 1206              		.align	2
 1207              		.global	OS_IdleTask
 1208              		.thumb
 1209              		.thumb_func
 1211              	OS_IdleTask:
 1212              	.LFB10:
 696:Libraries/uC-OSIII/os_core.c **** 
 697:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 698:Libraries/uC-OSIII/os_core.c **** /*
 699:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 700:Libraries/uC-OSIII/os_core.c **** *                                                      IDLE TASK
 701:Libraries/uC-OSIII/os_core.c **** *
 702:Libraries/uC-OSIII/os_core.c **** * Description: This task is internal to uC/OS-III and executes whenever no other higher priority ta
 703:Libraries/uC-OSIII/os_core.c **** *              they are ALL waiting for event(s) to occur.
 704:Libraries/uC-OSIII/os_core.c **** *
 705:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_arg    is an argument passed to the task when the task is created.
 706:Libraries/uC-OSIII/os_core.c **** *
 707:Libraries/uC-OSIII/os_core.c **** * Returns    : none
 708:Libraries/uC-OSIII/os_core.c **** *
 709:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
 710:Libraries/uC-OSIII/os_core.c **** *
 711:Libraries/uC-OSIII/os_core.c **** *              2) OSIdleTaskHook() is called after the critical section to ensure that interrupts w
 712:Libraries/uC-OSIII/os_core.c **** *                 least a few instructions.  On some processors (ex. Philips XA), enabling and then
 713:Libraries/uC-OSIII/os_core.c **** *                 doesn't allow the processor enough time to have interrupts enabled before they we
 714:Libraries/uC-OSIII/os_core.c **** *                 uC/OS-III would thus never recognize interrupts.
 715:Libraries/uC-OSIII/os_core.c **** *
 716:Libraries/uC-OSIII/os_core.c **** *              3) This hook has been added to allow you to do such things as STOP the CPU to conser
 717:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 718:Libraries/uC-OSIII/os_core.c **** */
 719:Libraries/uC-OSIII/os_core.c **** 
 720:Libraries/uC-OSIII/os_core.c **** void  OS_IdleTask (void *p_arg)
 721:Libraries/uC-OSIII/os_core.c **** {
 1213              		.loc 1 721 0
 1214              		.cfi_startproc
 1215              		@ args = 0, pretend = 0, frame = 16
 1216              		@ frame_needed = 1, uses_anonymous_args = 0
 1217 07e8 80B5     		push	{r7, lr}
 1218              	.LCFI29:
 1219              		.cfi_def_cfa_offset 8
 1220              		.cfi_offset 14, -4
 1221              		.cfi_offset 7, -8
 1222 07ea 84B0     		sub	sp, sp, #16
 1223              	.LCFI30:
 1224              		.cfi_def_cfa_offset 24
 1225 07ec 00AF     		add	r7, sp, #0
 1226              	.LCFI31:
 1227              		.cfi_def_cfa_register 7
 1228 07ee 7860     		str	r0, [r7, #4]
 722:Libraries/uC-OSIII/os_core.c ****     CPU_SR_ALLOC();
 1229              		.loc 1 722 0
 1230 07f0 4FF00003 		mov	r3, #0
 1231 07f4 FB60     		str	r3, [r7, #12]
 1232              	.L79:
 723:Libraries/uC-OSIII/os_core.c **** 
 724:Libraries/uC-OSIII/os_core.c **** 
 725:Libraries/uC-OSIII/os_core.c **** 
 726:Libraries/uC-OSIII/os_core.c ****     //p_arg = p_arg;                                          /* Prevent compiler warning for not u
 727:Libraries/uC-OSIII/os_core.c **** 
 728:Libraries/uC-OSIII/os_core.c ****     while (DEF_ON) {
 729:Libraries/uC-OSIII/os_core.c ****         CPU_CRITICAL_ENTER();
 1233              		.loc 1 729 0 discriminator 1
 1234 07f6 FFF7FEFF 		bl	CPU_SR_Save
 1235 07fa F860     		str	r0, [r7, #12]
 1236 07fc FFF7FEFF 		bl	CPU_IntDisMeasStart
 730:Libraries/uC-OSIII/os_core.c ****         OSIdleTaskCtr++;
 1237              		.loc 1 730 0 discriminator 1
 1238 0800 40F20003 		movw	r3, #:lower16:OSIdleTaskCtr
 1239 0804 C0F20003 		movt	r3, #:upper16:OSIdleTaskCtr
 1240 0808 1B68     		ldr	r3, [r3, #0]
 1241 080a 03F10102 		add	r2, r3, #1
 1242 080e 40F20003 		movw	r3, #:lower16:OSIdleTaskCtr
 1243 0812 C0F20003 		movt	r3, #:upper16:OSIdleTaskCtr
 1244 0816 1A60     		str	r2, [r3, #0]
 731:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_STAT_TASK_EN > 0u
 732:Libraries/uC-OSIII/os_core.c ****         OSStatTaskCtr++;
 1245              		.loc 1 732 0 discriminator 1
 1246 0818 40F20003 		movw	r3, #:lower16:OSStatTaskCtr
 1247 081c C0F20003 		movt	r3, #:upper16:OSStatTaskCtr
 1248 0820 1B68     		ldr	r3, [r3, #0]
 1249 0822 03F10102 		add	r2, r3, #1
 1250 0826 40F20003 		movw	r3, #:lower16:OSStatTaskCtr
 1251 082a C0F20003 		movt	r3, #:upper16:OSStatTaskCtr
 1252 082e 1A60     		str	r2, [r3, #0]
 733:Libraries/uC-OSIII/os_core.c **** #endif
 734:Libraries/uC-OSIII/os_core.c ****         CPU_CRITICAL_EXIT();
 1253              		.loc 1 734 0 discriminator 1
 1254 0830 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1255 0834 F868     		ldr	r0, [r7, #12]
 1256 0836 FFF7FEFF 		bl	CPU_SR_Restore
 735:Libraries/uC-OSIII/os_core.c **** 
 736:Libraries/uC-OSIII/os_core.c ****         OSIdleTaskHook();                                   /* Call user definable HOOK            
 1257              		.loc 1 736 0 discriminator 1
 1258 083a FFF7FEFF 		bl	OSIdleTaskHook
 737:Libraries/uC-OSIII/os_core.c ****     }
 1259              		.loc 1 737 0 discriminator 1
 1260 083e DAE7     		b	.L79
 1261              		.cfi_endproc
 1262              	.LFE10:
 1264              		.section	.rodata
 1265              		.align	2
 1266              	.LC0:
 1267 0000 75432F4F 		.ascii	"uC/OS-III Idle Task\000"
 1267      532D4949 
 1267      49204964 
 1267      6C652054 
 1267      61736B00 
 1268              		.text
 1269              		.align	2
 1270              		.global	OS_IdleTaskInit
 1271              		.thumb
 1272              		.thumb_func
 1274              	OS_IdleTaskInit:
 1275              	.LFB11:
 738:Libraries/uC-OSIII/os_core.c **** }
 739:Libraries/uC-OSIII/os_core.c **** 
 740:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 741:Libraries/uC-OSIII/os_core.c **** /*
 742:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 743:Libraries/uC-OSIII/os_core.c **** *                                               INITIALIZE THE IDLE TASK
 744:Libraries/uC-OSIII/os_core.c **** *
 745:Libraries/uC-OSIII/os_core.c **** * Description: This function initializes the idle task
 746:Libraries/uC-OSIII/os_core.c **** *
 747:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_err    is a pointer to a variable that will contain an error code returned by this
 748:Libraries/uC-OSIII/os_core.c **** *
 749:Libraries/uC-OSIII/os_core.c **** * Returns    : none
 750:Libraries/uC-OSIII/os_core.c **** *
 751:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
 752:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 753:Libraries/uC-OSIII/os_core.c **** */
 754:Libraries/uC-OSIII/os_core.c **** 
 755:Libraries/uC-OSIII/os_core.c **** void  OS_IdleTaskInit (OS_ERR  *p_err)
 756:Libraries/uC-OSIII/os_core.c **** {
 1276              		.loc 1 756 0
 1277              		.cfi_startproc
 1278              		@ args = 0, pretend = 0, frame = 8
 1279              		@ frame_needed = 1, uses_anonymous_args = 0
 1280 0840 80B5     		push	{r7, lr}
 1281              	.LCFI32:
 1282              		.cfi_def_cfa_offset 8
 1283              		.cfi_offset 14, -4
 1284              		.cfi_offset 7, -8
 1285 0842 8CB0     		sub	sp, sp, #48
 1286              	.LCFI33:
 1287              		.cfi_def_cfa_offset 56
 1288 0844 0AAF     		add	r7, sp, #40
 1289              	.LCFI34:
 1290              		.cfi_def_cfa 7, 16
 1291 0846 7860     		str	r0, [r7, #4]
 757:Libraries/uC-OSIII/os_core.c **** #ifdef OS_SAFETY_CRITICAL
 758:Libraries/uC-OSIII/os_core.c ****     if (p_err == (OS_ERR *)0) {
 759:Libraries/uC-OSIII/os_core.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 760:Libraries/uC-OSIII/os_core.c ****     }
 761:Libraries/uC-OSIII/os_core.c **** #endif
 762:Libraries/uC-OSIII/os_core.c **** 
 763:Libraries/uC-OSIII/os_core.c ****     OSIdleTaskCtr = (OS_IDLE_CTR)0;
 1292              		.loc 1 763 0
 1293 0848 40F20003 		movw	r3, #:lower16:OSIdleTaskCtr
 1294 084c C0F20003 		movt	r3, #:upper16:OSIdleTaskCtr
 1295 0850 4FF00002 		mov	r2, #0
 1296 0854 1A60     		str	r2, [r3, #0]
 764:Libraries/uC-OSIII/os_core.c ****                                                             /* ---------------- CREATE THE IDLE TAS
 765:Libraries/uC-OSIII/os_core.c ****     OSTaskCreate((OS_TCB     *)&OSIdleTaskTCB,
 1297              		.loc 1 765 0
 1298 0856 40F20003 		movw	r3, #:lower16:OSCfg_IdleTaskStkBasePtr
 1299 085a C0F20003 		movt	r3, #:upper16:OSCfg_IdleTaskStkBasePtr
 1300 085e 1968     		ldr	r1, [r3, #0]
 1301 0860 40F20003 		movw	r3, #:lower16:OSCfg_IdleTaskStkLimit
 1302 0864 C0F20003 		movt	r3, #:upper16:OSCfg_IdleTaskStkLimit
 1303 0868 1A68     		ldr	r2, [r3, #0]
 1304 086a 40F20003 		movw	r3, #:lower16:OSCfg_IdleTaskStkSize
 1305 086e C0F20003 		movt	r3, #:upper16:OSCfg_IdleTaskStkSize
 1306 0872 1B68     		ldr	r3, [r3, #0]
 1307 0874 4FF03F00 		mov	r0, #63
 1308 0878 0090     		str	r0, [sp, #0]
 1309 087a 0191     		str	r1, [sp, #4]
 1310 087c 0292     		str	r2, [sp, #8]
 1311 087e 0393     		str	r3, [sp, #12]
 1312 0880 4FF00003 		mov	r3, #0
 1313 0884 0493     		str	r3, [sp, #16]
 1314 0886 4FF00003 		mov	r3, #0
 1315 088a 0593     		str	r3, [sp, #20]
 1316 088c 4FF00003 		mov	r3, #0
 1317 0890 0693     		str	r3, [sp, #24]
 1318 0892 4FF00303 		mov	r3, #3
 1319 0896 0793     		str	r3, [sp, #28]
 1320 0898 7B68     		ldr	r3, [r7, #4]
 1321 089a 0893     		str	r3, [sp, #32]
 1322 089c 40F20000 		movw	r0, #:lower16:OSIdleTaskTCB
 1323 08a0 C0F20000 		movt	r0, #:upper16:OSIdleTaskTCB
 1324 08a4 40F20001 		movw	r1, #:lower16:.LC0
 1325 08a8 C0F20001 		movt	r1, #:upper16:.LC0
 1326 08ac 40F20002 		movw	r2, #:lower16:OS_IdleTask
 1327 08b0 C0F20002 		movt	r2, #:upper16:OS_IdleTask
 1328 08b4 4FF00003 		mov	r3, #0
 1329 08b8 FFF7FEFF 		bl	OSTaskCreate
 766:Libraries/uC-OSIII/os_core.c ****                  (CPU_CHAR   *)((void *)"uC/OS-III Idle Task"),
 767:Libraries/uC-OSIII/os_core.c ****                  (OS_TASK_PTR)OS_IdleTask,
 768:Libraries/uC-OSIII/os_core.c ****                  (void       *)0,
 769:Libraries/uC-OSIII/os_core.c ****                  (OS_PRIO     )(OS_CFG_PRIO_MAX - 1u),
 770:Libraries/uC-OSIII/os_core.c ****                  (CPU_STK    *)OSCfg_IdleTaskStkBasePtr,
 771:Libraries/uC-OSIII/os_core.c ****                  (CPU_STK_SIZE)OSCfg_IdleTaskStkLimit,
 772:Libraries/uC-OSIII/os_core.c ****                  (CPU_STK_SIZE)OSCfg_IdleTaskStkSize,
 773:Libraries/uC-OSIII/os_core.c ****                  (OS_MSG_QTY  )0,
 774:Libraries/uC-OSIII/os_core.c ****                  (OS_TICK     )0,
 775:Libraries/uC-OSIII/os_core.c ****                  (void       *)0,
 776:Libraries/uC-OSIII/os_core.c ****                  (OS_OPT      )(OS_OPT_TASK_STK_CHK | OS_OPT_TASK_STK_CLR),
 777:Libraries/uC-OSIII/os_core.c ****                  (OS_ERR     *)p_err);
 778:Libraries/uC-OSIII/os_core.c **** }
 1330              		.loc 1 778 0
 1331 08bc 07F10807 		add	r7, r7, #8
 1332 08c0 BD46     		mov	sp, r7
 1333 08c2 80BD     		pop	{r7, pc}
 1334              		.cfi_endproc
 1335              	.LFE11:
 1337              		.align	2
 1338              		.global	OS_Pend
 1339              		.thumb
 1340              		.thumb_func
 1342              	OS_Pend:
 1343              	.LFB12:
 779:Libraries/uC-OSIII/os_core.c **** 
 780:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 781:Libraries/uC-OSIII/os_core.c **** /*
 782:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 783:Libraries/uC-OSIII/os_core.c **** *                                             BLOCK A TASK PENDING ON EVENT
 784:Libraries/uC-OSIII/os_core.c **** *
 785:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to place a task in the blocked state waiting for an event to
 786:Libraries/uC-OSIII/os_core.c **** *              exist because it is common to a number of OSxxxPend() services.
 787:Libraries/uC-OSIII/os_core.c **** *
 788:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_pend_data    is a pointer to an object used to link the task being blocked to the 
 789:Libraries/uC-OSIII/os_core.c **** *              -----------    pending on the desired object.
 790:Libraries/uC-OSIII/os_core.c **** 
 791:Libraries/uC-OSIII/os_core.c **** *              p_obj          is a pointer to the object to pend on.  If there are no object used t
 792:Libraries/uC-OSIII/os_core.c **** *              -----          the caller must pass a NULL pointer.
 793:Libraries/uC-OSIII/os_core.c **** *
 794:Libraries/uC-OSIII/os_core.c **** *              pending_on     Specifies what the task will be pending on:
 795:Libraries/uC-OSIII/os_core.c **** *
 796:Libraries/uC-OSIII/os_core.c **** *                                 OS_TASK_PEND_ON_FLAG
 797:Libraries/uC-OSIII/os_core.c **** *                                 OS_TASK_PEND_ON_TASK_Q     <- No object (pending for a message se
 798:Libraries/uC-OSIII/os_core.c **** *                                 OS_TASK_PEND_ON_MUTEX
 799:Libraries/uC-OSIII/os_core.c **** *                                 OS_TASK_PEND_ON_Q
 800:Libraries/uC-OSIII/os_core.c **** *                                 OS_TASK_PEND_ON_SEM
 801:Libraries/uC-OSIII/os_core.c **** *                                 OS_TASK_PEND_ON_TASK_SEM   <- No object (pending on a signal sent
 802:Libraries/uC-OSIII/os_core.c **** *
 803:Libraries/uC-OSIII/os_core.c **** *              timeout        Is the amount of time the task will wait for the event to occur.
 804:Libraries/uC-OSIII/os_core.c **** *
 805:Libraries/uC-OSIII/os_core.c **** * Returns    : none
 806:Libraries/uC-OSIII/os_core.c **** *
 807:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
 808:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 809:Libraries/uC-OSIII/os_core.c **** */
 810:Libraries/uC-OSIII/os_core.c **** 
 811:Libraries/uC-OSIII/os_core.c **** void  OS_Pend (OS_PEND_DATA  *p_pend_data,
 812:Libraries/uC-OSIII/os_core.c ****                OS_PEND_OBJ   *p_obj,
 813:Libraries/uC-OSIII/os_core.c ****                OS_STATE       pending_on,
 814:Libraries/uC-OSIII/os_core.c ****                OS_TICK        timeout)
 815:Libraries/uC-OSIII/os_core.c **** {
 1344              		.loc 1 815 0
 1345              		.cfi_startproc
 1346              		@ args = 0, pretend = 0, frame = 24
 1347              		@ frame_needed = 1, uses_anonymous_args = 0
 1348 08c4 80B5     		push	{r7, lr}
 1349              	.LCFI35:
 1350              		.cfi_def_cfa_offset 8
 1351              		.cfi_offset 14, -4
 1352              		.cfi_offset 7, -8
 1353 08c6 86B0     		sub	sp, sp, #24
 1354              	.LCFI36:
 1355              		.cfi_def_cfa_offset 32
 1356 08c8 00AF     		add	r7, sp, #0
 1357              	.LCFI37:
 1358              		.cfi_def_cfa_register 7
 1359 08ca F860     		str	r0, [r7, #12]
 1360 08cc B960     		str	r1, [r7, #8]
 1361 08ce 3B60     		str	r3, [r7, #0]
 1362 08d0 1346     		mov	r3, r2
 1363 08d2 FB71     		strb	r3, [r7, #7]
 816:Libraries/uC-OSIII/os_core.c ****     OS_PEND_LIST  *p_pend_list;
 817:Libraries/uC-OSIII/os_core.c **** 
 818:Libraries/uC-OSIII/os_core.c **** 
 819:Libraries/uC-OSIII/os_core.c **** 
 820:Libraries/uC-OSIII/os_core.c ****     OSTCBCurPtr->PendOn     = pending_on;                    /* Resource not available, wait until 
 1364              		.loc 1 820 0
 1365 08d4 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1366 08d8 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1367 08dc 1B68     		ldr	r3, [r3, #0]
 1368 08de FA79     		ldrb	r2, [r7, #7]
 1369 08e0 83F8C020 		strb	r2, [r3, #192]
 821:Libraries/uC-OSIII/os_core.c ****     OSTCBCurPtr->PendStatus = OS_STATUS_PEND_OK;
 1370              		.loc 1 821 0
 1371 08e4 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1372 08e8 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1373 08ec 1B68     		ldr	r3, [r3, #0]
 1374 08ee 4FF00002 		mov	r2, #0
 1375 08f2 83F8C120 		strb	r2, [r3, #193]
 822:Libraries/uC-OSIII/os_core.c **** 
 823:Libraries/uC-OSIII/os_core.c ****     OS_TaskBlock(OSTCBCurPtr,                                /* Block the task and add it to the ti
 1376              		.loc 1 823 0
 1377 08f6 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1378 08fa C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1379 08fe 1B68     		ldr	r3, [r3, #0]
 1380 0900 1846     		mov	r0, r3
 1381 0902 3968     		ldr	r1, [r7, #0]
 1382 0904 FFF7FEFF 		bl	OS_TaskBlock
 824:Libraries/uC-OSIII/os_core.c ****                  timeout);
 825:Libraries/uC-OSIII/os_core.c **** 
 826:Libraries/uC-OSIII/os_core.c ****     if (p_obj != (OS_PEND_OBJ *)0) {                         /* Add the current task to the pend li
 1383              		.loc 1 826 0
 1384 0908 BB68     		ldr	r3, [r7, #8]
 1385 090a 002B     		cmp	r3, #0
 1386 090c 16D0     		beq	.L82
 827:Libraries/uC-OSIII/os_core.c ****         p_pend_list             = &p_obj->PendList;          /* ... if there is an object to pend o
 1387              		.loc 1 827 0
 1388 090e BB68     		ldr	r3, [r7, #8]
 1389 0910 03F10803 		add	r3, r3, #8
 1390 0914 7B61     		str	r3, [r7, #20]
 828:Libraries/uC-OSIII/os_core.c ****         p_pend_data->PendObjPtr = p_obj;                     /* Save the pointer to the object pend
 1391              		.loc 1 828 0
 1392 0916 FB68     		ldr	r3, [r7, #12]
 1393 0918 BA68     		ldr	r2, [r7, #8]
 1394 091a DA60     		str	r2, [r3, #12]
 829:Libraries/uC-OSIII/os_core.c ****         OS_PendDataInit((OS_TCB       *)OSTCBCurPtr,         /* Initialize the remaining field     
 1395              		.loc 1 829 0
 1396 091c 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1397 0920 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1398 0924 1B68     		ldr	r3, [r3, #0]
 1399 0926 1846     		mov	r0, r3
 1400 0928 F968     		ldr	r1, [r7, #12]
 1401 092a 4FF00102 		mov	r2, #1
 1402 092e FFF7FEFF 		bl	OS_PendDataInit
 830:Libraries/uC-OSIII/os_core.c ****                         (OS_PEND_DATA *)p_pend_data,
 831:Libraries/uC-OSIII/os_core.c ****                         (OS_OBJ_QTY    )1);
 832:Libraries/uC-OSIII/os_core.c ****         OS_PendListInsertPrio(p_pend_list,                   /* Insert in the pend list in priority
 1403              		.loc 1 832 0
 1404 0932 7869     		ldr	r0, [r7, #20]
 1405 0934 F968     		ldr	r1, [r7, #12]
 1406 0936 FFF7FEFF 		bl	OS_PendListInsertPrio
 1407 093a 0FE0     		b	.L83
 1408              	.L82:
 833:Libraries/uC-OSIII/os_core.c ****                               p_pend_data);
 834:Libraries/uC-OSIII/os_core.c ****     } else {
 835:Libraries/uC-OSIII/os_core.c ****         OSTCBCurPtr->PendDataTblEntries = (OS_OBJ_QTY    )0; /* If no object being pended on the cl
 1409              		.loc 1 835 0
 1410 093c 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1411 0940 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1412 0944 1B68     		ldr	r3, [r3, #0]
 1413 0946 4FF00002 		mov	r2, #0
 1414 094a 9A86     		strh	r2, [r3, #52]	@ movhi
 836:Libraries/uC-OSIII/os_core.c ****         OSTCBCurPtr->PendDataTblPtr     = (OS_PEND_DATA *)0; /* ... in the TCB                     
 1415              		.loc 1 836 0
 1416 094c 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1417 0950 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1418 0954 1B68     		ldr	r3, [r3, #0]
 1419 0956 4FF00002 		mov	r2, #0
 1420 095a 1A63     		str	r2, [r3, #48]
 1421              	.L83:
 837:Libraries/uC-OSIII/os_core.c ****     }
 838:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_DBG_EN > 0u
 839:Libraries/uC-OSIII/os_core.c ****     OS_PendDbgNameAdd(p_obj,
 1422              		.loc 1 839 0
 1423 095c 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1424 0960 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1425 0964 1B68     		ldr	r3, [r3, #0]
 1426 0966 B868     		ldr	r0, [r7, #8]
 1427 0968 1946     		mov	r1, r3
 1428 096a FFF7FEFF 		bl	OS_PendDbgNameAdd
 840:Libraries/uC-OSIII/os_core.c ****                       OSTCBCurPtr);
 841:Libraries/uC-OSIII/os_core.c **** #endif
 842:Libraries/uC-OSIII/os_core.c **** }
 1429              		.loc 1 842 0
 1430 096e 07F11807 		add	r7, r7, #24
 1431 0972 BD46     		mov	sp, r7
 1432 0974 80BD     		pop	{r7, pc}
 1433              		.cfi_endproc
 1434              	.LFE12:
 1436 0976 00BF     		.align	2
 1437              		.global	OS_PendAbort
 1438              		.thumb
 1439              		.thumb_func
 1441              	OS_PendAbort:
 1442              	.LFB13:
 843:Libraries/uC-OSIII/os_core.c **** 
 844:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 845:Libraries/uC-OSIII/os_core.c **** /*
 846:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 847:Libraries/uC-OSIII/os_core.c **** *                                                     ABORT PENDING
 848:Libraries/uC-OSIII/os_core.c **** *
 849:Libraries/uC-OSIII/os_core.c **** * Description: This function is called by OSxxxPendAbort() functions to abort pending on an event.
 850:Libraries/uC-OSIII/os_core.c **** *
 851:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_obj          Is a pointer to the object to pend abort.
 852:Libraries/uC-OSIII/os_core.c **** *              -----
 853:Libraries/uC-OSIII/os_core.c **** *
 854:Libraries/uC-OSIII/os_core.c **** *              p_tcb          Is a pointer to the OS_TCB of the task that we'll abort the pend for
 855:Libraries/uC-OSIII/os_core.c **** *              -----
 856:Libraries/uC-OSIII/os_core.c **** *
 857:Libraries/uC-OSIII/os_core.c **** *              ts             The is a timestamp as to when the pend abort occurred
 858:Libraries/uC-OSIII/os_core.c **** *
 859:Libraries/uC-OSIII/os_core.c **** * Returns    : none
 860:Libraries/uC-OSIII/os_core.c **** *
 861:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
 862:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 863:Libraries/uC-OSIII/os_core.c **** */
 864:Libraries/uC-OSIII/os_core.c **** 
 865:Libraries/uC-OSIII/os_core.c **** void   OS_PendAbort (OS_PEND_OBJ *p_obj,
 866:Libraries/uC-OSIII/os_core.c ****                      OS_TCB      *p_tcb,
 867:Libraries/uC-OSIII/os_core.c ****                      CPU_TS       ts)
 868:Libraries/uC-OSIII/os_core.c **** {
 1443              		.loc 1 868 0
 1444              		.cfi_startproc
 1445              		@ args = 0, pretend = 0, frame = 16
 1446              		@ frame_needed = 1, uses_anonymous_args = 0
 1447 0978 80B5     		push	{r7, lr}
 1448              	.LCFI38:
 1449              		.cfi_def_cfa_offset 8
 1450              		.cfi_offset 14, -4
 1451              		.cfi_offset 7, -8
 1452 097a 84B0     		sub	sp, sp, #16
 1453              	.LCFI39:
 1454              		.cfi_def_cfa_offset 24
 1455 097c 00AF     		add	r7, sp, #0
 1456              	.LCFI40:
 1457              		.cfi_def_cfa_register 7
 1458 097e F860     		str	r0, [r7, #12]
 1459 0980 B960     		str	r1, [r7, #8]
 1460 0982 7A60     		str	r2, [r7, #4]
 869:Libraries/uC-OSIII/os_core.c ****     switch (p_tcb->TaskState) {
 1461              		.loc 1 869 0
 1462 0984 BB68     		ldr	r3, [r7, #8]
 1463 0986 93F8C230 		ldrb	r3, [r3, #194]	@ zero_extendqisi2
 1464 098a 072B     		cmp	r3, #7
 1465 098c 70D8     		bhi	.L95
 1466 098e 4FF04C42 		mov	r2, #-872415232
 1467 0992 02FA03F2 		lsl	r2, r2, r3
 1468 0996 002A     		cmp	r2, #0
 1469 0998 6CDB     		blt	.L96
 1470 099a 4FF04072 		mov	r2, #50331648
 1471 099e 02FA03F2 		lsl	r2, r2, r3
 1472 09a2 002A     		cmp	r2, #0
 1473 09a4 34DB     		blt	.L88
 1474 09a6 4FF04052 		mov	r2, #805306368
 1475 09aa 02FA03F3 		lsl	r3, r2, r3
 1476 09ae 002B     		cmp	r3, #0
 1477 09b0 5DDA     		bge	.L94
 1478              	.L87:
 870:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_RDY:                             /* Cannot Pend Abort a task that is rea
 871:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_DLY:                             /* Cannot Pend Abort a task that is del
 872:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_SUSPENDED:                       /* Cannot Pend Abort a suspended task  
 873:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_DLY_SUSPENDED:                   /* Cannot Pend Abort a suspended task t
 874:Libraries/uC-OSIII/os_core.c ****              break;
 875:Libraries/uC-OSIII/os_core.c **** 
 876:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_PEND:
 877:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
 878:Libraries/uC-OSIII/os_core.c ****              if (p_tcb->PendOn == OS_TASK_PEND_ON_MULTI) {
 1479              		.loc 1 878 0
 1480 09b2 BB68     		ldr	r3, [r7, #8]
 1481 09b4 93F8C030 		ldrb	r3, [r3, #192]	@ zero_extendqisi2
 1482 09b8 032B     		cmp	r3, #3
 1483 09ba 04D1     		bne	.L90
 879:Libraries/uC-OSIII/os_core.c ****                  OS_PendAbort1(p_obj,                            /* Indicate which object was pend 
 1484              		.loc 1 879 0
 1485 09bc F868     		ldr	r0, [r7, #12]
 1486 09be B968     		ldr	r1, [r7, #8]
 1487 09c0 7A68     		ldr	r2, [r7, #4]
 1488 09c2 FFF7FEFF 		bl	OS_PendAbort1
 1489              	.L90:
 880:Libraries/uC-OSIII/os_core.c ****                                p_tcb,
 881:Libraries/uC-OSIII/os_core.c ****                                ts);
 882:Libraries/uC-OSIII/os_core.c ****              }
 883:Libraries/uC-OSIII/os_core.c **** #if (OS_MSG_EN > 0u)
 884:Libraries/uC-OSIII/os_core.c ****              p_tcb->MsgPtr     = (void      *)0;
 1490              		.loc 1 884 0
 1491 09c6 BB68     		ldr	r3, [r7, #8]
 1492 09c8 4FF00002 		mov	r2, #0
 1493 09cc DA63     		str	r2, [r3, #60]
 885:Libraries/uC-OSIII/os_core.c ****              p_tcb->MsgSize    = (OS_MSG_SIZE)0u;
 1494              		.loc 1 885 0
 1495 09ce BB68     		ldr	r3, [r7, #8]
 1496 09d0 4FF00002 		mov	r2, #0
 1497 09d4 A3F84020 		strh	r2, [r3, #64]	@ movhi
 886:Libraries/uC-OSIII/os_core.c **** #endif
 887:Libraries/uC-OSIII/os_core.c ****              p_tcb->TS         = ts;
 1498              		.loc 1 887 0
 1499 09d8 BB68     		ldr	r3, [r7, #8]
 1500 09da 7A68     		ldr	r2, [r7, #4]
 1501 09dc 9A63     		str	r2, [r3, #56]
 888:Libraries/uC-OSIII/os_core.c ****              if (p_obj != (OS_PEND_OBJ *)0) {
 1502              		.loc 1 888 0
 1503 09de FB68     		ldr	r3, [r7, #12]
 1504 09e0 002B     		cmp	r3, #0
 1505 09e2 02D0     		beq	.L91
 889:Libraries/uC-OSIII/os_core.c ****                  OS_PendListRemove(p_tcb);                       /* Remove task from all pend lists
 1506              		.loc 1 889 0
 1507 09e4 B868     		ldr	r0, [r7, #8]
 1508 09e6 FFF7FEFF 		bl	OS_PendListRemove
 1509              	.L91:
 890:Libraries/uC-OSIII/os_core.c ****              }
 891:Libraries/uC-OSIII/os_core.c ****              OS_TaskRdy(p_tcb);
 1510              		.loc 1 891 0
 1511 09ea B868     		ldr	r0, [r7, #8]
 1512 09ec FFF7FEFF 		bl	OS_TaskRdy
 892:Libraries/uC-OSIII/os_core.c ****              p_tcb->TaskState  = OS_TASK_STATE_RDY;              /* Task will be ready             
 1513              		.loc 1 892 0
 1514 09f0 BB68     		ldr	r3, [r7, #8]
 1515 09f2 4FF00002 		mov	r2, #0
 1516 09f6 83F8C220 		strb	r2, [r3, #194]
 893:Libraries/uC-OSIII/os_core.c ****              p_tcb->PendStatus = OS_STATUS_PEND_ABORT;           /* Indicate pend was aborted      
 1517              		.loc 1 893 0
 1518 09fa BB68     		ldr	r3, [r7, #8]
 1519 09fc 4FF00102 		mov	r2, #1
 1520 0a00 83F8C120 		strb	r2, [r3, #193]
 894:Libraries/uC-OSIII/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;        /* Indicate no longer pending     
 1521              		.loc 1 894 0
 1522 0a04 BB68     		ldr	r3, [r7, #8]
 1523 0a06 4FF00002 		mov	r2, #0
 1524 0a0a 83F8C020 		strb	r2, [r3, #192]
 895:Libraries/uC-OSIII/os_core.c ****              break;
 1525              		.loc 1 895 0
 1526 0a0e 32E0     		b	.L84
 1527              	.L88:
 896:Libraries/uC-OSIII/os_core.c **** 
 897:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
 898:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
 899:Libraries/uC-OSIII/os_core.c ****              if (p_tcb->PendOn == OS_TASK_PEND_ON_MULTI) {
 1528              		.loc 1 899 0
 1529 0a10 BB68     		ldr	r3, [r7, #8]
 1530 0a12 93F8C030 		ldrb	r3, [r3, #192]	@ zero_extendqisi2
 1531 0a16 032B     		cmp	r3, #3
 1532 0a18 04D1     		bne	.L92
 900:Libraries/uC-OSIII/os_core.c ****                  OS_PendAbort1(p_obj,                            /* Indicate which object was pend 
 1533              		.loc 1 900 0
 1534 0a1a F868     		ldr	r0, [r7, #12]
 1535 0a1c B968     		ldr	r1, [r7, #8]
 1536 0a1e 7A68     		ldr	r2, [r7, #4]
 1537 0a20 FFF7FEFF 		bl	OS_PendAbort1
 1538              	.L92:
 901:Libraries/uC-OSIII/os_core.c ****                                p_tcb,
 902:Libraries/uC-OSIII/os_core.c ****                                ts);
 903:Libraries/uC-OSIII/os_core.c ****              }
 904:Libraries/uC-OSIII/os_core.c **** #if (OS_MSG_EN > 0u)
 905:Libraries/uC-OSIII/os_core.c ****              p_tcb->MsgPtr     = (void      *)0;
 1539              		.loc 1 905 0
 1540 0a24 BB68     		ldr	r3, [r7, #8]
 1541 0a26 4FF00002 		mov	r2, #0
 1542 0a2a DA63     		str	r2, [r3, #60]
 906:Libraries/uC-OSIII/os_core.c ****              p_tcb->MsgSize    = (OS_MSG_SIZE)0u;
 1543              		.loc 1 906 0
 1544 0a2c BB68     		ldr	r3, [r7, #8]
 1545 0a2e 4FF00002 		mov	r2, #0
 1546 0a32 A3F84020 		strh	r2, [r3, #64]	@ movhi
 907:Libraries/uC-OSIII/os_core.c **** #endif
 908:Libraries/uC-OSIII/os_core.c ****              p_tcb->TS         = ts;
 1547              		.loc 1 908 0
 1548 0a36 BB68     		ldr	r3, [r7, #8]
 1549 0a38 7A68     		ldr	r2, [r7, #4]
 1550 0a3a 9A63     		str	r2, [r3, #56]
 909:Libraries/uC-OSIII/os_core.c ****              if (p_obj != (OS_PEND_OBJ *)0) {
 1551              		.loc 1 909 0
 1552 0a3c FB68     		ldr	r3, [r7, #12]
 1553 0a3e 002B     		cmp	r3, #0
 1554 0a40 02D0     		beq	.L93
 910:Libraries/uC-OSIII/os_core.c ****                  OS_PendListRemove(p_tcb);                       /* Remove task from all pend lists
 1555              		.loc 1 910 0
 1556 0a42 B868     		ldr	r0, [r7, #8]
 1557 0a44 FFF7FEFF 		bl	OS_PendListRemove
 1558              	.L93:
 911:Libraries/uC-OSIII/os_core.c ****              }
 912:Libraries/uC-OSIII/os_core.c ****              OS_TickListRemove(p_tcb);                           /* Cancel the timeout             
 1559              		.loc 1 912 0
 1560 0a48 B868     		ldr	r0, [r7, #8]
 1561 0a4a FFF7FEFF 		bl	OS_TickListRemove
 913:Libraries/uC-OSIII/os_core.c ****              p_tcb->TaskState  = OS_TASK_STATE_SUSPENDED;        /* Pend Aborted task is still susp
 1562              		.loc 1 913 0
 1563 0a4e BB68     		ldr	r3, [r7, #8]
 1564 0a50 4FF00402 		mov	r2, #4
 1565 0a54 83F8C220 		strb	r2, [r3, #194]
 914:Libraries/uC-OSIII/os_core.c ****              p_tcb->PendStatus = OS_STATUS_PEND_ABORT;           /* Indicate pend was aborted      
 1566              		.loc 1 914 0
 1567 0a58 BB68     		ldr	r3, [r7, #8]
 1568 0a5a 4FF00102 		mov	r2, #1
 1569 0a5e 83F8C120 		strb	r2, [r3, #193]
 915:Libraries/uC-OSIII/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;        /* Indicate no longer pending     
 1570              		.loc 1 915 0
 1571 0a62 BB68     		ldr	r3, [r7, #8]
 1572 0a64 4FF00002 		mov	r2, #0
 1573 0a68 83F8C020 		strb	r2, [r3, #192]
 916:Libraries/uC-OSIII/os_core.c ****              break;
 1574              		.loc 1 916 0
 1575 0a6c 03E0     		b	.L84
 1576              	.L94:
 917:Libraries/uC-OSIII/os_core.c **** 
 918:Libraries/uC-OSIII/os_core.c ****         default:
 919:Libraries/uC-OSIII/os_core.c ****              break;
 1577              		.loc 1 919 0
 1578 0a6e 00BF     		nop
 1579              	.L95:
 1580 0a70 00BF     		nop
 1581 0a72 00E0     		b	.L84
 1582              	.L96:
 874:Libraries/uC-OSIII/os_core.c ****              break;
 1583              		.loc 1 874 0
 1584 0a74 00BF     		nop
 1585              	.L84:
 920:Libraries/uC-OSIII/os_core.c ****     }
 921:Libraries/uC-OSIII/os_core.c **** }
 1586              		.loc 1 921 0
 1587 0a76 07F11007 		add	r7, r7, #16
 1588 0a7a BD46     		mov	sp, r7
 1589 0a7c 80BD     		pop	{r7, pc}
 1590              		.cfi_endproc
 1591              	.LFE13:
 1593 0a7e 00BF     		.align	2
 1594              		.global	OS_PendAbort1
 1595              		.thumb
 1596              		.thumb_func
 1598              	OS_PendAbort1:
 1599              	.LFB14:
 922:Libraries/uC-OSIII/os_core.c **** 
 923:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 924:Libraries/uC-OSIII/os_core.c **** /*
 925:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 926:Libraries/uC-OSIII/os_core.c **** *                                           PEND ABORT A TASK PENDING ON MULTIPLE OBJECTS
 927:Libraries/uC-OSIII/os_core.c **** *
 928:Libraries/uC-OSIII/os_core.c **** * Description: This function is called when a task is pending on multiple objects and one of the ob
 929:Libraries/uC-OSIII/os_core.c **** *              aborted.  This function needs to indicate to the caller which object was pend aborte
 930:Libraries/uC-OSIII/os_core.c **** *              address of the object in the OS_PEND_DATA table corresponding to the pend aborted ob
 931:Libraries/uC-OSIII/os_core.c **** *
 932:Libraries/uC-OSIII/os_core.c **** *              For example, if the task pends on six (6) objects, the address of those 6 objects ar
 933:Libraries/uC-OSIII/os_core.c **** *              .PendObjPtr field of the OS_PEND_DATA table as shown below.  Note that the .PendData
 934:Libraries/uC-OSIII/os_core.c **** *              OS_TCB would be set to six (6) in this case.  As shown, when the pend call returns b
 935:Libraries/uC-OSIII/os_core.c **** *              aborted 'Obj C' then, only the one entry contains the .RdyObjPtr filled in data and 
 936:Libraries/uC-OSIII/os_core.c **** *              contains NULL pointers and zero data.
 937:Libraries/uC-OSIII/os_core.c **** *
 938:Libraries/uC-OSIII/os_core.c **** *              You should note that the NULL pointers are zero data values are actually filled in b
 939:Libraries/uC-OSIII/os_core.c **** *
 940:Libraries/uC-OSIII/os_core.c **** *
 941:Libraries/uC-OSIII/os_core.c **** *                                           .PendObjPtr    .RdyObjPtr     .RdyMsgPtr     .RdyMsgSiz
 942:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
 943:Libraries/uC-OSIII/os_core.c **** *              p_tcb->PendDataTblPtr  ->  |  Obj A       |  0           | 0            | 0         
 944:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
 945:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj B       |  0           | 0            | 0         
 946:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
 947:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj C       |  Obj C       | 0            | 0         
 948:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
 949:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj D       |  0           | 0            | 0         
 950:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
 951:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj E       |  0           | 0            | 0         
 952:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
 953:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj F       |  0           | 0            | 0         
 954:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
 955:Libraries/uC-OSIII/os_core.c **** *
 956:Libraries/uC-OSIII/os_core.c **** *
 957:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_obj        is a pointer to the object being pend aborted to
 958:Libraries/uC-OSIII/os_core.c **** *              -----
 959:Libraries/uC-OSIII/os_core.c **** *
 960:Libraries/uC-OSIII/os_core.c **** *              p_tcb        is a pointer to the OS_TCB of the task that we'll abort he pend for
 961:Libraries/uC-OSIII/os_core.c **** *              -----
 962:Libraries/uC-OSIII/os_core.c **** *
 963:Libraries/uC-OSIII/os_core.c **** *              ts           is the time stamp of when the pend abort occurred
 964:Libraries/uC-OSIII/os_core.c **** *
 965:Libraries/uC-OSIII/os_core.c **** * Returns    : none
 966:Libraries/uC-OSIII/os_core.c **** *
 967:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
 968:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 969:Libraries/uC-OSIII/os_core.c **** */
 970:Libraries/uC-OSIII/os_core.c **** 
 971:Libraries/uC-OSIII/os_core.c **** void  OS_PendAbort1 (OS_PEND_OBJ  *p_obj,
 972:Libraries/uC-OSIII/os_core.c ****                      OS_TCB       *p_tcb,
 973:Libraries/uC-OSIII/os_core.c ****                      CPU_TS        ts)
 974:Libraries/uC-OSIII/os_core.c **** {
 1600              		.loc 1 974 0
 1601              		.cfi_startproc
 1602              		@ args = 0, pretend = 0, frame = 24
 1603              		@ frame_needed = 1, uses_anonymous_args = 0
 1604              		@ link register save eliminated.
 1605 0a80 80B4     		push	{r7}
 1606              	.LCFI41:
 1607              		.cfi_def_cfa_offset 4
 1608              		.cfi_offset 7, -4
 1609 0a82 87B0     		sub	sp, sp, #28
 1610              	.LCFI42:
 1611              		.cfi_def_cfa_offset 32
 1612 0a84 00AF     		add	r7, sp, #0
 1613              	.LCFI43:
 1614              		.cfi_def_cfa_register 7
 1615 0a86 F860     		str	r0, [r7, #12]
 1616 0a88 B960     		str	r1, [r7, #8]
 1617 0a8a 7A60     		str	r2, [r7, #4]
 975:Libraries/uC-OSIII/os_core.c ****     OS_OBJ_QTY      n_pend_list;                                    /* Number of pend lists        
 976:Libraries/uC-OSIII/os_core.c ****     OS_PEND_DATA   *p_pend_data;
 977:Libraries/uC-OSIII/os_core.c **** 
 978:Libraries/uC-OSIII/os_core.c **** 
 979:Libraries/uC-OSIII/os_core.c **** 
 980:Libraries/uC-OSIII/os_core.c ****     p_pend_data = p_tcb->PendDataTblPtr;                            /* Point to the first OS_PEND_D
 1618              		.loc 1 980 0
 1619 0a8c BB68     		ldr	r3, [r7, #8]
 1620 0a8e 1B6B     		ldr	r3, [r3, #48]
 1621 0a90 3B61     		str	r3, [r7, #16]
 981:Libraries/uC-OSIII/os_core.c ****     n_pend_list = p_tcb->PendDataTblEntries;                        /* Get number of entries in the
 1622              		.loc 1 981 0
 1623 0a92 BB68     		ldr	r3, [r7, #8]
 1624 0a94 9B8E     		ldrh	r3, [r3, #52]	@ movhi
 1625 0a96 FB82     		strh	r3, [r7, #22]	@ movhi
 982:Libraries/uC-OSIII/os_core.c **** 
 983:Libraries/uC-OSIII/os_core.c ****     while (n_pend_list > (OS_OBJ_QTY)0) {                           /* Mark posted object in OS_PEN
 1626              		.loc 1 983 0
 1627 0a98 13E0     		b	.L98
 1628              	.L101:
 984:Libraries/uC-OSIII/os_core.c ****         if (p_obj == p_pend_data->PendObjPtr) {                     /* Did we find the object pend 
 1629              		.loc 1 984 0
 1630 0a9a 3B69     		ldr	r3, [r7, #16]
 1631 0a9c DA68     		ldr	r2, [r3, #12]
 1632 0a9e FB68     		ldr	r3, [r7, #12]
 1633 0aa0 9A42     		cmp	r2, r3
 1634 0aa2 06D1     		bne	.L99
 985:Libraries/uC-OSIII/os_core.c ****             p_pend_data->RdyObjPtr = p_obj;                         /* Yes, indicate the object in 
 1635              		.loc 1 985 0
 1636 0aa4 3B69     		ldr	r3, [r7, #16]
 1637 0aa6 FA68     		ldr	r2, [r7, #12]
 1638 0aa8 1A61     		str	r2, [r3, #16]
 986:Libraries/uC-OSIII/os_core.c ****             p_pend_data->RdyTS     = ts;                            /*      save the timestamp of t
 1639              		.loc 1 986 0
 1640 0aaa 3B69     		ldr	r3, [r7, #16]
 1641 0aac 7A68     		ldr	r2, [r7, #4]
 1642 0aae DA61     		str	r2, [r3, #28]
 987:Libraries/uC-OSIII/os_core.c ****             break;
 1643              		.loc 1 987 0
 1644 0ab0 0AE0     		b	.L97
 1645              	.L99:
 988:Libraries/uC-OSIII/os_core.c ****         }
 989:Libraries/uC-OSIII/os_core.c ****         p_pend_data++;
 1646              		.loc 1 989 0
 1647 0ab2 3B69     		ldr	r3, [r7, #16]
 1648 0ab4 03F12003 		add	r3, r3, #32
 1649 0ab8 3B61     		str	r3, [r7, #16]
 990:Libraries/uC-OSIII/os_core.c ****         n_pend_list--;
 1650              		.loc 1 990 0
 1651 0aba FB8A     		ldrh	r3, [r7, #22]	@ movhi
 1652 0abc 03F1FF33 		add	r3, r3, #-1
 1653 0ac0 FB82     		strh	r3, [r7, #22]	@ movhi
 1654              	.L98:
 983:Libraries/uC-OSIII/os_core.c ****     while (n_pend_list > (OS_OBJ_QTY)0) {                           /* Mark posted object in OS_PEN
 1655              		.loc 1 983 0 discriminator 1
 1656 0ac2 FB8A     		ldrh	r3, [r7, #22]
 1657 0ac4 002B     		cmp	r3, #0
 1658 0ac6 E8D1     		bne	.L101
 1659              	.L97:
 991:Libraries/uC-OSIII/os_core.c ****     }
 992:Libraries/uC-OSIII/os_core.c **** }
 1660              		.loc 1 992 0
 1661 0ac8 07F11C07 		add	r7, r7, #28
 1662 0acc BD46     		mov	sp, r7
 1663 0ace 80BC     		pop	{r7}
 1664 0ad0 7047     		bx	lr
 1665              		.cfi_endproc
 1666              	.LFE14:
 1668 0ad2 00BF     		.align	2
 1669              		.global	OS_PendDataInit
 1670              		.thumb
 1671              		.thumb_func
 1673              	OS_PendDataInit:
 1674              	.LFB15:
 993:Libraries/uC-OSIII/os_core.c **** 
 994:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
 995:Libraries/uC-OSIII/os_core.c **** /*
 996:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
 997:Libraries/uC-OSIII/os_core.c **** *                                              INITIALIZE A WAIT LIST TABLE
 998:Libraries/uC-OSIII/os_core.c **** *
 999:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to initialize the fields of a table of OS_PEND_DATA entries.
1000:Libraries/uC-OSIII/os_core.c **** *              the .PendObjPtr field of each entry in the table is set by the caller and thus will 
1001:Libraries/uC-OSIII/os_core.c **** *              this function.
1002:Libraries/uC-OSIII/os_core.c **** *
1003:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_tcb              is a pointer to the TCB of the task that we want to pend abort.
1004:Libraries/uC-OSIII/os_core.c **** *              -----
1005:Libraries/uC-OSIII/os_core.c **** *
1006:Libraries/uC-OSIII/os_core.c **** *              p_pend_data_tbl    is a pointer to a table (see below) of OS_PEND_DATA elements to i
1007:Libraries/uC-OSIII/os_core.c **** *              ---------------
1008:Libraries/uC-OSIII/os_core.c **** *
1009:Libraries/uC-OSIII/os_core.c **** *                                  .PendObjPtr .RdyObjPtr .RdyMsgPtr .RdyMsgSize .RdyTS .TCBPtr .Ne
1010:Libraries/uC-OSIII/os_core.c **** *                                 +-----------+----------+----------+-----------+------+-------+---
1011:Libraries/uC-OSIII/os_core.c **** *               p_pend_data_tbl-> |     ?     |  0       | 0        | 0         | 0    | p_tcb | 0 
1012:Libraries/uC-OSIII/os_core.c **** *                                 +-----------+----------+----------+-----------+------+-------+---
1013:Libraries/uC-OSIII/os_core.c **** *                                 |     ?     |  0       | 0        | 0         | 0    | p_tcb | 0 
1014:Libraries/uC-OSIII/os_core.c **** *                                 +-----------+----------+----------+-----------+------+-------+---
1015:Libraries/uC-OSIII/os_core.c **** *                                 |     ?     |  0       | 0        | 0         | 0    | p_tcb | 0 
1016:Libraries/uC-OSIII/os_core.c **** *                                 +-----------+----------+----------+-----------+------+-------+---
1017:Libraries/uC-OSIII/os_core.c **** *                                 |     ?     |  0       | 0        | 0         | 0    | p_tcb | 0 
1018:Libraries/uC-OSIII/os_core.c **** *                                 +-----------+----------+----------+-----------+------+-------+---
1019:Libraries/uC-OSIII/os_core.c **** *                                 |     ?     |  0       | 0        | 0         | 0    | p_tcb | 0 
1020:Libraries/uC-OSIII/os_core.c **** *                                 +-----------+----------+----------+-----------+------+-------+---
1021:Libraries/uC-OSIII/os_core.c **** *                                 |     ?     |  0       | 0        | 0         | 0    | p_tcb | 0 
1022:Libraries/uC-OSIII/os_core.c **** *                                 +-----------+----------+----------+-----------+------+-------+---
1023:Libraries/uC-OSIII/os_core.c **** *
1024:Libraries/uC-OSIII/os_core.c **** *              tbl_size           is the size of the table in number of entries
1025:Libraries/uC-OSIII/os_core.c **** *
1026:Libraries/uC-OSIII/os_core.c **** * Returns    : none
1027:Libraries/uC-OSIII/os_core.c **** *
1028:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application must not call it.
1029:Libraries/uC-OSIII/os_core.c **** *
1030:Libraries/uC-OSIII/os_core.c **** *              2) It's possible for the table to be of size 1 when multi-pend is not used
1031:Libraries/uC-OSIII/os_core.c **** *
1032:Libraries/uC-OSIII/os_core.c **** *              3) Note that the .PendObjPtr is NOT touched because it's assumed to be set by the ca
1033:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1034:Libraries/uC-OSIII/os_core.c **** */
1035:Libraries/uC-OSIII/os_core.c **** 
1036:Libraries/uC-OSIII/os_core.c **** void  OS_PendDataInit (OS_TCB        *p_tcb,
1037:Libraries/uC-OSIII/os_core.c ****                        OS_PEND_DATA  *p_pend_data_tbl,
1038:Libraries/uC-OSIII/os_core.c ****                        OS_OBJ_QTY     tbl_size)
1039:Libraries/uC-OSIII/os_core.c **** {
 1675              		.loc 1 1039 0
 1676              		.cfi_startproc
 1677              		@ args = 0, pretend = 0, frame = 24
 1678              		@ frame_needed = 1, uses_anonymous_args = 0
 1679              		@ link register save eliminated.
 1680 0ad4 80B4     		push	{r7}
 1681              	.LCFI44:
 1682              		.cfi_def_cfa_offset 4
 1683              		.cfi_offset 7, -4
 1684 0ad6 87B0     		sub	sp, sp, #28
 1685              	.LCFI45:
 1686              		.cfi_def_cfa_offset 32
 1687 0ad8 00AF     		add	r7, sp, #0
 1688              	.LCFI46:
 1689              		.cfi_def_cfa_register 7
 1690 0ada F860     		str	r0, [r7, #12]
 1691 0adc B960     		str	r1, [r7, #8]
 1692 0ade 1346     		mov	r3, r2
 1693 0ae0 FB80     		strh	r3, [r7, #6]	@ movhi
1040:Libraries/uC-OSIII/os_core.c ****     OS_OBJ_QTY  i;
1041:Libraries/uC-OSIII/os_core.c **** 
1042:Libraries/uC-OSIII/os_core.c **** 
1043:Libraries/uC-OSIII/os_core.c **** 
1044:Libraries/uC-OSIII/os_core.c ****     p_tcb->PendDataTblEntries = tbl_size;                   /* Link the TCB to the beginning of the
 1694              		.loc 1 1044 0
 1695 0ae2 FB68     		ldr	r3, [r7, #12]
 1696 0ae4 FA88     		ldrh	r2, [r7, #6]	@ movhi
 1697 0ae6 9A86     		strh	r2, [r3, #52]	@ movhi
1045:Libraries/uC-OSIII/os_core.c ****     p_tcb->PendDataTblPtr     = p_pend_data_tbl;
 1698              		.loc 1 1045 0
 1699 0ae8 FB68     		ldr	r3, [r7, #12]
 1700 0aea BA68     		ldr	r2, [r7, #8]
 1701 0aec 1A63     		str	r2, [r3, #48]
1046:Libraries/uC-OSIII/os_core.c **** 
1047:Libraries/uC-OSIII/os_core.c ****     for (i = 0u; i < tbl_size; i++) {
 1702              		.loc 1 1047 0
 1703 0aee 4FF00003 		mov	r3, #0
 1704 0af2 FB82     		strh	r3, [r7, #22]	@ movhi
 1705 0af4 22E0     		b	.L103
 1706              	.L104:
1048:Libraries/uC-OSIII/os_core.c ****         p_pend_data_tbl->NextPtr    = (OS_PEND_DATA *)0;    /* Initialize all the fields           
 1707              		.loc 1 1048 0 discriminator 2
 1708 0af6 BB68     		ldr	r3, [r7, #8]
 1709 0af8 4FF00002 		mov	r2, #0
 1710 0afc 5A60     		str	r2, [r3, #4]
1049:Libraries/uC-OSIII/os_core.c ****         p_pend_data_tbl->PrevPtr    = (OS_PEND_DATA *)0;
 1711              		.loc 1 1049 0 discriminator 2
 1712 0afe BB68     		ldr	r3, [r7, #8]
 1713 0b00 4FF00002 		mov	r2, #0
 1714 0b04 1A60     		str	r2, [r3, #0]
1050:Libraries/uC-OSIII/os_core.c ****         p_pend_data_tbl->RdyObjPtr  = (void         *)0;
 1715              		.loc 1 1050 0 discriminator 2
 1716 0b06 BB68     		ldr	r3, [r7, #8]
 1717 0b08 4FF00002 		mov	r2, #0
 1718 0b0c 1A61     		str	r2, [r3, #16]
1051:Libraries/uC-OSIII/os_core.c ****         p_pend_data_tbl->RdyMsgPtr  = (void         *)0;
 1719              		.loc 1 1051 0 discriminator 2
 1720 0b0e BB68     		ldr	r3, [r7, #8]
 1721 0b10 4FF00002 		mov	r2, #0
 1722 0b14 5A61     		str	r2, [r3, #20]
1052:Libraries/uC-OSIII/os_core.c ****         p_pend_data_tbl->RdyMsgSize = (OS_MSG_SIZE   )0;
 1723              		.loc 1 1052 0 discriminator 2
 1724 0b16 BB68     		ldr	r3, [r7, #8]
 1725 0b18 4FF00002 		mov	r2, #0
 1726 0b1c 1A83     		strh	r2, [r3, #24]	@ movhi
1053:Libraries/uC-OSIII/os_core.c ****         p_pend_data_tbl->RdyTS      = (CPU_TS        )0;
 1727              		.loc 1 1053 0 discriminator 2
 1728 0b1e BB68     		ldr	r3, [r7, #8]
 1729 0b20 4FF00002 		mov	r2, #0
 1730 0b24 DA61     		str	r2, [r3, #28]
1054:Libraries/uC-OSIII/os_core.c ****         p_pend_data_tbl->TCBPtr     = p_tcb;                /* Every entry points back to the TCB o
 1731              		.loc 1 1054 0 discriminator 2
 1732 0b26 BB68     		ldr	r3, [r7, #8]
 1733 0b28 FA68     		ldr	r2, [r7, #12]
 1734 0b2a 9A60     		str	r2, [r3, #8]
1055:Libraries/uC-OSIII/os_core.c ****         p_pend_data_tbl++;
 1735              		.loc 1 1055 0 discriminator 2
 1736 0b2c BB68     		ldr	r3, [r7, #8]
 1737 0b2e 03F12003 		add	r3, r3, #32
 1738 0b32 BB60     		str	r3, [r7, #8]
1047:Libraries/uC-OSIII/os_core.c ****     for (i = 0u; i < tbl_size; i++) {
 1739              		.loc 1 1047 0 discriminator 2
 1740 0b34 FB8A     		ldrh	r3, [r7, #22]	@ movhi
 1741 0b36 03F10103 		add	r3, r3, #1
 1742 0b3a FB82     		strh	r3, [r7, #22]	@ movhi
 1743              	.L103:
1047:Libraries/uC-OSIII/os_core.c ****     for (i = 0u; i < tbl_size; i++) {
 1744              		.loc 1 1047 0 is_stmt 0 discriminator 1
 1745 0b3c FA8A     		ldrh	r2, [r7, #22]
 1746 0b3e FB88     		ldrh	r3, [r7, #6]
 1747 0b40 9A42     		cmp	r2, r3
 1748 0b42 D8D3     		bcc	.L104
1056:Libraries/uC-OSIII/os_core.c ****     }
1057:Libraries/uC-OSIII/os_core.c **** }
 1749              		.loc 1 1057 0 is_stmt 1
 1750 0b44 07F11C07 		add	r7, r7, #28
 1751 0b48 BD46     		mov	sp, r7
 1752 0b4a 80BC     		pop	{r7}
 1753 0b4c 7047     		bx	lr
 1754              		.cfi_endproc
 1755              	.LFE15:
 1757              		.section	.rodata
 1758              		.align	2
 1759              	.LC1:
 1760 0014 5461736B 		.ascii	"Task Q\000"
 1760      205100
 1761 001b 00       		.align	2
 1762              	.LC2:
 1763 001c 5461736B 		.ascii	"Task Sem\000"
 1763      2053656D 
 1763      00
 1764 0025 000000   		.align	2
 1765              	.LC3:
 1766 0028 2000     		.ascii	" \000"
 1767 002a 0000     		.text
 1768 0b4e 00BF     		.align	2
 1769              		.global	OS_PendDbgNameAdd
 1770              		.thumb
 1771              		.thumb_func
 1773              	OS_PendDbgNameAdd:
 1774              	.LFB16:
1058:Libraries/uC-OSIII/os_core.c **** 
1059:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
1060:Libraries/uC-OSIII/os_core.c **** /*
1061:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1062:Libraries/uC-OSIII/os_core.c **** *                                     ADD/REMOVE DEBUG NAMES TO PENDED OBJECT AND OS_TCB
1063:Libraries/uC-OSIII/os_core.c **** *
1064:Libraries/uC-OSIII/os_core.c **** * Description: These functions are used to add pointers to ASCII 'names' of objects so they can eas
1065:Libraries/uC-OSIII/os_core.c **** *              using a kernel aware tool.
1066:Libraries/uC-OSIII/os_core.c **** *
1067:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_obj              is a pointer to the object being pended on
1068:Libraries/uC-OSIII/os_core.c **** *
1069:Libraries/uC-OSIII/os_core.c **** *              p_tcb              is a pointer to the OS_TCB of the task pending on the object
1070:Libraries/uC-OSIII/os_core.c **** *
1071:Libraries/uC-OSIII/os_core.c **** * Returns    : none
1072:Libraries/uC-OSIII/os_core.c **** *
1073:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) These functions are INTERNAL to uC/OS-III and your application must not call it.
1074:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1075:Libraries/uC-OSIII/os_core.c **** */
1076:Libraries/uC-OSIII/os_core.c **** 
1077:Libraries/uC-OSIII/os_core.c **** 
1078:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_DBG_EN > 0u
1079:Libraries/uC-OSIII/os_core.c **** void  OS_PendDbgNameAdd (OS_PEND_OBJ  *p_obj,
1080:Libraries/uC-OSIII/os_core.c ****                          OS_TCB       *p_tcb)
1081:Libraries/uC-OSIII/os_core.c **** {
 1775              		.loc 1 1081 0
 1776              		.cfi_startproc
 1777              		@ args = 0, pretend = 0, frame = 24
 1778              		@ frame_needed = 1, uses_anonymous_args = 0
 1779              		@ link register save eliminated.
 1780 0b50 80B4     		push	{r7}
 1781              	.LCFI47:
 1782              		.cfi_def_cfa_offset 4
 1783              		.cfi_offset 7, -4
 1784 0b52 87B0     		sub	sp, sp, #28
 1785              	.LCFI48:
 1786              		.cfi_def_cfa_offset 32
 1787 0b54 00AF     		add	r7, sp, #0
 1788              	.LCFI49:
 1789              		.cfi_def_cfa_register 7
 1790 0b56 7860     		str	r0, [r7, #4]
 1791 0b58 3960     		str	r1, [r7, #0]
1082:Libraries/uC-OSIII/os_core.c ****     OS_PEND_LIST  *p_pend_list;
1083:Libraries/uC-OSIII/os_core.c ****     OS_PEND_DATA  *p_pend_data;
1084:Libraries/uC-OSIII/os_core.c ****     OS_TCB        *p_tcb1;
1085:Libraries/uC-OSIII/os_core.c **** 
1086:Libraries/uC-OSIII/os_core.c **** 
1087:Libraries/uC-OSIII/os_core.c ****     if (p_obj != (OS_PEND_OBJ *)0) {
 1792              		.loc 1 1087 0
 1793 0b5a 7B68     		ldr	r3, [r7, #4]
 1794 0b5c 002B     		cmp	r3, #0
 1795 0b5e 13D0     		beq	.L106
1088:Libraries/uC-OSIII/os_core.c ****         p_tcb->DbgNamePtr =  p_obj->NamePtr;                /* Task pending on this object ... save
 1796              		.loc 1 1088 0
 1797 0b60 7B68     		ldr	r3, [r7, #4]
 1798 0b62 5A68     		ldr	r2, [r3, #4]
 1799 0b64 3B68     		ldr	r3, [r7, #0]
 1800 0b66 C3F8CC20 		str	r2, [r3, #204]
1089:Libraries/uC-OSIII/os_core.c ****         p_pend_list       = &p_obj->PendList;               /* Find name of HP task pending on this
 1801              		.loc 1 1089 0
 1802 0b6a 7B68     		ldr	r3, [r7, #4]
 1803 0b6c 03F10803 		add	r3, r3, #8
 1804 0b70 7B61     		str	r3, [r7, #20]
1090:Libraries/uC-OSIII/os_core.c ****         p_pend_data       =  p_pend_list->HeadPtr;
 1805              		.loc 1 1090 0
 1806 0b72 7B69     		ldr	r3, [r7, #20]
 1807 0b74 1B68     		ldr	r3, [r3, #0]
 1808 0b76 3B61     		str	r3, [r7, #16]
1091:Libraries/uC-OSIII/os_core.c ****         p_tcb1            =  p_pend_data->TCBPtr;
 1809              		.loc 1 1091 0
 1810 0b78 3B69     		ldr	r3, [r7, #16]
 1811 0b7a 9B68     		ldr	r3, [r3, #8]
 1812 0b7c FB60     		str	r3, [r7, #12]
1092:Libraries/uC-OSIII/os_core.c ****         p_obj->DbgNamePtr = p_tcb1->NamePtr;                /* ... Save in object                  
 1813              		.loc 1 1092 0
 1814 0b7e FB68     		ldr	r3, [r7, #12]
 1815 0b80 1A6A     		ldr	r2, [r3, #32]
 1816 0b82 7B68     		ldr	r3, [r7, #4]
 1817 0b84 DA61     		str	r2, [r3, #28]
 1818 0b86 1FE0     		b	.L105
 1819              	.L106:
1093:Libraries/uC-OSIII/os_core.c ****     } else {
1094:Libraries/uC-OSIII/os_core.c ****         switch (p_tcb->PendOn) {
 1820              		.loc 1 1094 0
 1821 0b88 3B68     		ldr	r3, [r7, #0]
 1822 0b8a 93F8C030 		ldrb	r3, [r3, #192]	@ zero_extendqisi2
 1823 0b8e 022B     		cmp	r3, #2
 1824 0b90 02D0     		beq	.L109
 1825 0b92 072B     		cmp	r3, #7
 1826 0b94 08D0     		beq	.L110
 1827 0b96 0FE0     		b	.L111
 1828              	.L109:
1095:Libraries/uC-OSIII/os_core.c ****             case OS_TASK_PEND_ON_TASK_Q:
1096:Libraries/uC-OSIII/os_core.c ****                  p_tcb->DbgNamePtr = (CPU_CHAR *)((void *)"Task Q");
 1829              		.loc 1 1096 0
 1830 0b98 3A68     		ldr	r2, [r7, #0]
 1831 0b9a 40F20003 		movw	r3, #:lower16:.LC1
 1832 0b9e C0F20003 		movt	r3, #:upper16:.LC1
 1833 0ba2 C2F8CC30 		str	r3, [r2, #204]
1097:Libraries/uC-OSIII/os_core.c ****                  break;
 1834              		.loc 1 1097 0
 1835 0ba6 0FE0     		b	.L105
 1836              	.L110:
1098:Libraries/uC-OSIII/os_core.c **** 
1099:Libraries/uC-OSIII/os_core.c ****             case OS_TASK_PEND_ON_TASK_SEM:
1100:Libraries/uC-OSIII/os_core.c ****                  p_tcb->DbgNamePtr = (CPU_CHAR *)((void *)"Task Sem");
 1837              		.loc 1 1100 0
 1838 0ba8 3A68     		ldr	r2, [r7, #0]
 1839 0baa 40F20003 		movw	r3, #:lower16:.LC2
 1840 0bae C0F20003 		movt	r3, #:upper16:.LC2
 1841 0bb2 C2F8CC30 		str	r3, [r2, #204]
1101:Libraries/uC-OSIII/os_core.c ****                  break;
 1842              		.loc 1 1101 0
 1843 0bb6 07E0     		b	.L105
 1844              	.L111:
1102:Libraries/uC-OSIII/os_core.c **** 
1103:Libraries/uC-OSIII/os_core.c ****             default:
1104:Libraries/uC-OSIII/os_core.c ****                  p_tcb->DbgNamePtr = (CPU_CHAR *)((void *)" ");
 1845              		.loc 1 1104 0
 1846 0bb8 3A68     		ldr	r2, [r7, #0]
 1847 0bba 40F20003 		movw	r3, #:lower16:.LC3
 1848 0bbe C0F20003 		movt	r3, #:upper16:.LC3
 1849 0bc2 C2F8CC30 		str	r3, [r2, #204]
1105:Libraries/uC-OSIII/os_core.c ****                  break;
 1850              		.loc 1 1105 0
 1851 0bc6 00BF     		nop
 1852              	.L105:
1106:Libraries/uC-OSIII/os_core.c ****         }
1107:Libraries/uC-OSIII/os_core.c ****     }
1108:Libraries/uC-OSIII/os_core.c **** }
 1853              		.loc 1 1108 0
 1854 0bc8 07F11C07 		add	r7, r7, #28
 1855 0bcc BD46     		mov	sp, r7
 1856 0bce 80BC     		pop	{r7}
 1857 0bd0 7047     		bx	lr
 1858              		.cfi_endproc
 1859              	.LFE16:
 1861 0bd2 00BF     		.align	2
 1862              		.global	OS_PendDbgNameRemove
 1863              		.thumb
 1864              		.thumb_func
 1866              	OS_PendDbgNameRemove:
 1867              	.LFB17:
1109:Libraries/uC-OSIII/os_core.c **** 
1110:Libraries/uC-OSIII/os_core.c **** 
1111:Libraries/uC-OSIII/os_core.c **** 
1112:Libraries/uC-OSIII/os_core.c **** void  OS_PendDbgNameRemove (OS_PEND_OBJ  *p_obj,
1113:Libraries/uC-OSIII/os_core.c ****                             OS_TCB       *p_tcb)
1114:Libraries/uC-OSIII/os_core.c **** {
 1868              		.loc 1 1114 0
 1869              		.cfi_startproc
 1870              		@ args = 0, pretend = 0, frame = 24
 1871              		@ frame_needed = 1, uses_anonymous_args = 0
 1872              		@ link register save eliminated.
 1873 0bd4 80B4     		push	{r7}
 1874              	.LCFI50:
 1875              		.cfi_def_cfa_offset 4
 1876              		.cfi_offset 7, -4
 1877 0bd6 87B0     		sub	sp, sp, #28
 1878              	.LCFI51:
 1879              		.cfi_def_cfa_offset 32
 1880 0bd8 00AF     		add	r7, sp, #0
 1881              	.LCFI52:
 1882              		.cfi_def_cfa_register 7
 1883 0bda 7860     		str	r0, [r7, #4]
 1884 0bdc 3960     		str	r1, [r7, #0]
1115:Libraries/uC-OSIII/os_core.c ****     OS_PEND_LIST  *p_pend_list;
1116:Libraries/uC-OSIII/os_core.c ****     OS_PEND_DATA  *p_pend_data;
1117:Libraries/uC-OSIII/os_core.c ****     OS_TCB        *p_tcb1;
1118:Libraries/uC-OSIII/os_core.c **** 
1119:Libraries/uC-OSIII/os_core.c **** 
1120:Libraries/uC-OSIII/os_core.c ****     p_tcb->DbgNamePtr = (CPU_CHAR *)((void *)" ");          /* Remove name of object pended on for 
 1885              		.loc 1 1120 0
 1886 0bde 3A68     		ldr	r2, [r7, #0]
 1887 0be0 40F20003 		movw	r3, #:lower16:.LC3
 1888 0be4 C0F20003 		movt	r3, #:upper16:.LC3
 1889 0be8 C2F8CC30 		str	r3, [r2, #204]
1121:Libraries/uC-OSIII/os_core.c ****     p_pend_list       = &p_obj->PendList;
 1890              		.loc 1 1121 0
 1891 0bec 7B68     		ldr	r3, [r7, #4]
 1892 0bee 03F10803 		add	r3, r3, #8
 1893 0bf2 7B61     		str	r3, [r7, #20]
1122:Libraries/uC-OSIII/os_core.c ****     p_pend_data       =  p_pend_list->HeadPtr;
 1894              		.loc 1 1122 0
 1895 0bf4 7B69     		ldr	r3, [r7, #20]
 1896 0bf6 1B68     		ldr	r3, [r3, #0]
 1897 0bf8 3B61     		str	r3, [r7, #16]
1123:Libraries/uC-OSIII/os_core.c ****     if (p_pend_data  != (OS_PEND_DATA *)0) {
 1898              		.loc 1 1123 0
 1899 0bfa 3B69     		ldr	r3, [r7, #16]
 1900 0bfc 002B     		cmp	r3, #0
 1901 0bfe 07D0     		beq	.L113
1124:Libraries/uC-OSIII/os_core.c ****         p_tcb1            = p_pend_data->TCBPtr;
 1902              		.loc 1 1124 0
 1903 0c00 3B69     		ldr	r3, [r7, #16]
 1904 0c02 9B68     		ldr	r3, [r3, #8]
 1905 0c04 FB60     		str	r3, [r7, #12]
1125:Libraries/uC-OSIII/os_core.c ****         p_obj->DbgNamePtr = p_tcb1->NamePtr;
 1906              		.loc 1 1125 0
 1907 0c06 FB68     		ldr	r3, [r7, #12]
 1908 0c08 1A6A     		ldr	r2, [r3, #32]
 1909 0c0a 7B68     		ldr	r3, [r7, #4]
 1910 0c0c DA61     		str	r2, [r3, #28]
 1911 0c0e 05E0     		b	.L112
 1912              	.L113:
1126:Libraries/uC-OSIII/os_core.c ****     } else {
1127:Libraries/uC-OSIII/os_core.c ****         p_obj->DbgNamePtr = (CPU_CHAR *)((void *)" ");      /* No other task pending on object     
 1913              		.loc 1 1127 0
 1914 0c10 7A68     		ldr	r2, [r7, #4]
 1915 0c12 40F20003 		movw	r3, #:lower16:.LC3
 1916 0c16 C0F20003 		movt	r3, #:upper16:.LC3
 1917 0c1a D361     		str	r3, [r2, #28]
 1918              	.L112:
1128:Libraries/uC-OSIII/os_core.c ****     }
1129:Libraries/uC-OSIII/os_core.c **** }
 1919              		.loc 1 1129 0
 1920 0c1c 07F11C07 		add	r7, r7, #28
 1921 0c20 BD46     		mov	sp, r7
 1922 0c22 80BC     		pop	{r7}
 1923 0c24 7047     		bx	lr
 1924              		.cfi_endproc
 1925              	.LFE17:
 1927 0c26 00BF     		.align	2
 1928              		.global	OS_PendListChangePrio
 1929              		.thumb
 1930              		.thumb_func
 1932              	OS_PendListChangePrio:
 1933              	.LFB18:
1130:Libraries/uC-OSIII/os_core.c **** #endif
1131:Libraries/uC-OSIII/os_core.c **** 
1132:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
1133:Libraries/uC-OSIII/os_core.c **** /*
1134:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1135:Libraries/uC-OSIII/os_core.c **** *                               CHANGE THE PRIORITY OF A TASK WAITING IN ONE OR MORE PEND LISTS
1136:Libraries/uC-OSIII/os_core.c **** *
1137:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to change the position of a task waiting in one or more pend
1138:Libraries/uC-OSIII/os_core.c **** *              task can be waiting on multiple objects then each pend list needs to be updated.  Sp
1139:Libraries/uC-OSIII/os_core.c **** *              task can be the highest priority task waiting on one pend list, the lowest priority 
1140:Libraries/uC-OSIII/os_core.c **** *              another pend list or somewhere else in another pend list.  Because of this, we need 
1141:Libraries/uC-OSIII/os_core.c **** *              each of those pend lists individually.
1142:Libraries/uC-OSIII/os_core.c **** *
1143:Libraries/uC-OSIII/os_core.c **** *              The drawing below shows an example of a task (OS_TCB) that belongs to 3 separate pen
1144:Libraries/uC-OSIII/os_core.c **** *              pend list can contain multiple tasks (the .PrevPtr and .NextPtr show a '?' to indica
1145:Libraries/uC-OSIII/os_core.c **** *              contains a pointer (.PendDataTblPtr) to the first entry in the list of pend lists.
1146:Libraries/uC-OSIII/os_core.c **** *
1147:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1148:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1149:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1150:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1151:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1152:Libraries/uC-OSIII/os_core.c **** *                                      Point to first entry in the OS_PEND_DATA table (i.e. [0])   
1153:Libraries/uC-OSIII/os_core.c **** *                                          /-----------------------------<-------------------------
1154:Libraries/uC-OSIII/os_core.c **** *                                          |                                                       
1155:Libraries/uC-OSIII/os_core.c **** *                                          |                                                       
1156:Libraries/uC-OSIII/os_core.c **** *              OS_PEND_LIST                |                                                       
1157:Libraries/uC-OSIII/os_core.c **** *              +------------+              |                                                       
1158:Libraries/uC-OSIII/os_core.c **** *              | TailPtr    |              |                                                       
1159:Libraries/uC-OSIII/os_core.c **** *              +------------+              |                                                       
1160:Libraries/uC-OSIII/os_core.c **** *              | HeadPtr    |              |                                                       
1161:Libraries/uC-OSIII/os_core.c **** *              +------------+              |                                        /---------->---
1162:Libraries/uC-OSIII/os_core.c **** *              | NbrEntries |              |                                        |              
1163:Libraries/uC-OSIII/os_core.c **** *              +------------+     [0]      V   OS_PEND_DATA                         |              
1164:Libraries/uC-OSIII/os_core.c **** *                                     +---------+------------+-------+---------+--------+---------+
1165:Libraries/uC-OSIII/os_core.c **** *                             ? <---- | PrevPtr | PendObjPtr |       |         | TCBPtr | NextPtr |
1166:Libraries/uC-OSIII/os_core.c **** *                                     +---------+------------+-------+---------+--------+---------+
1167:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1168:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1169:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1170:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1171:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1172:Libraries/uC-OSIII/os_core.c **** *              OS_PEND_LIST                                                                Point ba
1173:Libraries/uC-OSIII/os_core.c **** *              +------------+                                                                      
1174:Libraries/uC-OSIII/os_core.c **** *              | TailPtr    |                                                                      
1175:Libraries/uC-OSIII/os_core.c **** *              +------------+                                                                      
1176:Libraries/uC-OSIII/os_core.c **** *              | HeadPtr    |                                                                      
1177:Libraries/uC-OSIII/os_core.c **** *              +------------+                                                      /----------->---
1178:Libraries/uC-OSIII/os_core.c **** *              | NbrEntries |                                                      |               
1179:Libraries/uC-OSIII/os_core.c **** *              +------------+     [1]          OS_PEND_DATA                        |               
1180:Libraries/uC-OSIII/os_core.c **** *                                     +---------+------------+-------+---------+--------+---------+
1181:Libraries/uC-OSIII/os_core.c **** *                             ? <---- | PrevPtr | PendObjPtr |       |         | TCBPtr | NextPtr |
1182:Libraries/uC-OSIII/os_core.c **** *                                     +---------+------------+-------+---------+--------+---------+
1183:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1184:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1185:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1186:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1187:Libraries/uC-OSIII/os_core.c **** *                                                                                                  
1188:Libraries/uC-OSIII/os_core.c **** *              OS_PEND_LIST                                                                        
1189:Libraries/uC-OSIII/os_core.c **** *              +------------+                                                                      
1190:Libraries/uC-OSIII/os_core.c **** *              | TailPtr    |                                                                      
1191:Libraries/uC-OSIII/os_core.c **** *              +------------+                                                                      
1192:Libraries/uC-OSIII/os_core.c **** *              | HeadPtr    |                                                                      
1193:Libraries/uC-OSIII/os_core.c **** *              +------------+                                                      /----------->---
1194:Libraries/uC-OSIII/os_core.c **** *              | NbrEntries |                                                      |
1195:Libraries/uC-OSIII/os_core.c **** *              +------------+     [2]          OS_PEND_DATA                        |
1196:Libraries/uC-OSIII/os_core.c **** *                                     +---------+------------+-------+---------+--------+---------+
1197:Libraries/uC-OSIII/os_core.c **** *                             ? <---- | PrevPtr | PendObjPtr |       |         | TCBPtr | NextPtr |
1198:Libraries/uC-OSIII/os_core.c **** *                                     +---------+------------+-------+---------+--------+---------+
1199:Libraries/uC-OSIII/os_core.c **** *
1200:Libraries/uC-OSIII/os_core.c **** *
1201:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_tcb       is a pointer to the TCB of the task to move
1202:Libraries/uC-OSIII/os_core.c **** *              -----
1203:Libraries/uC-OSIII/os_core.c **** *
1204:Libraries/uC-OSIII/os_core.c **** *              prio_new    is the new priority for the task
1205:Libraries/uC-OSIII/os_core.c **** *
1206:Libraries/uC-OSIII/os_core.c **** * Returns    : none
1207:Libraries/uC-OSIII/os_core.c **** *
1208:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1209:Libraries/uC-OSIII/os_core.c **** *
1210:Libraries/uC-OSIII/os_core.c **** *              2) It's assumed that the TCB contains the NEW priority in its .Prio field.
1211:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1212:Libraries/uC-OSIII/os_core.c **** */
1213:Libraries/uC-OSIII/os_core.c **** 
1214:Libraries/uC-OSIII/os_core.c **** void  OS_PendListChangePrio (OS_TCB  *p_tcb,
1215:Libraries/uC-OSIII/os_core.c ****                              OS_PRIO  prio_new)
1216:Libraries/uC-OSIII/os_core.c **** {
 1934              		.loc 1 1216 0
 1935              		.cfi_startproc
 1936              		@ args = 0, pretend = 0, frame = 24
 1937              		@ frame_needed = 1, uses_anonymous_args = 0
 1938 0c28 80B5     		push	{r7, lr}
 1939              	.LCFI53:
 1940              		.cfi_def_cfa_offset 8
 1941              		.cfi_offset 14, -4
 1942              		.cfi_offset 7, -8
 1943 0c2a 86B0     		sub	sp, sp, #24
 1944              	.LCFI54:
 1945              		.cfi_def_cfa_offset 32
 1946 0c2c 00AF     		add	r7, sp, #0
 1947              	.LCFI55:
 1948              		.cfi_def_cfa_register 7
 1949 0c2e 7860     		str	r0, [r7, #4]
 1950 0c30 0B46     		mov	r3, r1
 1951 0c32 FB70     		strb	r3, [r7, #3]
1217:Libraries/uC-OSIII/os_core.c ****     OS_OBJ_QTY      n_pend_list;                                    /* Number of pend lists        
1218:Libraries/uC-OSIII/os_core.c ****     OS_PEND_DATA   *p_pend_data;
1219:Libraries/uC-OSIII/os_core.c ****     OS_PEND_LIST   *p_pend_list;
1220:Libraries/uC-OSIII/os_core.c ****     OS_PEND_OBJ    *p_obj;
1221:Libraries/uC-OSIII/os_core.c **** 
1222:Libraries/uC-OSIII/os_core.c **** 
1223:Libraries/uC-OSIII/os_core.c ****     p_tcb->Prio = prio_new;
 1952              		.loc 1 1223 0
 1953 0c34 7B68     		ldr	r3, [r7, #4]
 1954 0c36 FA78     		ldrb	r2, [r7, #3]
 1955 0c38 83F8C320 		strb	r2, [r3, #195]
1224:Libraries/uC-OSIII/os_core.c ****     p_pend_data = p_tcb->PendDataTblPtr;                            /* Point to first wait list ent
 1956              		.loc 1 1224 0
 1957 0c3c 7B68     		ldr	r3, [r7, #4]
 1958 0c3e 1B6B     		ldr	r3, [r3, #48]
 1959 0c40 3B61     		str	r3, [r7, #16]
1225:Libraries/uC-OSIII/os_core.c ****     n_pend_list = p_tcb->PendDataTblEntries;                        /* Get the number of pend list 
 1960              		.loc 1 1225 0
 1961 0c42 7B68     		ldr	r3, [r7, #4]
 1962 0c44 9B8E     		ldrh	r3, [r3, #52]	@ movhi
 1963 0c46 FB82     		strh	r3, [r7, #22]	@ movhi
1226:Libraries/uC-OSIII/os_core.c **** 
1227:Libraries/uC-OSIII/os_core.c ****     while (n_pend_list > 0u) {
 1964              		.loc 1 1227 0
 1965 0c48 1AE0     		b	.L116
 1966              	.L118:
1228:Libraries/uC-OSIII/os_core.c ****         p_obj       =  p_pend_data->PendObjPtr;                     /* Get pointer to pend list    
 1967              		.loc 1 1228 0
 1968 0c4a 3B69     		ldr	r3, [r7, #16]
 1969 0c4c DB68     		ldr	r3, [r3, #12]
 1970 0c4e FB60     		str	r3, [r7, #12]
1229:Libraries/uC-OSIII/os_core.c ****         p_pend_list = &p_obj->PendList;
 1971              		.loc 1 1229 0
 1972 0c50 FB68     		ldr	r3, [r7, #12]
 1973 0c52 03F10803 		add	r3, r3, #8
 1974 0c56 BB60     		str	r3, [r7, #8]
1230:Libraries/uC-OSIII/os_core.c ****         if (p_pend_list->NbrEntries > 1u) {                         /* Only move if multiple entrie
 1975              		.loc 1 1230 0
 1976 0c58 BB68     		ldr	r3, [r7, #8]
 1977 0c5a 1B89     		ldrh	r3, [r3, #8]
 1978 0c5c 012B     		cmp	r3, #1
 1979 0c5e 07D9     		bls	.L117
1231:Libraries/uC-OSIII/os_core.c ****             OS_PendListRemove1(p_pend_list,                         /* Remove entry from current po
 1980              		.loc 1 1231 0
 1981 0c60 B868     		ldr	r0, [r7, #8]
 1982 0c62 3969     		ldr	r1, [r7, #16]
 1983 0c64 FFF7FEFF 		bl	OS_PendListRemove1
1232:Libraries/uC-OSIII/os_core.c ****                                p_pend_data);
1233:Libraries/uC-OSIII/os_core.c ****             OS_PendListInsertPrio(p_pend_list,                      /* INSERT it back in the list  
 1984              		.loc 1 1233 0
 1985 0c68 B868     		ldr	r0, [r7, #8]
 1986 0c6a 3969     		ldr	r1, [r7, #16]
 1987 0c6c FFF7FEFF 		bl	OS_PendListInsertPrio
 1988              	.L117:
1234:Libraries/uC-OSIII/os_core.c ****                                   p_pend_data);
1235:Libraries/uC-OSIII/os_core.c ****         }
1236:Libraries/uC-OSIII/os_core.c ****         p_pend_data++;                                              /* Point to next wait list     
 1989              		.loc 1 1236 0
 1990 0c70 3B69     		ldr	r3, [r7, #16]
 1991 0c72 03F12003 		add	r3, r3, #32
 1992 0c76 3B61     		str	r3, [r7, #16]
1237:Libraries/uC-OSIII/os_core.c ****         n_pend_list--;
 1993              		.loc 1 1237 0
 1994 0c78 FB8A     		ldrh	r3, [r7, #22]	@ movhi
 1995 0c7a 03F1FF33 		add	r3, r3, #-1
 1996 0c7e FB82     		strh	r3, [r7, #22]	@ movhi
 1997              	.L116:
1227:Libraries/uC-OSIII/os_core.c ****     while (n_pend_list > 0u) {
 1998              		.loc 1 1227 0 discriminator 1
 1999 0c80 FB8A     		ldrh	r3, [r7, #22]
 2000 0c82 002B     		cmp	r3, #0
 2001 0c84 E1D1     		bne	.L118
1238:Libraries/uC-OSIII/os_core.c ****     }
1239:Libraries/uC-OSIII/os_core.c **** }
 2002              		.loc 1 1239 0
 2003 0c86 07F11807 		add	r7, r7, #24
 2004 0c8a BD46     		mov	sp, r7
 2005 0c8c 80BD     		pop	{r7, pc}
 2006              		.cfi_endproc
 2007              	.LFE18:
 2009 0c8e 00BF     		.align	2
 2010              		.global	OS_PendListInit
 2011              		.thumb
 2012              		.thumb_func
 2014              	OS_PendListInit:
 2015              	.LFB19:
1240:Libraries/uC-OSIII/os_core.c **** 
1241:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
1242:Libraries/uC-OSIII/os_core.c **** /*
1243:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1244:Libraries/uC-OSIII/os_core.c **** *                                                INITIALIZE A WAIT LIST
1245:Libraries/uC-OSIII/os_core.c **** *
1246:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to initialize the fields of an OS_PEND_LIST.
1247:Libraries/uC-OSIII/os_core.c **** *
1248:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_pend_list   is a pointer to an OS_PEND_LIST
1249:Libraries/uC-OSIII/os_core.c **** *              -----------
1250:Libraries/uC-OSIII/os_core.c **** *
1251:Libraries/uC-OSIII/os_core.c **** * Returns    : none
1252:Libraries/uC-OSIII/os_core.c **** *
1253:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application must not call it.
1254:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1255:Libraries/uC-OSIII/os_core.c **** */
1256:Libraries/uC-OSIII/os_core.c **** 
1257:Libraries/uC-OSIII/os_core.c **** void  OS_PendListInit (OS_PEND_LIST  *p_pend_list)
1258:Libraries/uC-OSIII/os_core.c **** {
 2016              		.loc 1 1258 0
 2017              		.cfi_startproc
 2018              		@ args = 0, pretend = 0, frame = 8
 2019              		@ frame_needed = 1, uses_anonymous_args = 0
 2020              		@ link register save eliminated.
 2021 0c90 80B4     		push	{r7}
 2022              	.LCFI56:
 2023              		.cfi_def_cfa_offset 4
 2024              		.cfi_offset 7, -4
 2025 0c92 83B0     		sub	sp, sp, #12
 2026              	.LCFI57:
 2027              		.cfi_def_cfa_offset 16
 2028 0c94 00AF     		add	r7, sp, #0
 2029              	.LCFI58:
 2030              		.cfi_def_cfa_register 7
 2031 0c96 7860     		str	r0, [r7, #4]
1259:Libraries/uC-OSIII/os_core.c ****     p_pend_list->HeadPtr    = (OS_PEND_DATA *)0;
 2032              		.loc 1 1259 0
 2033 0c98 7B68     		ldr	r3, [r7, #4]
 2034 0c9a 4FF00002 		mov	r2, #0
 2035 0c9e 1A60     		str	r2, [r3, #0]
1260:Libraries/uC-OSIII/os_core.c ****     p_pend_list->TailPtr    = (OS_PEND_DATA *)0;
 2036              		.loc 1 1260 0
 2037 0ca0 7B68     		ldr	r3, [r7, #4]
 2038 0ca2 4FF00002 		mov	r2, #0
 2039 0ca6 5A60     		str	r2, [r3, #4]
1261:Libraries/uC-OSIII/os_core.c ****     p_pend_list->NbrEntries = (OS_OBJ_QTY    )0;
 2040              		.loc 1 1261 0
 2041 0ca8 7B68     		ldr	r3, [r7, #4]
 2042 0caa 4FF00002 		mov	r2, #0
 2043 0cae 1A81     		strh	r2, [r3, #8]	@ movhi
1262:Libraries/uC-OSIII/os_core.c **** }
 2044              		.loc 1 1262 0
 2045 0cb0 07F10C07 		add	r7, r7, #12
 2046 0cb4 BD46     		mov	sp, r7
 2047 0cb6 80BC     		pop	{r7}
 2048 0cb8 7047     		bx	lr
 2049              		.cfi_endproc
 2050              	.LFE19:
 2052 0cba 00BF     		.align	2
 2053              		.global	OS_PendListInsertHead
 2054              		.thumb
 2055              		.thumb_func
 2057              	OS_PendListInsertHead:
 2058              	.LFB20:
1263:Libraries/uC-OSIII/os_core.c **** 
1264:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
1265:Libraries/uC-OSIII/os_core.c **** /*
1266:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1267:Libraries/uC-OSIII/os_core.c **** *                                     INSERT PEND DATA AT THE BEGINNING OF A WAIT LIST
1268:Libraries/uC-OSIII/os_core.c **** *
1269:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to place an OS_PEND_DATA entry at the beginning of a linked 
1270:Libraries/uC-OSIII/os_core.c **** *
1271:Libraries/uC-OSIII/os_core.c **** *              CASE 0: Insert in an empty list.
1272:Libraries/uC-OSIII/os_core.c **** *
1273:Libraries/uC-OSIII/os_core.c **** *                     OS_PEND_LIST
1274:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
1275:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |-> 0
1276:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
1277:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |-> 0
1278:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
1279:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=0 |
1280:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
1281:Libraries/uC-OSIII/os_core.c **** *
1282:Libraries/uC-OSIII/os_core.c **** *
1283:Libraries/uC-OSIII/os_core.c **** *
1284:Libraries/uC-OSIII/os_core.c **** *              CASE 1: Insert BEFORE the current head of list
1285:Libraries/uC-OSIII/os_core.c **** *
1286:Libraries/uC-OSIII/os_core.c **** *                     OS_PEND_LIST
1287:Libraries/uC-OSIII/os_core.c **** *                     +--------------+         OS_PEND_DATA
1288:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |--+---> +------------+
1289:Libraries/uC-OSIII/os_core.c **** *                     +--------------+  |     | NextPtr    |->0
1290:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |--/     +------------+
1291:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    |
1292:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=1 |        +------------+
1293:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        |            |
1294:Libraries/uC-OSIII/os_core.c **** *                                             +------------+
1295:Libraries/uC-OSIII/os_core.c **** *                                             |            |
1296:Libraries/uC-OSIII/os_core.c **** *                                             +------------+
1297:Libraries/uC-OSIII/os_core.c **** *
1298:Libraries/uC-OSIII/os_core.c **** *
1299:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_pend_list    is a pointer to a wait list found inside an object.  The OS_PEND_DATA
1300:Libraries/uC-OSIII/os_core.c **** *              -----------    inserted at the head of the list.
1301:Libraries/uC-OSIII/os_core.c **** *
1302:Libraries/uC-OSIII/os_core.c **** *              p_pend_data    is a pointer to the OS_PEND_DATA entry to add to the list
1303:Libraries/uC-OSIII/os_core.c **** *              -----------
1304:Libraries/uC-OSIII/os_core.c **** *
1305:Libraries/uC-OSIII/os_core.c **** * Returns    : none
1306:Libraries/uC-OSIII/os_core.c **** *
1307:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1308:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1309:Libraries/uC-OSIII/os_core.c **** */
1310:Libraries/uC-OSIII/os_core.c **** 
1311:Libraries/uC-OSIII/os_core.c **** void  OS_PendListInsertHead (OS_PEND_LIST  *p_pend_list,
1312:Libraries/uC-OSIII/os_core.c ****                              OS_PEND_DATA  *p_pend_data)
1313:Libraries/uC-OSIII/os_core.c **** {
 2059              		.loc 1 1313 0
 2060              		.cfi_startproc
 2061              		@ args = 0, pretend = 0, frame = 16
 2062              		@ frame_needed = 1, uses_anonymous_args = 0
 2063              		@ link register save eliminated.
 2064 0cbc 80B4     		push	{r7}
 2065              	.LCFI59:
 2066              		.cfi_def_cfa_offset 4
 2067              		.cfi_offset 7, -4
 2068 0cbe 85B0     		sub	sp, sp, #20
 2069              	.LCFI60:
 2070              		.cfi_def_cfa_offset 24
 2071 0cc0 00AF     		add	r7, sp, #0
 2072              	.LCFI61:
 2073              		.cfi_def_cfa_register 7
 2074 0cc2 7860     		str	r0, [r7, #4]
 2075 0cc4 3960     		str	r1, [r7, #0]
1314:Libraries/uC-OSIII/os_core.c ****     OS_PEND_DATA  *p_pend_data_next;
1315:Libraries/uC-OSIII/os_core.c **** 
1316:Libraries/uC-OSIII/os_core.c **** 
1317:Libraries/uC-OSIII/os_core.c **** 
1318:Libraries/uC-OSIII/os_core.c ****     p_pend_list->NbrEntries++;                              /* One more entry in the list          
 2076              		.loc 1 1318 0
 2077 0cc6 7B68     		ldr	r3, [r7, #4]
 2078 0cc8 1B89     		ldrh	r3, [r3, #8]
 2079 0cca 03F10103 		add	r3, r3, #1
 2080 0cce 9AB2     		uxth	r2, r3
 2081 0cd0 7B68     		ldr	r3, [r7, #4]
 2082 0cd2 1A81     		strh	r2, [r3, #8]	@ movhi
1319:Libraries/uC-OSIII/os_core.c ****     p_pend_data->NextPtr  = p_pend_list->HeadPtr;           /* Adjust new entry's links            
 2083              		.loc 1 1319 0
 2084 0cd4 7B68     		ldr	r3, [r7, #4]
 2085 0cd6 1A68     		ldr	r2, [r3, #0]
 2086 0cd8 3B68     		ldr	r3, [r7, #0]
 2087 0cda 5A60     		str	r2, [r3, #4]
1320:Libraries/uC-OSIII/os_core.c ****     p_pend_data->PrevPtr  = (OS_PEND_DATA  *)0;
 2088              		.loc 1 1320 0
 2089 0cdc 3B68     		ldr	r3, [r7, #0]
 2090 0cde 4FF00002 		mov	r2, #0
 2091 0ce2 1A60     		str	r2, [r3, #0]
1321:Libraries/uC-OSIII/os_core.c ****     p_pend_data_next      = p_pend_list->HeadPtr;           /* Adjust old head of list's links     
 2092              		.loc 1 1321 0
 2093 0ce4 7B68     		ldr	r3, [r7, #4]
 2094 0ce6 1B68     		ldr	r3, [r3, #0]
 2095 0ce8 FB60     		str	r3, [r7, #12]
1322:Libraries/uC-OSIII/os_core.c ****     if (p_pend_data_next != (OS_PEND_DATA *)0) {            /* See if we already have a head to rep
 2096              		.loc 1 1322 0
 2097 0cea FB68     		ldr	r3, [r7, #12]
 2098 0cec 002B     		cmp	r3, #0
 2099 0cee 02D0     		beq	.L121
1323:Libraries/uC-OSIII/os_core.c ****         p_pend_data_next->PrevPtr = p_pend_data;            /* Yes, point to new entry             
 2100              		.loc 1 1323 0
 2101 0cf0 FB68     		ldr	r3, [r7, #12]
 2102 0cf2 3A68     		ldr	r2, [r7, #0]
 2103 0cf4 1A60     		str	r2, [r3, #0]
 2104              	.L121:
1324:Libraries/uC-OSIII/os_core.c ****     }
1325:Libraries/uC-OSIII/os_core.c ****     p_pend_list->HeadPtr = p_pend_data;                     /* We have a new list head             
 2105              		.loc 1 1325 0
 2106 0cf6 7B68     		ldr	r3, [r7, #4]
 2107 0cf8 3A68     		ldr	r2, [r7, #0]
 2108 0cfa 1A60     		str	r2, [r3, #0]
1326:Libraries/uC-OSIII/os_core.c ****     if (p_pend_list->NbrEntries == 1u) {
 2109              		.loc 1 1326 0
 2110 0cfc 7B68     		ldr	r3, [r7, #4]
 2111 0cfe 1B89     		ldrh	r3, [r3, #8]
 2112 0d00 012B     		cmp	r3, #1
 2113 0d02 02D1     		bne	.L120
1327:Libraries/uC-OSIII/os_core.c ****         p_pend_list->TailPtr = p_pend_data;
 2114              		.loc 1 1327 0
 2115 0d04 7B68     		ldr	r3, [r7, #4]
 2116 0d06 3A68     		ldr	r2, [r7, #0]
 2117 0d08 5A60     		str	r2, [r3, #4]
 2118              	.L120:
1328:Libraries/uC-OSIII/os_core.c ****     }
1329:Libraries/uC-OSIII/os_core.c **** }
 2119              		.loc 1 1329 0
 2120 0d0a 07F11407 		add	r7, r7, #20
 2121 0d0e BD46     		mov	sp, r7
 2122 0d10 80BC     		pop	{r7}
 2123 0d12 7047     		bx	lr
 2124              		.cfi_endproc
 2125              	.LFE20:
 2127              		.align	2
 2128              		.global	OS_PendListInsertPrio
 2129              		.thumb
 2130              		.thumb_func
 2132              	OS_PendListInsertPrio:
 2133              	.LFB21:
1330:Libraries/uC-OSIII/os_core.c **** 
1331:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
1332:Libraries/uC-OSIII/os_core.c **** /*
1333:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1334:Libraries/uC-OSIII/os_core.c **** *                                   INSERT PEND DATA BASED ON IT'S PRIORITY IN A LIST
1335:Libraries/uC-OSIII/os_core.c **** *
1336:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to place an OS_PEND_DATA entry in a linked list based on its
1337:Libraries/uC-OSIII/os_core.c **** *              highest priority being placed at the head of the list.  It's assumed that the OS_PEN
1338:Libraries/uC-OSIII/os_core.c **** *              insert points to the TCB of the task being inserted.  The TCB is also assumed to con
1339:Libraries/uC-OSIII/os_core.c **** *              of the task in its .Prio field.
1340:Libraries/uC-OSIII/os_core.c **** *
1341:Libraries/uC-OSIII/os_core.c **** *              CASE 0: Insert in an empty list.
1342:Libraries/uC-OSIII/os_core.c **** *
1343:Libraries/uC-OSIII/os_core.c **** *                     OS_PEND_LIST
1344:Libraries/uC-OSIII/os_core.c **** *                     +---------------+
1345:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr       |-> 0
1346:Libraries/uC-OSIII/os_core.c **** *                     +---------------+
1347:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr       |-> 0
1348:Libraries/uC-OSIII/os_core.c **** *                     +---------------+
1349:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=0  |
1350:Libraries/uC-OSIII/os_core.c **** *                     +---------------+
1351:Libraries/uC-OSIII/os_core.c **** *
1352:Libraries/uC-OSIII/os_core.c **** *
1353:Libraries/uC-OSIII/os_core.c **** *
1354:Libraries/uC-OSIII/os_core.c **** *              CASE 1: Insert BEFORE or AFTER an OS_TCB
1355:Libraries/uC-OSIII/os_core.c **** *
1356:Libraries/uC-OSIII/os_core.c **** *                     OS_PEND_LIST
1357:Libraries/uC-OSIII/os_core.c **** *                     +--------------+         OS_PEND_DATA
1358:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |--+---> +------------+
1359:Libraries/uC-OSIII/os_core.c **** *                     +--------------+  |     | NextPtr    |->0
1360:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |--/     +------------+
1361:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    |
1362:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=1 |        +------------+
1363:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        |            |
1364:Libraries/uC-OSIII/os_core.c **** *                                             +------------+
1365:Libraries/uC-OSIII/os_core.c **** *                                             |            |
1366:Libraries/uC-OSIII/os_core.c **** *                                             +------------+
1367:Libraries/uC-OSIII/os_core.c **** *
1368:Libraries/uC-OSIII/os_core.c **** *
1369:Libraries/uC-OSIII/os_core.c **** *                     OS_PEND_LIST
1370:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
1371:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |-----------------------------------------------+
1372:Libraries/uC-OSIII/os_core.c **** *                     +--------------+         OS_PEND_DATA         OS_PEND_DATA     |    OS_PEND_D
1373:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |------> +------------+       +------------+    +-> +---------
1374:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        | NextPtr    |------>| NextPtr    | ...... | NextPtr 
1375:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=N |        +------------+       +------------+        +---------
1376:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    |<------| PrevPtr    | ...... | PrevPtr 
1377:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
1378:Libraries/uC-OSIII/os_core.c **** *                                             |            |       |            |        |         
1379:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
1380:Libraries/uC-OSIII/os_core.c **** *                                             |            |       |            |        |         
1381:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
1382:Libraries/uC-OSIII/os_core.c **** *
1383:Libraries/uC-OSIII/os_core.c **** *
1384:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_pend_list    is a pointer to the OS_PEND_LIST where the OS_PEND_DATA entry will be
1385:Libraries/uC-OSIII/os_core.c **** *              -----------
1386:Libraries/uC-OSIII/os_core.c **** *
1387:Libraries/uC-OSIII/os_core.c **** *              p_pend_data    is the OS_PEND_DATA to insert in the list
1388:Libraries/uC-OSIII/os_core.c **** *              -----------
1389:Libraries/uC-OSIII/os_core.c **** *
1390:Libraries/uC-OSIII/os_core.c **** * Returns    : none
1391:Libraries/uC-OSIII/os_core.c **** *
1392:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1393:Libraries/uC-OSIII/os_core.c **** *
1394:Libraries/uC-OSIII/os_core.c **** *              2) 'p_pend_data->TCBPtr->Prio' contains the priority of the TCB associated with the 
1395:Libraries/uC-OSIII/os_core.c **** *                 We can compare this priority with the priority of other entries in the list.
1396:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1397:Libraries/uC-OSIII/os_core.c **** */
1398:Libraries/uC-OSIII/os_core.c **** 
1399:Libraries/uC-OSIII/os_core.c **** void  OS_PendListInsertPrio (OS_PEND_LIST  *p_pend_list,
1400:Libraries/uC-OSIII/os_core.c ****                              OS_PEND_DATA  *p_pend_data)
1401:Libraries/uC-OSIII/os_core.c **** {
 2134              		.loc 1 1401 0
 2135              		.cfi_startproc
 2136              		@ args = 0, pretend = 0, frame = 32
 2137              		@ frame_needed = 1, uses_anonymous_args = 0
 2138              		@ link register save eliminated.
 2139 0d14 80B4     		push	{r7}
 2140              	.LCFI62:
 2141              		.cfi_def_cfa_offset 4
 2142              		.cfi_offset 7, -4
 2143 0d16 89B0     		sub	sp, sp, #36
 2144              	.LCFI63:
 2145              		.cfi_def_cfa_offset 40
 2146 0d18 00AF     		add	r7, sp, #0
 2147              	.LCFI64:
 2148              		.cfi_def_cfa_register 7
 2149 0d1a 7860     		str	r0, [r7, #4]
 2150 0d1c 3960     		str	r1, [r7, #0]
1402:Libraries/uC-OSIII/os_core.c ****     OS_PRIO        prio;
1403:Libraries/uC-OSIII/os_core.c ****     OS_TCB        *p_tcb;
1404:Libraries/uC-OSIII/os_core.c ****     OS_TCB        *p_tcb_next;
1405:Libraries/uC-OSIII/os_core.c ****     OS_PEND_DATA  *p_pend_data_prev;
1406:Libraries/uC-OSIII/os_core.c ****     OS_PEND_DATA  *p_pend_data_next;
1407:Libraries/uC-OSIII/os_core.c **** 
1408:Libraries/uC-OSIII/os_core.c **** 
1409:Libraries/uC-OSIII/os_core.c **** 
1410:Libraries/uC-OSIII/os_core.c ****     p_tcb = p_pend_data->TCBPtr;                                      /* Obtain the priority of the
 2151              		.loc 1 1410 0
 2152 0d1e 3B68     		ldr	r3, [r7, #0]
 2153 0d20 9B68     		ldr	r3, [r3, #8]
 2154 0d22 BB61     		str	r3, [r7, #24]
1411:Libraries/uC-OSIII/os_core.c ****     prio  = p_tcb->Prio;
 2155              		.loc 1 1411 0
 2156 0d24 BB69     		ldr	r3, [r7, #24]
 2157 0d26 93F8C330 		ldrb	r3, [r3, #195]
 2158 0d2a FB75     		strb	r3, [r7, #23]
1412:Libraries/uC-OSIII/os_core.c ****     if (p_pend_list->NbrEntries == (OS_OBJ_QTY)0) {                   /* CASE 0: Insert when there 
 2159              		.loc 1 1412 0
 2160 0d2c 7B68     		ldr	r3, [r7, #4]
 2161 0d2e 1B89     		ldrh	r3, [r3, #8]
 2162 0d30 002B     		cmp	r3, #0
 2163 0d32 12D1     		bne	.L124
1413:Libraries/uC-OSIII/os_core.c ****         p_pend_list->NbrEntries = (OS_OBJ_QTY)1;                      /*         This is the first 
 2164              		.loc 1 1413 0
 2165 0d34 7B68     		ldr	r3, [r7, #4]
 2166 0d36 4FF00102 		mov	r2, #1
 2167 0d3a 1A81     		strh	r2, [r3, #8]	@ movhi
1414:Libraries/uC-OSIII/os_core.c ****         p_pend_data->NextPtr    = (OS_PEND_DATA *)0;                  /*         No other OS_PEND_D
 2168              		.loc 1 1414 0
 2169 0d3c 3B68     		ldr	r3, [r7, #0]
 2170 0d3e 4FF00002 		mov	r2, #0
 2171 0d42 5A60     		str	r2, [r3, #4]
1415:Libraries/uC-OSIII/os_core.c ****         p_pend_data->PrevPtr    = (OS_PEND_DATA *)0;
 2172              		.loc 1 1415 0
 2173 0d44 3B68     		ldr	r3, [r7, #0]
 2174 0d46 4FF00002 		mov	r2, #0
 2175 0d4a 1A60     		str	r2, [r3, #0]
1416:Libraries/uC-OSIII/os_core.c ****         p_pend_list->HeadPtr    = p_pend_data;                        /*                           
 2176              		.loc 1 1416 0
 2177 0d4c 7B68     		ldr	r3, [r7, #4]
 2178 0d4e 3A68     		ldr	r2, [r7, #0]
 2179 0d50 1A60     		str	r2, [r3, #0]
1417:Libraries/uC-OSIII/os_core.c ****         p_pend_list->TailPtr    = p_pend_data;
 2180              		.loc 1 1417 0
 2181 0d52 7B68     		ldr	r3, [r7, #4]
 2182 0d54 3A68     		ldr	r2, [r7, #0]
 2183 0d56 5A60     		str	r2, [r3, #4]
 2184 0d58 50E0     		b	.L123
 2185              	.L124:
1418:Libraries/uC-OSIII/os_core.c ****     } else {
1419:Libraries/uC-OSIII/os_core.c ****         p_pend_list->NbrEntries++;                                    /* CASE 1: One more OS_PEND_D
 2186              		.loc 1 1419 0
 2187 0d5a 7B68     		ldr	r3, [r7, #4]
 2188 0d5c 1B89     		ldrh	r3, [r3, #8]
 2189 0d5e 03F10103 		add	r3, r3, #1
 2190 0d62 9AB2     		uxth	r2, r3
 2191 0d64 7B68     		ldr	r3, [r7, #4]
 2192 0d66 1A81     		strh	r2, [r3, #8]	@ movhi
1420:Libraries/uC-OSIII/os_core.c ****         p_pend_data_next = p_pend_list->HeadPtr;
 2193              		.loc 1 1420 0
 2194 0d68 7B68     		ldr	r3, [r7, #4]
 2195 0d6a 1B68     		ldr	r3, [r3, #0]
 2196 0d6c FB61     		str	r3, [r7, #28]
1421:Libraries/uC-OSIII/os_core.c ****         while (p_pend_data_next != (OS_PEND_DATA *)0) {               /*         Find the position 
 2197              		.loc 1 1421 0
 2198 0d6e 0BE0     		b	.L126
 2199              	.L129:
1422:Libraries/uC-OSIII/os_core.c ****             p_tcb_next   = p_pend_data_next->TCBPtr;
 2200              		.loc 1 1422 0
 2201 0d70 FB69     		ldr	r3, [r7, #28]
 2202 0d72 9B68     		ldr	r3, [r3, #8]
 2203 0d74 3B61     		str	r3, [r7, #16]
1423:Libraries/uC-OSIII/os_core.c ****             if (prio < p_tcb_next->Prio) {
 2204              		.loc 1 1423 0
 2205 0d76 3B69     		ldr	r3, [r7, #16]
 2206 0d78 93F8C330 		ldrb	r3, [r3, #195]	@ zero_extendqisi2
 2207 0d7c FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 2208 0d7e 9A42     		cmp	r2, r3
 2209 0d80 06D3     		bcc	.L132
 2210              	.L127:
1424:Libraries/uC-OSIII/os_core.c ****                 break;                                                /*         Found! ... insert 
1425:Libraries/uC-OSIII/os_core.c ****             } else {
1426:Libraries/uC-OSIII/os_core.c ****                 p_pend_data_next = p_pend_data_next->NextPtr;         /*         Not Found, follow 
 2211              		.loc 1 1426 0
 2212 0d82 FB69     		ldr	r3, [r7, #28]
 2213 0d84 5B68     		ldr	r3, [r3, #4]
 2214 0d86 FB61     		str	r3, [r7, #28]
 2215              	.L126:
1421:Libraries/uC-OSIII/os_core.c ****         while (p_pend_data_next != (OS_PEND_DATA *)0) {               /*         Find the position 
 2216              		.loc 1 1421 0 discriminator 1
 2217 0d88 FB69     		ldr	r3, [r7, #28]
 2218 0d8a 002B     		cmp	r3, #0
 2219 0d8c F0D1     		bne	.L129
 2220 0d8e 00E0     		b	.L128
 2221              	.L132:
1424:Libraries/uC-OSIII/os_core.c ****                 break;                                                /*         Found! ... insert 
 2222              		.loc 1 1424 0
 2223 0d90 00BF     		nop
 2224              	.L128:
1427:Libraries/uC-OSIII/os_core.c ****             }
1428:Libraries/uC-OSIII/os_core.c ****         }
1429:Libraries/uC-OSIII/os_core.c ****         if (p_pend_data_next == (OS_PEND_DATA *)0) {                  /*         TCB to insert is l
 2225              		.loc 1 1429 0
 2226 0d92 FB69     		ldr	r3, [r7, #28]
 2227 0d94 002B     		cmp	r3, #0
 2228 0d96 10D1     		bne	.L130
1430:Libraries/uC-OSIII/os_core.c ****             p_pend_data->NextPtr      = (OS_PEND_DATA *)0;            /*         ... insert at the 
 2229              		.loc 1 1430 0
 2230 0d98 3B68     		ldr	r3, [r7, #0]
 2231 0d9a 4FF00002 		mov	r2, #0
 2232 0d9e 5A60     		str	r2, [r3, #4]
1431:Libraries/uC-OSIII/os_core.c ****             p_pend_data_prev          = p_pend_list->TailPtr;
 2233              		.loc 1 1431 0
 2234 0da0 7B68     		ldr	r3, [r7, #4]
 2235 0da2 5B68     		ldr	r3, [r3, #4]
 2236 0da4 FB60     		str	r3, [r7, #12]
1432:Libraries/uC-OSIII/os_core.c ****             p_pend_data->PrevPtr      = p_pend_data_prev;
 2237              		.loc 1 1432 0
 2238 0da6 3B68     		ldr	r3, [r7, #0]
 2239 0da8 FA68     		ldr	r2, [r7, #12]
 2240 0daa 1A60     		str	r2, [r3, #0]
1433:Libraries/uC-OSIII/os_core.c ****             p_pend_data_prev->NextPtr = p_pend_data;
 2241              		.loc 1 1433 0
 2242 0dac FB68     		ldr	r3, [r7, #12]
 2243 0dae 3A68     		ldr	r2, [r7, #0]
 2244 0db0 5A60     		str	r2, [r3, #4]
1434:Libraries/uC-OSIII/os_core.c ****             p_pend_list->TailPtr      = p_pend_data;
 2245              		.loc 1 1434 0
 2246 0db2 7B68     		ldr	r3, [r7, #4]
 2247 0db4 3A68     		ldr	r2, [r7, #0]
 2248 0db6 5A60     		str	r2, [r3, #4]
 2249 0db8 20E0     		b	.L123
 2250              	.L130:
1435:Libraries/uC-OSIII/os_core.c ****         } else {
1436:Libraries/uC-OSIII/os_core.c ****             if (p_pend_data_next->PrevPtr == (OS_PEND_DATA *)0) {     /*         Is new TCB highest
 2251              		.loc 1 1436 0
 2252 0dba FB69     		ldr	r3, [r7, #28]
 2253 0dbc 1B68     		ldr	r3, [r3, #0]
 2254 0dbe 002B     		cmp	r3, #0
 2255 0dc0 0DD1     		bne	.L131
1437:Libraries/uC-OSIII/os_core.c ****                 p_pend_data_next->PrevPtr  = p_pend_data;             /*         Yes, insert as new
 2256              		.loc 1 1437 0
 2257 0dc2 FB69     		ldr	r3, [r7, #28]
 2258 0dc4 3A68     		ldr	r2, [r7, #0]
 2259 0dc6 1A60     		str	r2, [r3, #0]
1438:Libraries/uC-OSIII/os_core.c ****                 p_pend_data->PrevPtr       = (OS_PEND_DATA *)0;
 2260              		.loc 1 1438 0
 2261 0dc8 3B68     		ldr	r3, [r7, #0]
 2262 0dca 4FF00002 		mov	r2, #0
 2263 0dce 1A60     		str	r2, [r3, #0]
1439:Libraries/uC-OSIII/os_core.c ****                 p_pend_data->NextPtr       = p_pend_data_next;
 2264              		.loc 1 1439 0
 2265 0dd0 3B68     		ldr	r3, [r7, #0]
 2266 0dd2 FA69     		ldr	r2, [r7, #28]
 2267 0dd4 5A60     		str	r2, [r3, #4]
1440:Libraries/uC-OSIII/os_core.c ****                 p_pend_list->HeadPtr       = p_pend_data;
 2268              		.loc 1 1440 0
 2269 0dd6 7B68     		ldr	r3, [r7, #4]
 2270 0dd8 3A68     		ldr	r2, [r7, #0]
 2271 0dda 1A60     		str	r2, [r3, #0]
 2272 0ddc 0EE0     		b	.L123
 2273              	.L131:
1441:Libraries/uC-OSIII/os_core.c ****             } else {
1442:Libraries/uC-OSIII/os_core.c ****                 p_pend_data_prev           = p_pend_data_next->PrevPtr;/*        No,  insert in bet
 2274              		.loc 1 1442 0
 2275 0dde FB69     		ldr	r3, [r7, #28]
 2276 0de0 1B68     		ldr	r3, [r3, #0]
 2277 0de2 FB60     		str	r3, [r7, #12]
1443:Libraries/uC-OSIII/os_core.c ****                 p_pend_data->PrevPtr       = p_pend_data_prev;
 2278              		.loc 1 1443 0
 2279 0de4 3B68     		ldr	r3, [r7, #0]
 2280 0de6 FA68     		ldr	r2, [r7, #12]
 2281 0de8 1A60     		str	r2, [r3, #0]
1444:Libraries/uC-OSIII/os_core.c ****                 p_pend_data->NextPtr       = p_pend_data_next;
 2282              		.loc 1 1444 0
 2283 0dea 3B68     		ldr	r3, [r7, #0]
 2284 0dec FA69     		ldr	r2, [r7, #28]
 2285 0dee 5A60     		str	r2, [r3, #4]
1445:Libraries/uC-OSIII/os_core.c ****                 p_pend_data_prev->NextPtr  = p_pend_data;
 2286              		.loc 1 1445 0
 2287 0df0 FB68     		ldr	r3, [r7, #12]
 2288 0df2 3A68     		ldr	r2, [r7, #0]
 2289 0df4 5A60     		str	r2, [r3, #4]
1446:Libraries/uC-OSIII/os_core.c ****                 p_pend_data_next->PrevPtr  = p_pend_data;
 2290              		.loc 1 1446 0
 2291 0df6 FB69     		ldr	r3, [r7, #28]
 2292 0df8 3A68     		ldr	r2, [r7, #0]
 2293 0dfa 1A60     		str	r2, [r3, #0]
 2294              	.L123:
1447:Libraries/uC-OSIII/os_core.c ****             }
1448:Libraries/uC-OSIII/os_core.c ****         }
1449:Libraries/uC-OSIII/os_core.c ****     }
1450:Libraries/uC-OSIII/os_core.c **** }
 2295              		.loc 1 1450 0
 2296 0dfc 07F12407 		add	r7, r7, #36
 2297 0e00 BD46     		mov	sp, r7
 2298 0e02 80BC     		pop	{r7}
 2299 0e04 7047     		bx	lr
 2300              		.cfi_endproc
 2301              	.LFE21:
 2303 0e06 00BF     		.align	2
 2304              		.global	OS_PendListRemove
 2305              		.thumb
 2306              		.thumb_func
 2308              	OS_PendListRemove:
 2309              	.LFB22:
1451:Libraries/uC-OSIII/os_core.c **** 
1452:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
1453:Libraries/uC-OSIII/os_core.c **** /*
1454:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1455:Libraries/uC-OSIII/os_core.c **** *                           REMOVE TASK FROM PEND LIST(s) KNOWING ONLY WHICH TCB TO REMOVE
1456:Libraries/uC-OSIII/os_core.c **** *
1457:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to remove a task from a pend list knowing only the TCB of th
1458:Libraries/uC-OSIII/os_core.c **** *
1459:Libraries/uC-OSIII/os_core.c **** *
1460:Libraries/uC-OSIII/os_core.c **** *              CASE 0: OS_PEND_DATA list is empty, nothing to do.
1461:Libraries/uC-OSIII/os_core.c **** *
1462:Libraries/uC-OSIII/os_core.c **** *              CASE 1: Only 1 OS_PEND_DATA in the list.
1463:Libraries/uC-OSIII/os_core.c **** *
1464:Libraries/uC-OSIII/os_core.c **** *                     OS_PEND_LIST
1465:Libraries/uC-OSIII/os_core.c **** *                     +--------------+         OS_PEND_DATA
1466:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |--+---> +------------+
1467:Libraries/uC-OSIII/os_core.c **** *                     +--------------+  |     | NextPtr    |->0
1468:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |--/     +------------+
1469:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    |
1470:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=1 |        +------------+
1471:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        |            |
1472:Libraries/uC-OSIII/os_core.c **** *                                             +------------+
1473:Libraries/uC-OSIII/os_core.c **** *                                             |            |
1474:Libraries/uC-OSIII/os_core.c **** *                                             +------------+
1475:Libraries/uC-OSIII/os_core.c **** *
1476:Libraries/uC-OSIII/os_core.c **** *              CASE N: Two or more OS_PEND_DATAs in the list.
1477:Libraries/uC-OSIII/os_core.c **** *
1478:Libraries/uC-OSIII/os_core.c **** *                     OS_PEND_LIST
1479:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
1480:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |-----------------------------------------------+
1481:Libraries/uC-OSIII/os_core.c **** *                     +--------------+         OS_PEND_DATA         OS_PEND_DATA     |    OS_PEND_D
1482:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |------> +------------+       +------------+    +-> +---------
1483:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        | NextPtr    |------>| NextPtr    | ...... | NextPtr 
1484:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=N |        +------------+       +------------+        +---------
1485:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    |<------| PrevPtr    | ...... | PrevPtr 
1486:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
1487:Libraries/uC-OSIII/os_core.c **** *                                             |            |       |            |        |         
1488:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
1489:Libraries/uC-OSIII/os_core.c **** *                                             |            |       |            |        |         
1490:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
1491:Libraries/uC-OSIII/os_core.c **** *
1492:Libraries/uC-OSIII/os_core.c **** *
1493:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_tcb          is a pointer to the TCB of the task to remove from all pend lists
1494:Libraries/uC-OSIII/os_core.c **** *              -----
1495:Libraries/uC-OSIII/os_core.c **** *
1496:Libraries/uC-OSIII/os_core.c **** * Returns    : none
1497:Libraries/uC-OSIII/os_core.c **** *
1498:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1499:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1500:Libraries/uC-OSIII/os_core.c **** */
1501:Libraries/uC-OSIII/os_core.c **** 
1502:Libraries/uC-OSIII/os_core.c **** void  OS_PendListRemove (OS_TCB  *p_tcb)
1503:Libraries/uC-OSIII/os_core.c **** {
 2310              		.loc 1 1503 0
 2311              		.cfi_startproc
 2312              		@ args = 0, pretend = 0, frame = 24
 2313              		@ frame_needed = 1, uses_anonymous_args = 0
 2314 0e08 80B5     		push	{r7, lr}
 2315              	.LCFI65:
 2316              		.cfi_def_cfa_offset 8
 2317              		.cfi_offset 14, -4
 2318              		.cfi_offset 7, -8
 2319 0e0a 86B0     		sub	sp, sp, #24
 2320              	.LCFI66:
 2321              		.cfi_def_cfa_offset 32
 2322 0e0c 00AF     		add	r7, sp, #0
 2323              	.LCFI67:
 2324              		.cfi_def_cfa_register 7
 2325 0e0e 7860     		str	r0, [r7, #4]
1504:Libraries/uC-OSIII/os_core.c ****     OS_OBJ_QTY      n_pend_list;                                    /* Number of pend lists        
1505:Libraries/uC-OSIII/os_core.c ****     OS_PEND_DATA   *p_pend_data;
1506:Libraries/uC-OSIII/os_core.c ****     OS_PEND_LIST   *p_pend_list;
1507:Libraries/uC-OSIII/os_core.c ****     OS_PEND_OBJ    *p_obj;
1508:Libraries/uC-OSIII/os_core.c **** 
1509:Libraries/uC-OSIII/os_core.c **** 
1510:Libraries/uC-OSIII/os_core.c **** 
1511:Libraries/uC-OSIII/os_core.c ****     p_pend_data = p_tcb->PendDataTblPtr;                            /* Point to the first OS_PEND_D
 2326              		.loc 1 1511 0
 2327 0e10 7B68     		ldr	r3, [r7, #4]
 2328 0e12 1B6B     		ldr	r3, [r3, #48]
 2329 0e14 3B61     		str	r3, [r7, #16]
1512:Libraries/uC-OSIII/os_core.c ****     n_pend_list = p_tcb->PendDataTblEntries;                        /* Get number of entries in the
 2330              		.loc 1 1512 0
 2331 0e16 7B68     		ldr	r3, [r7, #4]
 2332 0e18 9B8E     		ldrh	r3, [r3, #52]	@ movhi
 2333 0e1a FB82     		strh	r3, [r7, #22]	@ movhi
1513:Libraries/uC-OSIII/os_core.c **** 
1514:Libraries/uC-OSIII/os_core.c ****     while (n_pend_list > (OS_OBJ_QTY)0) {
 2334              		.loc 1 1514 0
 2335 0e1c 12E0     		b	.L134
 2336              	.L135:
1515:Libraries/uC-OSIII/os_core.c ****         p_obj       =  p_pend_data->PendObjPtr;                     /* Get pointer to pend list    
 2337              		.loc 1 1515 0
 2338 0e1e 3B69     		ldr	r3, [r7, #16]
 2339 0e20 DB68     		ldr	r3, [r3, #12]
 2340 0e22 FB60     		str	r3, [r7, #12]
1516:Libraries/uC-OSIII/os_core.c ****         p_pend_list = &p_obj->PendList;
 2341              		.loc 1 1516 0
 2342 0e24 FB68     		ldr	r3, [r7, #12]
 2343 0e26 03F10803 		add	r3, r3, #8
 2344 0e2a BB60     		str	r3, [r7, #8]
1517:Libraries/uC-OSIII/os_core.c ****         OS_PendListRemove1(p_pend_list,
 2345              		.loc 1 1517 0
 2346 0e2c B868     		ldr	r0, [r7, #8]
 2347 0e2e 3969     		ldr	r1, [r7, #16]
 2348 0e30 FFF7FEFF 		bl	OS_PendListRemove1
1518:Libraries/uC-OSIII/os_core.c ****                            p_pend_data);
1519:Libraries/uC-OSIII/os_core.c ****         p_pend_data++;
 2349              		.loc 1 1519 0
 2350 0e34 3B69     		ldr	r3, [r7, #16]
 2351 0e36 03F12003 		add	r3, r3, #32
 2352 0e3a 3B61     		str	r3, [r7, #16]
1520:Libraries/uC-OSIII/os_core.c ****         n_pend_list--;
 2353              		.loc 1 1520 0
 2354 0e3c FB8A     		ldrh	r3, [r7, #22]	@ movhi
 2355 0e3e 03F1FF33 		add	r3, r3, #-1
 2356 0e42 FB82     		strh	r3, [r7, #22]	@ movhi
 2357              	.L134:
1514:Libraries/uC-OSIII/os_core.c ****     while (n_pend_list > (OS_OBJ_QTY)0) {
 2358              		.loc 1 1514 0 discriminator 1
 2359 0e44 FB8A     		ldrh	r3, [r7, #22]
 2360 0e46 002B     		cmp	r3, #0
 2361 0e48 E9D1     		bne	.L135
1521:Libraries/uC-OSIII/os_core.c ****     }
1522:Libraries/uC-OSIII/os_core.c ****     p_tcb->PendDataTblEntries = (OS_OBJ_QTY    )0;
 2362              		.loc 1 1522 0
 2363 0e4a 7B68     		ldr	r3, [r7, #4]
 2364 0e4c 4FF00002 		mov	r2, #0
 2365 0e50 9A86     		strh	r2, [r3, #52]	@ movhi
1523:Libraries/uC-OSIII/os_core.c ****     p_tcb->PendDataTblPtr     = (OS_PEND_DATA *)0;
 2366              		.loc 1 1523 0
 2367 0e52 7B68     		ldr	r3, [r7, #4]
 2368 0e54 4FF00002 		mov	r2, #0
 2369 0e58 1A63     		str	r2, [r3, #48]
1524:Libraries/uC-OSIII/os_core.c **** }
 2370              		.loc 1 1524 0
 2371 0e5a 07F11807 		add	r7, r7, #24
 2372 0e5e BD46     		mov	sp, r7
 2373 0e60 80BD     		pop	{r7, pc}
 2374              		.cfi_endproc
 2375              	.LFE22:
 2377 0e62 00BF     		.align	2
 2378              		.global	OS_PendListRemove1
 2379              		.thumb
 2380              		.thumb_func
 2382              	OS_PendListRemove1:
 2383              	.LFB23:
1525:Libraries/uC-OSIII/os_core.c **** 
1526:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
1527:Libraries/uC-OSIII/os_core.c **** /*
1528:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1529:Libraries/uC-OSIII/os_core.c **** *                               REMOVE AN 'OS_PEND_DATA' ENTRY from a 'OS_PEND_LIST'
1530:Libraries/uC-OSIII/os_core.c **** *
1531:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to remove a task from a wait list knowing only the TCB of th
1532:Libraries/uC-OSIII/os_core.c **** *
1533:Libraries/uC-OSIII/os_core.c **** *
1534:Libraries/uC-OSIII/os_core.c **** *              CASE 1: Only 1 OS_PEND_DATA in the list.
1535:Libraries/uC-OSIII/os_core.c **** *
1536:Libraries/uC-OSIII/os_core.c **** *                     OS_PEND_LIST
1537:Libraries/uC-OSIII/os_core.c **** *                     +--------------+         OS_PEND_DATA
1538:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |--+---> +------------+
1539:Libraries/uC-OSIII/os_core.c **** *                     +--------------+  |     | NextPtr    |->0
1540:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |--/      +------------+
1541:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    |
1542:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=1 |        +------------+
1543:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        |            |
1544:Libraries/uC-OSIII/os_core.c **** *                                             +------------+
1545:Libraries/uC-OSIII/os_core.c **** *                                             |            |
1546:Libraries/uC-OSIII/os_core.c **** *                                             +------------+
1547:Libraries/uC-OSIII/os_core.c **** *
1548:Libraries/uC-OSIII/os_core.c **** *              CASE N: Two or more OS_PEND_DATAs in the list.
1549:Libraries/uC-OSIII/os_core.c **** *
1550:Libraries/uC-OSIII/os_core.c **** *                     OS_PEND_LIST
1551:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
1552:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |-----------------------------------------------+
1553:Libraries/uC-OSIII/os_core.c **** *                     +--------------+         OS_PEND_DATA         OS_PEND_DATA     |    OS_PEND_D
1554:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |------> +------------+       +------------+    +-> +---------
1555:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        | NextPtr    |------>| NextPtr    | ...... | NextPtr 
1556:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=N |        +------------+       +------------+        +---------
1557:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    |<------| PrevPtr    | ...... | PrevPtr 
1558:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
1559:Libraries/uC-OSIII/os_core.c **** *                                             |            |       |            |        |         
1560:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
1561:Libraries/uC-OSIII/os_core.c **** *                                             |            |       |            |        |         
1562:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
1563:Libraries/uC-OSIII/os_core.c **** *
1564:Libraries/uC-OSIII/os_core.c **** *
1565:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_pend_list     is a pointer to the pend list where 'p_pend_data' will be removed fr
1566:Libraries/uC-OSIII/os_core.c **** *              -----------
1567:Libraries/uC-OSIII/os_core.c **** *
1568:Libraries/uC-OSIII/os_core.c **** *              p_pend_data     is a pointer to the OS_PEND_DATA to remove from the pend list
1569:Libraries/uC-OSIII/os_core.c **** *              -----------
1570:Libraries/uC-OSIII/os_core.c **** *
1571:Libraries/uC-OSIII/os_core.c **** * Returns    : none
1572:Libraries/uC-OSIII/os_core.c **** *
1573:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1574:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1575:Libraries/uC-OSIII/os_core.c **** */
1576:Libraries/uC-OSIII/os_core.c **** 
1577:Libraries/uC-OSIII/os_core.c **** void  OS_PendListRemove1 (OS_PEND_LIST  *p_pend_list,
1578:Libraries/uC-OSIII/os_core.c ****                           OS_PEND_DATA  *p_pend_data)
1579:Libraries/uC-OSIII/os_core.c **** {
 2384              		.loc 1 1579 0
 2385              		.cfi_startproc
 2386              		@ args = 0, pretend = 0, frame = 16
 2387              		@ frame_needed = 1, uses_anonymous_args = 0
 2388              		@ link register save eliminated.
 2389 0e64 80B4     		push	{r7}
 2390              	.LCFI68:
 2391              		.cfi_def_cfa_offset 4
 2392              		.cfi_offset 7, -4
 2393 0e66 85B0     		sub	sp, sp, #20
 2394              	.LCFI69:
 2395              		.cfi_def_cfa_offset 24
 2396 0e68 00AF     		add	r7, sp, #0
 2397              	.LCFI70:
 2398              		.cfi_def_cfa_register 7
 2399 0e6a 7860     		str	r0, [r7, #4]
 2400 0e6c 3960     		str	r1, [r7, #0]
1580:Libraries/uC-OSIII/os_core.c ****     OS_PEND_DATA  *p_prev;
1581:Libraries/uC-OSIII/os_core.c ****     OS_PEND_DATA  *p_next;
1582:Libraries/uC-OSIII/os_core.c **** 
1583:Libraries/uC-OSIII/os_core.c **** 
1584:Libraries/uC-OSIII/os_core.c **** 
1585:Libraries/uC-OSIII/os_core.c ****     if (p_pend_list->NbrEntries == 1u) {
 2401              		.loc 1 1585 0
 2402 0e6e 7B68     		ldr	r3, [r7, #4]
 2403 0e70 1B89     		ldrh	r3, [r3, #8]
 2404 0e72 012B     		cmp	r3, #1
 2405 0e74 08D1     		bne	.L137
1586:Libraries/uC-OSIII/os_core.c ****         p_pend_list->HeadPtr = (OS_PEND_DATA *)0;           /* Only one entry in the pend list     
 2406              		.loc 1 1586 0
 2407 0e76 7B68     		ldr	r3, [r7, #4]
 2408 0e78 4FF00002 		mov	r2, #0
 2409 0e7c 1A60     		str	r2, [r3, #0]
1587:Libraries/uC-OSIII/os_core.c ****         p_pend_list->TailPtr = (OS_PEND_DATA *)0;
 2410              		.loc 1 1587 0
 2411 0e7e 7B68     		ldr	r3, [r7, #4]
 2412 0e80 4FF00002 		mov	r2, #0
 2413 0e84 5A60     		str	r2, [r3, #4]
 2414 0e86 29E0     		b	.L138
 2415              	.L137:
1588:Libraries/uC-OSIII/os_core.c **** 
1589:Libraries/uC-OSIII/os_core.c ****     } else if (p_pend_data->PrevPtr == (OS_PEND_DATA *)0) { /* See if entry is at the head of the l
 2416              		.loc 1 1589 0
 2417 0e88 3B68     		ldr	r3, [r7, #0]
 2418 0e8a 1B68     		ldr	r3, [r3, #0]
 2419 0e8c 002B     		cmp	r3, #0
 2420 0e8e 0AD1     		bne	.L139
1590:Libraries/uC-OSIII/os_core.c ****         p_next               = p_pend_data->NextPtr;        /* Yes                                 
 2421              		.loc 1 1590 0
 2422 0e90 3B68     		ldr	r3, [r7, #0]
 2423 0e92 5B68     		ldr	r3, [r3, #4]
 2424 0e94 FB60     		str	r3, [r7, #12]
1591:Libraries/uC-OSIII/os_core.c ****         p_next->PrevPtr      = (OS_PEND_DATA *)0;
 2425              		.loc 1 1591 0
 2426 0e96 FB68     		ldr	r3, [r7, #12]
 2427 0e98 4FF00002 		mov	r2, #0
 2428 0e9c 1A60     		str	r2, [r3, #0]
1592:Libraries/uC-OSIII/os_core.c ****         p_pend_list->HeadPtr = p_next;
 2429              		.loc 1 1592 0
 2430 0e9e 7B68     		ldr	r3, [r7, #4]
 2431 0ea0 FA68     		ldr	r2, [r7, #12]
 2432 0ea2 1A60     		str	r2, [r3, #0]
 2433 0ea4 1AE0     		b	.L138
 2434              	.L139:
1593:Libraries/uC-OSIII/os_core.c **** 
1594:Libraries/uC-OSIII/os_core.c ****     } else if (p_pend_data->NextPtr == (OS_PEND_DATA *)0) { /* See if entry is at the tail of the l
 2435              		.loc 1 1594 0
 2436 0ea6 3B68     		ldr	r3, [r7, #0]
 2437 0ea8 5B68     		ldr	r3, [r3, #4]
 2438 0eaa 002B     		cmp	r3, #0
 2439 0eac 0AD1     		bne	.L140
1595:Libraries/uC-OSIII/os_core.c ****         p_prev               = p_pend_data->PrevPtr;        /* Yes                                 
 2440              		.loc 1 1595 0
 2441 0eae 3B68     		ldr	r3, [r7, #0]
 2442 0eb0 1B68     		ldr	r3, [r3, #0]
 2443 0eb2 BB60     		str	r3, [r7, #8]
1596:Libraries/uC-OSIII/os_core.c ****         p_prev->NextPtr      = (OS_PEND_DATA *)0;
 2444              		.loc 1 1596 0
 2445 0eb4 BB68     		ldr	r3, [r7, #8]
 2446 0eb6 4FF00002 		mov	r2, #0
 2447 0eba 5A60     		str	r2, [r3, #4]
1597:Libraries/uC-OSIII/os_core.c ****         p_pend_list->TailPtr = p_prev;
 2448              		.loc 1 1597 0
 2449 0ebc 7B68     		ldr	r3, [r7, #4]
 2450 0ebe BA68     		ldr	r2, [r7, #8]
 2451 0ec0 5A60     		str	r2, [r3, #4]
 2452 0ec2 0BE0     		b	.L138
 2453              	.L140:
1598:Libraries/uC-OSIII/os_core.c **** 
1599:Libraries/uC-OSIII/os_core.c ****     } else {
1600:Libraries/uC-OSIII/os_core.c ****         p_prev               = p_pend_data->PrevPtr;        /* Remove from inside the list         
 2454              		.loc 1 1600 0
 2455 0ec4 3B68     		ldr	r3, [r7, #0]
 2456 0ec6 1B68     		ldr	r3, [r3, #0]
 2457 0ec8 BB60     		str	r3, [r7, #8]
1601:Libraries/uC-OSIII/os_core.c ****         p_next               = p_pend_data->NextPtr;
 2458              		.loc 1 1601 0
 2459 0eca 3B68     		ldr	r3, [r7, #0]
 2460 0ecc 5B68     		ldr	r3, [r3, #4]
 2461 0ece FB60     		str	r3, [r7, #12]
1602:Libraries/uC-OSIII/os_core.c ****         p_prev->NextPtr      = p_next;
 2462              		.loc 1 1602 0
 2463 0ed0 BB68     		ldr	r3, [r7, #8]
 2464 0ed2 FA68     		ldr	r2, [r7, #12]
 2465 0ed4 5A60     		str	r2, [r3, #4]
1603:Libraries/uC-OSIII/os_core.c ****         p_next->PrevPtr      = p_prev;
 2466              		.loc 1 1603 0
 2467 0ed6 FB68     		ldr	r3, [r7, #12]
 2468 0ed8 BA68     		ldr	r2, [r7, #8]
 2469 0eda 1A60     		str	r2, [r3, #0]
 2470              	.L138:
1604:Libraries/uC-OSIII/os_core.c ****     }
1605:Libraries/uC-OSIII/os_core.c ****     p_pend_list->NbrEntries--;                              /* One less entry in the list          
 2471              		.loc 1 1605 0
 2472 0edc 7B68     		ldr	r3, [r7, #4]
 2473 0ede 1B89     		ldrh	r3, [r3, #8]
 2474 0ee0 03F1FF33 		add	r3, r3, #-1
 2475 0ee4 9AB2     		uxth	r2, r3
 2476 0ee6 7B68     		ldr	r3, [r7, #4]
 2477 0ee8 1A81     		strh	r2, [r3, #8]	@ movhi
1606:Libraries/uC-OSIII/os_core.c ****     p_pend_data->NextPtr = (OS_PEND_DATA *)0;
 2478              		.loc 1 1606 0
 2479 0eea 3B68     		ldr	r3, [r7, #0]
 2480 0eec 4FF00002 		mov	r2, #0
 2481 0ef0 5A60     		str	r2, [r3, #4]
1607:Libraries/uC-OSIII/os_core.c ****     p_pend_data->PrevPtr = (OS_PEND_DATA *)0;
 2482              		.loc 1 1607 0
 2483 0ef2 3B68     		ldr	r3, [r7, #0]
 2484 0ef4 4FF00002 		mov	r2, #0
 2485 0ef8 1A60     		str	r2, [r3, #0]
1608:Libraries/uC-OSIII/os_core.c **** }
 2486              		.loc 1 1608 0
 2487 0efa 07F11407 		add	r7, r7, #20
 2488 0efe BD46     		mov	sp, r7
 2489 0f00 80BC     		pop	{r7}
 2490 0f02 7047     		bx	lr
 2491              		.cfi_endproc
 2492              	.LFE23:
 2494              		.align	2
 2495              		.global	OS_PendObjDel
 2496              		.thumb
 2497              		.thumb_func
 2499              	OS_PendObjDel:
 2500              	.LFB24:
1609:Libraries/uC-OSIII/os_core.c **** 
1610:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
1611:Libraries/uC-OSIII/os_core.c **** /*
1612:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1613:Libraries/uC-OSIII/os_core.c **** *                                READY A TASK THAT WAS PENDING ON AN OBJECT BEING DELETED
1614:Libraries/uC-OSIII/os_core.c **** *
1615:Libraries/uC-OSIII/os_core.c **** * Description: This function is called when a object is to make a task ready-to-run.
1616:Libraries/uC-OSIII/os_core.c **** *
1617:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_obj          is a pointer to the object being deleted
1618:Libraries/uC-OSIII/os_core.c **** *              -----
1619:Libraries/uC-OSIII/os_core.c **** *
1620:Libraries/uC-OSIII/os_core.c **** *              p_tcb          is a pointer to the OS_TCB of the task to make ready-to-run
1621:Libraries/uC-OSIII/os_core.c **** *              -----
1622:Libraries/uC-OSIII/os_core.c **** *
1623:Libraries/uC-OSIII/os_core.c **** *              ts             is a timestamp to indicate when the object was deleted
1624:Libraries/uC-OSIII/os_core.c **** *
1625:Libraries/uC-OSIII/os_core.c **** * Returns    : none
1626:Libraries/uC-OSIII/os_core.c **** *
1627:Libraries/uC-OSIII/os_core.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
1628:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1629:Libraries/uC-OSIII/os_core.c **** */
1630:Libraries/uC-OSIII/os_core.c **** 
1631:Libraries/uC-OSIII/os_core.c **** void   OS_PendObjDel (OS_PEND_OBJ *p_obj,
1632:Libraries/uC-OSIII/os_core.c ****                       OS_TCB      *p_tcb,
1633:Libraries/uC-OSIII/os_core.c ****                       CPU_TS       ts)
1634:Libraries/uC-OSIII/os_core.c **** {
 2501              		.loc 1 1634 0
 2502              		.cfi_startproc
 2503              		@ args = 0, pretend = 0, frame = 16
 2504              		@ frame_needed = 1, uses_anonymous_args = 0
 2505 0f04 80B5     		push	{r7, lr}
 2506              	.LCFI71:
 2507              		.cfi_def_cfa_offset 8
 2508              		.cfi_offset 14, -4
 2509              		.cfi_offset 7, -8
 2510 0f06 84B0     		sub	sp, sp, #16
 2511              	.LCFI72:
 2512              		.cfi_def_cfa_offset 24
 2513 0f08 00AF     		add	r7, sp, #0
 2514              	.LCFI73:
 2515              		.cfi_def_cfa_register 7
 2516 0f0a F860     		str	r0, [r7, #12]
 2517 0f0c B960     		str	r1, [r7, #8]
 2518 0f0e 7A60     		str	r2, [r7, #4]
1635:Libraries/uC-OSIII/os_core.c ****     switch (p_tcb->TaskState) {
 2519              		.loc 1 1635 0
 2520 0f10 BB68     		ldr	r3, [r7, #8]
 2521 0f12 93F8C230 		ldrb	r3, [r3, #194]	@ zero_extendqisi2
 2522 0f16 072B     		cmp	r3, #7
 2523 0f18 6AD8     		bhi	.L150
 2524 0f1a 4FF04C42 		mov	r2, #-872415232
 2525 0f1e 02FA03F2 		lsl	r2, r2, r3
 2526 0f22 002A     		cmp	r2, #0
 2527 0f24 66DB     		blt	.L151
 2528 0f26 4FF04072 		mov	r2, #50331648
 2529 0f2a 02FA03F2 		lsl	r2, r2, r3
 2530 0f2e 002A     		cmp	r2, #0
 2531 0f30 31DB     		blt	.L145
 2532 0f32 4FF04052 		mov	r2, #805306368
 2533 0f36 02FA03F3 		lsl	r3, r2, r3
 2534 0f3a 002B     		cmp	r3, #0
 2535 0f3c 57DA     		bge	.L149
 2536              	.L144:
1636:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_RDY:                                  /* These states should never occur
1637:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_DLY:
1638:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_SUSPENDED:
1639:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_DLY_SUSPENDED:
1640:Libraries/uC-OSIII/os_core.c ****              break;
1641:Libraries/uC-OSIII/os_core.c **** 
1642:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_PEND:
1643:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
1644:Libraries/uC-OSIII/os_core.c ****              if (p_tcb->PendOn == OS_TASK_PEND_ON_MULTI) {
 2537              		.loc 1 1644 0
 2538 0f3e BB68     		ldr	r3, [r7, #8]
 2539 0f40 93F8C030 		ldrb	r3, [r3, #192]	@ zero_extendqisi2
 2540 0f44 032B     		cmp	r3, #3
 2541 0f46 04D1     		bne	.L147
1645:Libraries/uC-OSIII/os_core.c ****                  OS_PendObjDel1(p_obj,                           /* Indicate which object was pend 
 2542              		.loc 1 1645 0
 2543 0f48 F868     		ldr	r0, [r7, #12]
 2544 0f4a B968     		ldr	r1, [r7, #8]
 2545 0f4c 7A68     		ldr	r2, [r7, #4]
 2546 0f4e FFF7FEFF 		bl	OS_PendObjDel1
 2547              	.L147:
1646:Libraries/uC-OSIII/os_core.c ****                                 p_tcb,
1647:Libraries/uC-OSIII/os_core.c ****                                 ts);
1648:Libraries/uC-OSIII/os_core.c ****              }
1649:Libraries/uC-OSIII/os_core.c **** #if (OS_MSG_EN > 0u)
1650:Libraries/uC-OSIII/os_core.c ****              p_tcb->MsgPtr     = (void *)0;
 2548              		.loc 1 1650 0
 2549 0f52 BB68     		ldr	r3, [r7, #8]
 2550 0f54 4FF00002 		mov	r2, #0
 2551 0f58 DA63     		str	r2, [r3, #60]
1651:Libraries/uC-OSIII/os_core.c ****              p_tcb->MsgSize    = (OS_MSG_SIZE)0u;
 2552              		.loc 1 1651 0
 2553 0f5a BB68     		ldr	r3, [r7, #8]
 2554 0f5c 4FF00002 		mov	r2, #0
 2555 0f60 A3F84020 		strh	r2, [r3, #64]	@ movhi
1652:Libraries/uC-OSIII/os_core.c **** #endif
1653:Libraries/uC-OSIII/os_core.c ****              p_tcb->TS         = ts;
 2556              		.loc 1 1653 0
 2557 0f64 BB68     		ldr	r3, [r7, #8]
 2558 0f66 7A68     		ldr	r2, [r7, #4]
 2559 0f68 9A63     		str	r2, [r3, #56]
1654:Libraries/uC-OSIII/os_core.c ****              OS_PendListRemove(p_tcb);                           /* Remove task from all wait lists
 2560              		.loc 1 1654 0
 2561 0f6a B868     		ldr	r0, [r7, #8]
 2562 0f6c FFF7FEFF 		bl	OS_PendListRemove
1655:Libraries/uC-OSIII/os_core.c ****              OS_TaskRdy(p_tcb);
 2563              		.loc 1 1655 0
 2564 0f70 B868     		ldr	r0, [r7, #8]
 2565 0f72 FFF7FEFF 		bl	OS_TaskRdy
1656:Libraries/uC-OSIII/os_core.c ****              p_tcb->TaskState  = OS_TASK_STATE_RDY;              /* Task is readied because object 
 2566              		.loc 1 1656 0
 2567 0f76 BB68     		ldr	r3, [r7, #8]
 2568 0f78 4FF00002 		mov	r2, #0
 2569 0f7c 83F8C220 		strb	r2, [r3, #194]
1657:Libraries/uC-OSIII/os_core.c ****              p_tcb->PendStatus = OS_STATUS_PEND_DEL;             /* Indicate pend was aborted      
 2570              		.loc 1 1657 0
 2571 0f80 BB68     		ldr	r3, [r7, #8]
 2572 0f82 4FF00202 		mov	r2, #2
 2573 0f86 83F8C120 		strb	r2, [r3, #193]
1658:Libraries/uC-OSIII/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;
 2574              		.loc 1 1658 0
 2575 0f8a BB68     		ldr	r3, [r7, #8]
 2576 0f8c 4FF00002 		mov	r2, #0
 2577 0f90 83F8C020 		strb	r2, [r3, #192]
1659:Libraries/uC-OSIII/os_core.c ****              break;
 2578              		.loc 1 1659 0
 2579 0f94 2FE0     		b	.L141
 2580              	.L145:
1660:Libraries/uC-OSIII/os_core.c **** 
1661:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
1662:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
1663:Libraries/uC-OSIII/os_core.c ****              if (p_tcb->PendOn == OS_TASK_PEND_ON_MULTI) {
 2581              		.loc 1 1663 0
 2582 0f96 BB68     		ldr	r3, [r7, #8]
 2583 0f98 93F8C030 		ldrb	r3, [r3, #192]	@ zero_extendqisi2
 2584 0f9c 032B     		cmp	r3, #3
 2585 0f9e 04D1     		bne	.L148
1664:Libraries/uC-OSIII/os_core.c ****                  OS_PendObjDel1(p_obj,                           /* Indicate which object was pend 
 2586              		.loc 1 1664 0
 2587 0fa0 F868     		ldr	r0, [r7, #12]
 2588 0fa2 B968     		ldr	r1, [r7, #8]
 2589 0fa4 7A68     		ldr	r2, [r7, #4]
 2590 0fa6 FFF7FEFF 		bl	OS_PendObjDel1
 2591              	.L148:
1665:Libraries/uC-OSIII/os_core.c ****                                 p_tcb,
1666:Libraries/uC-OSIII/os_core.c ****                                 ts);
1667:Libraries/uC-OSIII/os_core.c ****              }
1668:Libraries/uC-OSIII/os_core.c **** #if (OS_MSG_EN > 0u)
1669:Libraries/uC-OSIII/os_core.c ****              p_tcb->MsgPtr     = (void      *)0;
 2592              		.loc 1 1669 0
 2593 0faa BB68     		ldr	r3, [r7, #8]
 2594 0fac 4FF00002 		mov	r2, #0
 2595 0fb0 DA63     		str	r2, [r3, #60]
1670:Libraries/uC-OSIII/os_core.c ****              p_tcb->MsgSize    = (OS_MSG_SIZE)0u;
 2596              		.loc 1 1670 0
 2597 0fb2 BB68     		ldr	r3, [r7, #8]
 2598 0fb4 4FF00002 		mov	r2, #0
 2599 0fb8 A3F84020 		strh	r2, [r3, #64]	@ movhi
1671:Libraries/uC-OSIII/os_core.c **** #endif
1672:Libraries/uC-OSIII/os_core.c ****              p_tcb->TS         = ts;
 2600              		.loc 1 1672 0
 2601 0fbc BB68     		ldr	r3, [r7, #8]
 2602 0fbe 7A68     		ldr	r2, [r7, #4]
 2603 0fc0 9A63     		str	r2, [r3, #56]
1673:Libraries/uC-OSIII/os_core.c ****              OS_TickListRemove(p_tcb);                           /* Cancel the timeout             
 2604              		.loc 1 1673 0
 2605 0fc2 B868     		ldr	r0, [r7, #8]
 2606 0fc4 FFF7FEFF 		bl	OS_TickListRemove
1674:Libraries/uC-OSIII/os_core.c ****              OS_PendListRemove(p_tcb);                           /* Remove task from all wait lists
 2607              		.loc 1 1674 0
 2608 0fc8 B868     		ldr	r0, [r7, #8]
 2609 0fca FFF7FEFF 		bl	OS_PendListRemove
1675:Libraries/uC-OSIII/os_core.c ****              p_tcb->TaskState  = OS_TASK_STATE_SUSPENDED;        /* Task needs to remain suspended 
 2610              		.loc 1 1675 0
 2611 0fce BB68     		ldr	r3, [r7, #8]
 2612 0fd0 4FF00402 		mov	r2, #4
 2613 0fd4 83F8C220 		strb	r2, [r3, #194]
1676:Libraries/uC-OSIII/os_core.c ****              p_tcb->PendStatus = OS_STATUS_PEND_DEL;             /* Indicate pend was aborted      
 2614              		.loc 1 1676 0
 2615 0fd8 BB68     		ldr	r3, [r7, #8]
 2616 0fda 4FF00202 		mov	r2, #2
 2617 0fde 83F8C120 		strb	r2, [r3, #193]
1677:Libraries/uC-OSIII/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;        /* Indicate no longer pending     
 2618              		.loc 1 1677 0
 2619 0fe2 BB68     		ldr	r3, [r7, #8]
 2620 0fe4 4FF00002 		mov	r2, #0
 2621 0fe8 83F8C020 		strb	r2, [r3, #192]
1678:Libraries/uC-OSIII/os_core.c ****              break;
 2622              		.loc 1 1678 0
 2623 0fec 03E0     		b	.L141
 2624              	.L149:
1679:Libraries/uC-OSIII/os_core.c **** 
1680:Libraries/uC-OSIII/os_core.c ****         default:
1681:Libraries/uC-OSIII/os_core.c ****              break;
 2625              		.loc 1 1681 0
 2626 0fee 00BF     		nop
 2627              	.L150:
 2628 0ff0 00BF     		nop
 2629 0ff2 00E0     		b	.L141
 2630              	.L151:
1640:Libraries/uC-OSIII/os_core.c ****              break;
 2631              		.loc 1 1640 0
 2632 0ff4 00BF     		nop
 2633              	.L141:
1682:Libraries/uC-OSIII/os_core.c ****     }
1683:Libraries/uC-OSIII/os_core.c **** }
 2634              		.loc 1 1683 0
 2635 0ff6 07F11007 		add	r7, r7, #16
 2636 0ffa BD46     		mov	sp, r7
 2637 0ffc 80BD     		pop	{r7, pc}
 2638              		.cfi_endproc
 2639              	.LFE24:
 2641 0ffe 00BF     		.align	2
 2642              		.global	OS_PendObjDel1
 2643              		.thumb
 2644              		.thumb_func
 2646              	OS_PendObjDel1:
 2647              	.LFB25:
1684:Libraries/uC-OSIII/os_core.c **** 
1685:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
1686:Libraries/uC-OSIII/os_core.c **** /*
1687:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1688:Libraries/uC-OSIII/os_core.c **** *                                    DELETE AN OBJECT FROM A TASK PENDING ON MULTIPLE OBJECTS
1689:Libraries/uC-OSIII/os_core.c **** *
1690:Libraries/uC-OSIII/os_core.c **** * Description: This function is called when a task is pending on multiple objects and the object is
1691:Libraries/uC-OSIII/os_core.c **** *              This function needs to indicate to the caller which object was deleted by placing th
1692:Libraries/uC-OSIII/os_core.c **** *              object in the OS_PEND_DATA table corresponding to the deleted object.
1693:Libraries/uC-OSIII/os_core.c **** *
1694:Libraries/uC-OSIII/os_core.c **** *              For example, if the task pends on six (6) objects, the address of those 6 objects ar
1695:Libraries/uC-OSIII/os_core.c **** *              .PendObjPtr field of the OS_PEND_DATA table as shown below.  Note that the .PendData
1696:Libraries/uC-OSIII/os_core.c **** *              set to six (6) in this case.  As shown, when the pend call returns because a task de
1697:Libraries/uC-OSIII/os_core.c **** *              only the one entry contains the filled in data and the other entries contains NULL p
1698:Libraries/uC-OSIII/os_core.c **** *              data.
1699:Libraries/uC-OSIII/os_core.c **** *
1700:Libraries/uC-OSIII/os_core.c **** *              You should note that the NULL pointers are zero data values are actually filled in b
1701:Libraries/uC-OSIII/os_core.c **** *
1702:Libraries/uC-OSIII/os_core.c **** *
1703:Libraries/uC-OSIII/os_core.c **** *                                           .PendObjPtr    .RdyObjPtr     .RdyMsgPtr     .RdyMsgSiz
1704:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
1705:Libraries/uC-OSIII/os_core.c **** *              p_tcb->PendDataTblPtr  ->  |  Obj A       |  0           | 0            | 0         
1706:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
1707:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj B       |  0           | 0            | 0         
1708:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
1709:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj C       |  Obj C       | 0            | 0         
1710:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
1711:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj D       |  0           | 0            | 0         
1712:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
1713:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj E       |  0           | 0            | 0         
1714:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
1715:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj F       |  0           | 0            | 0         
1716:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
1717:Libraries/uC-OSIII/os_core.c **** *
1718:Libraries/uC-OSIII/os_core.c **** *
1719:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_obj        is a pointer to the object being deleted
1720:Libraries/uC-OSIII/os_core.c **** *              -----
1721:Libraries/uC-OSIII/os_core.c **** *
1722:Libraries/uC-OSIII/os_core.c **** *              p_tcb        is the OS_TCB of the task pending on the object being deleted
1723:Libraries/uC-OSIII/os_core.c **** *              -----
1724:Libraries/uC-OSIII/os_core.c **** *
1725:Libraries/uC-OSIII/os_core.c **** *              ts           is the time stamp of when the object was deleted
1726:Libraries/uC-OSIII/os_core.c **** *
1727:Libraries/uC-OSIII/os_core.c **** * Returns    : none
1728:Libraries/uC-OSIII/os_core.c **** *
1729:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1730:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1731:Libraries/uC-OSIII/os_core.c **** */
1732:Libraries/uC-OSIII/os_core.c **** 
1733:Libraries/uC-OSIII/os_core.c **** void  OS_PendObjDel1 (OS_PEND_OBJ  *p_obj,
1734:Libraries/uC-OSIII/os_core.c ****                       OS_TCB       *p_tcb,
1735:Libraries/uC-OSIII/os_core.c ****                       CPU_TS        ts)
1736:Libraries/uC-OSIII/os_core.c **** {
 2648              		.loc 1 1736 0
 2649              		.cfi_startproc
 2650              		@ args = 0, pretend = 0, frame = 24
 2651              		@ frame_needed = 1, uses_anonymous_args = 0
 2652              		@ link register save eliminated.
 2653 1000 80B4     		push	{r7}
 2654              	.LCFI74:
 2655              		.cfi_def_cfa_offset 4
 2656              		.cfi_offset 7, -4
 2657 1002 87B0     		sub	sp, sp, #28
 2658              	.LCFI75:
 2659              		.cfi_def_cfa_offset 32
 2660 1004 00AF     		add	r7, sp, #0
 2661              	.LCFI76:
 2662              		.cfi_def_cfa_register 7
 2663 1006 F860     		str	r0, [r7, #12]
 2664 1008 B960     		str	r1, [r7, #8]
 2665 100a 7A60     		str	r2, [r7, #4]
1737:Libraries/uC-OSIII/os_core.c ****     OS_OBJ_QTY      n_pend_list;                                    /* Number of pend lists        
1738:Libraries/uC-OSIII/os_core.c ****     OS_PEND_DATA   *p_pend_data;
1739:Libraries/uC-OSIII/os_core.c **** 
1740:Libraries/uC-OSIII/os_core.c **** 
1741:Libraries/uC-OSIII/os_core.c **** 
1742:Libraries/uC-OSIII/os_core.c ****     p_pend_data = p_tcb->PendDataTblPtr;                            /* Point to the first OS_PEND_D
 2666              		.loc 1 1742 0
 2667 100c BB68     		ldr	r3, [r7, #8]
 2668 100e 1B6B     		ldr	r3, [r3, #48]
 2669 1010 3B61     		str	r3, [r7, #16]
1743:Libraries/uC-OSIII/os_core.c ****     n_pend_list = p_tcb->PendDataTblEntries;                        /* Get number of entries in the
 2670              		.loc 1 1743 0
 2671 1012 BB68     		ldr	r3, [r7, #8]
 2672 1014 9B8E     		ldrh	r3, [r3, #52]	@ movhi
 2673 1016 FB82     		strh	r3, [r7, #22]	@ movhi
1744:Libraries/uC-OSIII/os_core.c **** 
1745:Libraries/uC-OSIII/os_core.c ****     while (n_pend_list > (OS_OBJ_QTY)0) {                           /* Mark posted object in OS_PEN
 2674              		.loc 1 1745 0
 2675 1018 13E0     		b	.L153
 2676              	.L156:
1746:Libraries/uC-OSIII/os_core.c ****         if (p_obj == p_pend_data->PendObjPtr) {                     /* Did we find the object delet
 2677              		.loc 1 1746 0
 2678 101a 3B69     		ldr	r3, [r7, #16]
 2679 101c DA68     		ldr	r2, [r3, #12]
 2680 101e FB68     		ldr	r3, [r7, #12]
 2681 1020 9A42     		cmp	r2, r3
 2682 1022 06D1     		bne	.L154
1747:Libraries/uC-OSIII/os_core.c ****             p_pend_data->RdyObjPtr = p_obj;                         /* Yes, indicate the object in 
 2683              		.loc 1 1747 0
 2684 1024 3B69     		ldr	r3, [r7, #16]
 2685 1026 FA68     		ldr	r2, [r7, #12]
 2686 1028 1A61     		str	r2, [r3, #16]
1748:Libraries/uC-OSIII/os_core.c ****             p_pend_data->RdyTS     = ts;                            /*      save the timestamp     
 2687              		.loc 1 1748 0
 2688 102a 3B69     		ldr	r3, [r7, #16]
 2689 102c 7A68     		ldr	r2, [r7, #4]
 2690 102e DA61     		str	r2, [r3, #28]
1749:Libraries/uC-OSIII/os_core.c ****             break;
 2691              		.loc 1 1749 0
 2692 1030 0AE0     		b	.L152
 2693              	.L154:
1750:Libraries/uC-OSIII/os_core.c ****         }
1751:Libraries/uC-OSIII/os_core.c ****         p_pend_data++;
 2694              		.loc 1 1751 0
 2695 1032 3B69     		ldr	r3, [r7, #16]
 2696 1034 03F12003 		add	r3, r3, #32
 2697 1038 3B61     		str	r3, [r7, #16]
1752:Libraries/uC-OSIII/os_core.c ****         n_pend_list--;
 2698              		.loc 1 1752 0
 2699 103a FB8A     		ldrh	r3, [r7, #22]	@ movhi
 2700 103c 03F1FF33 		add	r3, r3, #-1
 2701 1040 FB82     		strh	r3, [r7, #22]	@ movhi
 2702              	.L153:
1745:Libraries/uC-OSIII/os_core.c ****     while (n_pend_list > (OS_OBJ_QTY)0) {                           /* Mark posted object in OS_PEN
 2703              		.loc 1 1745 0 discriminator 1
 2704 1042 FB8A     		ldrh	r3, [r7, #22]
 2705 1044 002B     		cmp	r3, #0
 2706 1046 E8D1     		bne	.L156
 2707              	.L152:
1753:Libraries/uC-OSIII/os_core.c ****     }
1754:Libraries/uC-OSIII/os_core.c **** }
 2708              		.loc 1 1754 0
 2709 1048 07F11C07 		add	r7, r7, #28
 2710 104c BD46     		mov	sp, r7
 2711 104e 80BC     		pop	{r7}
 2712 1050 7047     		bx	lr
 2713              		.cfi_endproc
 2714              	.LFE25:
 2716 1052 00BF     		.align	2
 2717              		.global	OS_Post
 2718              		.thumb
 2719              		.thumb_func
 2721              	OS_Post:
 2722              	.LFB26:
1755:Libraries/uC-OSIII/os_core.c **** 
1756:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
1757:Libraries/uC-OSIII/os_core.c **** /*
1758:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1759:Libraries/uC-OSIII/os_core.c **** *                                                   POST TO A TASK
1760:Libraries/uC-OSIII/os_core.c **** *
1761:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to post to a task.  This function exist because it is common
1762:Libraries/uC-OSIII/os_core.c **** *              OSxxxPost() services.
1763:Libraries/uC-OSIII/os_core.c **** *
1764:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_obj          Is a pointer to the object being posted to or NULL pointer if there i
1765:Libraries/uC-OSIII/os_core.c **** *              -----
1766:Libraries/uC-OSIII/os_core.c **** *
1767:Libraries/uC-OSIII/os_core.c **** *              p_tcb          Is a pointer to the OS_TCB that will receive the 'post'
1768:Libraries/uC-OSIII/os_core.c **** *              -----
1769:Libraries/uC-OSIII/os_core.c **** *
1770:Libraries/uC-OSIII/os_core.c **** *              p_void         If we are posting a message to a task, this is the message that the t
1771:Libraries/uC-OSIII/os_core.c **** *
1772:Libraries/uC-OSIII/os_core.c **** *              msg_size       If we are posting a message to a task, this is the size of the messag
1773:Libraries/uC-OSIII/os_core.c **** *
1774:Libraries/uC-OSIII/os_core.c **** *              ts             The timestamp as to when the post occurred
1775:Libraries/uC-OSIII/os_core.c **** *
1776:Libraries/uC-OSIII/os_core.c **** * Returns    : none
1777:Libraries/uC-OSIII/os_core.c **** *
1778:Libraries/uC-OSIII/os_core.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
1779:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1780:Libraries/uC-OSIII/os_core.c **** */
1781:Libraries/uC-OSIII/os_core.c **** 
1782:Libraries/uC-OSIII/os_core.c **** void   OS_Post (OS_PEND_OBJ  *p_obj,
1783:Libraries/uC-OSIII/os_core.c ****                 OS_TCB       *p_tcb,
1784:Libraries/uC-OSIII/os_core.c ****                 void         *p_void,
1785:Libraries/uC-OSIII/os_core.c ****                 OS_MSG_SIZE   msg_size,
1786:Libraries/uC-OSIII/os_core.c ****                 CPU_TS        ts)
1787:Libraries/uC-OSIII/os_core.c **** {
 2723              		.loc 1 1787 0
 2724              		.cfi_startproc
 2725              		@ args = 4, pretend = 0, frame = 16
 2726              		@ frame_needed = 1, uses_anonymous_args = 0
 2727 1054 80B5     		push	{r7, lr}
 2728              	.LCFI77:
 2729              		.cfi_def_cfa_offset 8
 2730              		.cfi_offset 14, -4
 2731              		.cfi_offset 7, -8
 2732 1056 86B0     		sub	sp, sp, #24
 2733              	.LCFI78:
 2734              		.cfi_def_cfa_offset 32
 2735 1058 02AF     		add	r7, sp, #8
 2736              	.LCFI79:
 2737              		.cfi_def_cfa 7, 24
 2738 105a F860     		str	r0, [r7, #12]
 2739 105c B960     		str	r1, [r7, #8]
 2740 105e 7A60     		str	r2, [r7, #4]
 2741 1060 7B80     		strh	r3, [r7, #2]	@ movhi
1788:Libraries/uC-OSIII/os_core.c ****     switch (p_tcb->TaskState) {
 2742              		.loc 1 1788 0
 2743 1062 BB68     		ldr	r3, [r7, #8]
 2744 1064 93F8C230 		ldrb	r3, [r3, #194]	@ zero_extendqisi2
 2745 1068 072B     		cmp	r3, #7
 2746 106a 7CD8     		bhi	.L170
 2747 106c 4FF04C42 		mov	r2, #-872415232
 2748 1070 02FA03F2 		lsl	r2, r2, r3
 2749 1074 002A     		cmp	r2, #0
 2750 1076 78DB     		blt	.L171
 2751 1078 4FF04072 		mov	r2, #50331648
 2752 107c 02FA03F2 		lsl	r2, r2, r3
 2753 1080 002A     		cmp	r2, #0
 2754 1082 3ADB     		blt	.L161
 2755 1084 4FF04052 		mov	r2, #805306368
 2756 1088 02FA03F3 		lsl	r3, r2, r3
 2757 108c 002B     		cmp	r3, #0
 2758 108e 69DA     		bge	.L169
 2759              	.L160:
1789:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_RDY:                                  /* Cannot Pend Abort a task that i
1790:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_DLY:                                  /* Cannot Pend Abort a task that i
1791:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_SUSPENDED:                            /* Cannot Post a suspended task   
1792:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_DLY_SUSPENDED:                        /* Cannot Post a suspended task th
1793:Libraries/uC-OSIII/os_core.c ****              break;
1794:Libraries/uC-OSIII/os_core.c **** 
1795:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_PEND:
1796:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
1797:Libraries/uC-OSIII/os_core.c ****              if (p_tcb->PendOn == OS_TASK_PEND_ON_MULTI) {
 2760              		.loc 1 1797 0
 2761 1090 BB68     		ldr	r3, [r7, #8]
 2762 1092 93F8C030 		ldrb	r3, [r3, #192]	@ zero_extendqisi2
 2763 1096 032B     		cmp	r3, #3
 2764 1098 08D1     		bne	.L163
1798:Libraries/uC-OSIII/os_core.c ****                  OS_Post1(p_obj,                                 /* Indicate which object was poste
 2765              		.loc 1 1798 0
 2766 109a 7B88     		ldrh	r3, [r7, #2]
 2767 109c BA69     		ldr	r2, [r7, #24]
 2768 109e 0092     		str	r2, [sp, #0]
 2769 10a0 F868     		ldr	r0, [r7, #12]
 2770 10a2 B968     		ldr	r1, [r7, #8]
 2771 10a4 7A68     		ldr	r2, [r7, #4]
 2772 10a6 FFF7FEFF 		bl	OS_Post1
 2773 10aa 09E0     		b	.L164
 2774              	.L163:
1799:Libraries/uC-OSIII/os_core.c ****                           p_tcb,
1800:Libraries/uC-OSIII/os_core.c ****                           p_void,
1801:Libraries/uC-OSIII/os_core.c ****                           msg_size,
1802:Libraries/uC-OSIII/os_core.c ****                           ts);
1803:Libraries/uC-OSIII/os_core.c ****              } else {
1804:Libraries/uC-OSIII/os_core.c **** #if (OS_MSG_EN > 0u)
1805:Libraries/uC-OSIII/os_core.c ****                  p_tcb->MsgPtr  = p_void;                        /* Deposit message in OS_TCB of ta
 2775              		.loc 1 1805 0
 2776 10ac BB68     		ldr	r3, [r7, #8]
 2777 10ae 7A68     		ldr	r2, [r7, #4]
 2778 10b0 DA63     		str	r2, [r3, #60]
1806:Libraries/uC-OSIII/os_core.c ****                  p_tcb->MsgSize = msg_size;                      /* ... assuming posting a message 
 2779              		.loc 1 1806 0
 2780 10b2 BB68     		ldr	r3, [r7, #8]
 2781 10b4 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2782 10b6 A3F84020 		strh	r2, [r3, #64]	@ movhi
1807:Libraries/uC-OSIII/os_core.c **** #endif
1808:Libraries/uC-OSIII/os_core.c ****                  p_tcb->TS      = ts;
 2783              		.loc 1 1808 0
 2784 10ba BB68     		ldr	r3, [r7, #8]
 2785 10bc BA69     		ldr	r2, [r7, #24]
 2786 10be 9A63     		str	r2, [r3, #56]
 2787              	.L164:
1809:Libraries/uC-OSIII/os_core.c ****              }
1810:Libraries/uC-OSIII/os_core.c ****              if (p_obj != (OS_PEND_OBJ *)0) {
 2788              		.loc 1 1810 0
 2789 10c0 FB68     		ldr	r3, [r7, #12]
 2790 10c2 002B     		cmp	r3, #0
 2791 10c4 06D0     		beq	.L165
1811:Libraries/uC-OSIII/os_core.c ****                  OS_PendListRemove(p_tcb);                       /* Remove task from wait list(s)  
 2792              		.loc 1 1811 0
 2793 10c6 B868     		ldr	r0, [r7, #8]
 2794 10c8 FFF7FEFF 		bl	OS_PendListRemove
1812:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_DBG_EN > 0u
1813:Libraries/uC-OSIII/os_core.c ****                  OS_PendDbgNameRemove(p_obj,
 2795              		.loc 1 1813 0
 2796 10cc F868     		ldr	r0, [r7, #12]
 2797 10ce B968     		ldr	r1, [r7, #8]
 2798 10d0 FFF7FEFF 		bl	OS_PendDbgNameRemove
 2799              	.L165:
1814:Libraries/uC-OSIII/os_core.c ****                                       p_tcb);
1815:Libraries/uC-OSIII/os_core.c **** #endif
1816:Libraries/uC-OSIII/os_core.c ****              }
1817:Libraries/uC-OSIII/os_core.c ****              OS_TaskRdy(p_tcb);                                  /* Make task ready to run         
 2800              		.loc 1 1817 0
 2801 10d4 B868     		ldr	r0, [r7, #8]
 2802 10d6 FFF7FEFF 		bl	OS_TaskRdy
1818:Libraries/uC-OSIII/os_core.c ****              p_tcb->TaskState  = OS_TASK_STATE_RDY;
 2803              		.loc 1 1818 0
 2804 10da BB68     		ldr	r3, [r7, #8]
 2805 10dc 4FF00002 		mov	r2, #0
 2806 10e0 83F8C220 		strb	r2, [r3, #194]
1819:Libraries/uC-OSIII/os_core.c ****              p_tcb->PendStatus = OS_STATUS_PEND_OK;              /* Clear pend status              
 2807              		.loc 1 1819 0
 2808 10e4 BB68     		ldr	r3, [r7, #8]
 2809 10e6 4FF00002 		mov	r2, #0
 2810 10ea 83F8C120 		strb	r2, [r3, #193]
1820:Libraries/uC-OSIII/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;        /* Indicate no longer pending     
 2811              		.loc 1 1820 0
 2812 10ee BB68     		ldr	r3, [r7, #8]
 2813 10f0 4FF00002 		mov	r2, #0
 2814 10f4 83F8C020 		strb	r2, [r3, #192]
1821:Libraries/uC-OSIII/os_core.c ****              break;
 2815              		.loc 1 1821 0
 2816 10f8 38E0     		b	.L157
 2817              	.L161:
1822:Libraries/uC-OSIII/os_core.c **** 
1823:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
1824:Libraries/uC-OSIII/os_core.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
1825:Libraries/uC-OSIII/os_core.c ****              if (p_tcb->PendOn == OS_TASK_PEND_ON_MULTI) {
 2818              		.loc 1 1825 0
 2819 10fa BB68     		ldr	r3, [r7, #8]
 2820 10fc 93F8C030 		ldrb	r3, [r3, #192]	@ zero_extendqisi2
 2821 1100 032B     		cmp	r3, #3
 2822 1102 08D1     		bne	.L166
1826:Libraries/uC-OSIII/os_core.c ****                  OS_Post1(p_obj,                                 /* Indicate which object was poste
 2823              		.loc 1 1826 0
 2824 1104 7B88     		ldrh	r3, [r7, #2]
 2825 1106 BA69     		ldr	r2, [r7, #24]
 2826 1108 0092     		str	r2, [sp, #0]
 2827 110a F868     		ldr	r0, [r7, #12]
 2828 110c B968     		ldr	r1, [r7, #8]
 2829 110e 7A68     		ldr	r2, [r7, #4]
 2830 1110 FFF7FEFF 		bl	OS_Post1
 2831 1114 09E0     		b	.L167
 2832              	.L166:
1827:Libraries/uC-OSIII/os_core.c ****                           p_tcb,
1828:Libraries/uC-OSIII/os_core.c ****                           p_void,
1829:Libraries/uC-OSIII/os_core.c ****                           msg_size,
1830:Libraries/uC-OSIII/os_core.c ****                           ts);
1831:Libraries/uC-OSIII/os_core.c ****              } else {
1832:Libraries/uC-OSIII/os_core.c **** #if (OS_MSG_EN > 0u)
1833:Libraries/uC-OSIII/os_core.c ****                  p_tcb->MsgPtr  = p_void;                        /* Deposit message in OS_TCB of ta
 2833              		.loc 1 1833 0
 2834 1116 BB68     		ldr	r3, [r7, #8]
 2835 1118 7A68     		ldr	r2, [r7, #4]
 2836 111a DA63     		str	r2, [r3, #60]
1834:Libraries/uC-OSIII/os_core.c ****                  p_tcb->MsgSize = msg_size;                      /* ... assuming posting a message 
 2837              		.loc 1 1834 0
 2838 111c BB68     		ldr	r3, [r7, #8]
 2839 111e 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2840 1120 A3F84020 		strh	r2, [r3, #64]	@ movhi
1835:Libraries/uC-OSIII/os_core.c **** #endif
1836:Libraries/uC-OSIII/os_core.c ****                  p_tcb->TS      = ts;
 2841              		.loc 1 1836 0
 2842 1124 BB68     		ldr	r3, [r7, #8]
 2843 1126 BA69     		ldr	r2, [r7, #24]
 2844 1128 9A63     		str	r2, [r3, #56]
 2845              	.L167:
1837:Libraries/uC-OSIII/os_core.c ****              }
1838:Libraries/uC-OSIII/os_core.c ****              OS_TickListRemove(p_tcb);                           /* Cancel any timeout             
 2846              		.loc 1 1838 0
 2847 112a B868     		ldr	r0, [r7, #8]
 2848 112c FFF7FEFF 		bl	OS_TickListRemove
1839:Libraries/uC-OSIII/os_core.c ****              if (p_obj != (OS_PEND_OBJ *)0) {
 2849              		.loc 1 1839 0
 2850 1130 FB68     		ldr	r3, [r7, #12]
 2851 1132 002B     		cmp	r3, #0
 2852 1134 06D0     		beq	.L168
1840:Libraries/uC-OSIII/os_core.c ****                  OS_PendListRemove(p_tcb);                       /* Remove task from wait list(s)  
 2853              		.loc 1 1840 0
 2854 1136 B868     		ldr	r0, [r7, #8]
 2855 1138 FFF7FEFF 		bl	OS_PendListRemove
1841:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_DBG_EN > 0u
1842:Libraries/uC-OSIII/os_core.c ****                  OS_PendDbgNameRemove(p_obj,
 2856              		.loc 1 1842 0
 2857 113c F868     		ldr	r0, [r7, #12]
 2858 113e B968     		ldr	r1, [r7, #8]
 2859 1140 FFF7FEFF 		bl	OS_PendDbgNameRemove
 2860              	.L168:
1843:Libraries/uC-OSIII/os_core.c ****                                       p_tcb);
1844:Libraries/uC-OSIII/os_core.c **** #endif
1845:Libraries/uC-OSIII/os_core.c ****              }
1846:Libraries/uC-OSIII/os_core.c ****              p_tcb->TaskState  = OS_TASK_STATE_SUSPENDED;
 2861              		.loc 1 1846 0
 2862 1144 BB68     		ldr	r3, [r7, #8]
 2863 1146 4FF00402 		mov	r2, #4
 2864 114a 83F8C220 		strb	r2, [r3, #194]
1847:Libraries/uC-OSIII/os_core.c ****              p_tcb->PendStatus = OS_STATUS_PEND_OK;              /* Clear pend status              
 2865              		.loc 1 1847 0
 2866 114e BB68     		ldr	r3, [r7, #8]
 2867 1150 4FF00002 		mov	r2, #0
 2868 1154 83F8C120 		strb	r2, [r3, #193]
1848:Libraries/uC-OSIII/os_core.c ****              p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;        /* Indicate no longer pending     
 2869              		.loc 1 1848 0
 2870 1158 BB68     		ldr	r3, [r7, #8]
 2871 115a 4FF00002 		mov	r2, #0
 2872 115e 83F8C020 		strb	r2, [r3, #192]
1849:Libraries/uC-OSIII/os_core.c ****              break;
 2873              		.loc 1 1849 0
 2874 1162 03E0     		b	.L157
 2875              	.L169:
1850:Libraries/uC-OSIII/os_core.c **** 
1851:Libraries/uC-OSIII/os_core.c ****         default:
1852:Libraries/uC-OSIII/os_core.c ****              break;
 2876              		.loc 1 1852 0
 2877 1164 00BF     		nop
 2878              	.L170:
 2879 1166 00BF     		nop
 2880 1168 00E0     		b	.L157
 2881              	.L171:
1793:Libraries/uC-OSIII/os_core.c ****              break;
 2882              		.loc 1 1793 0
 2883 116a 00BF     		nop
 2884              	.L157:
1853:Libraries/uC-OSIII/os_core.c ****     }
1854:Libraries/uC-OSIII/os_core.c **** }
 2885              		.loc 1 1854 0
 2886 116c 07F11007 		add	r7, r7, #16
 2887 1170 BD46     		mov	sp, r7
 2888 1172 80BD     		pop	{r7, pc}
 2889              		.cfi_endproc
 2890              	.LFE26:
 2892              		.align	2
 2893              		.global	OS_Post1
 2894              		.thumb
 2895              		.thumb_func
 2897              	OS_Post1:
 2898              	.LFB27:
1855:Libraries/uC-OSIII/os_core.c **** 
1856:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
1857:Libraries/uC-OSIII/os_core.c **** /*
1858:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1859:Libraries/uC-OSIII/os_core.c **** *                                           POST TO A TASK PENDING ON MULTIPLE OBJECTS
1860:Libraries/uC-OSIII/os_core.c **** *
1861:Libraries/uC-OSIII/os_core.c **** * Description: This function is called when a task is pending on multiple objects and the object ha
1862:Libraries/uC-OSIII/os_core.c **** *              This function needs to indicate to the caller which object was posted to by placing 
1863:Libraries/uC-OSIII/os_core.c **** *              object in the OS_PEND_DATA table corresponding to the posted object.
1864:Libraries/uC-OSIII/os_core.c **** *
1865:Libraries/uC-OSIII/os_core.c **** *              For example, if the task pends on six (6) objects, the address of those 6 objects ar
1866:Libraries/uC-OSIII/os_core.c **** *              .PendObjPtr field of the OS_PEND_DATA table as shown below.  Note that the .PendData
1867:Libraries/uC-OSIII/os_core.c **** *              set to six (6) in this case.  As shown, when the pend call returns because a task or
1868:Libraries/uC-OSIII/os_core.c **** *              'Obj C' then, only the one entry contains the filled in data and the other entries c
1869:Libraries/uC-OSIII/os_core.c **** *              and zero data.
1870:Libraries/uC-OSIII/os_core.c **** *
1871:Libraries/uC-OSIII/os_core.c **** *              You should note that the NULL pointers are zero data values are actually filled in b
1872:Libraries/uC-OSIII/os_core.c **** *
1873:Libraries/uC-OSIII/os_core.c **** *
1874:Libraries/uC-OSIII/os_core.c **** *                                           .PendObjPtr    .RdyObjPtr     .RdyMsgPtr     .RdyMsgSiz
1875:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
1876:Libraries/uC-OSIII/os_core.c **** *              p_tcb->PendDataTblPtr  ->  |  Obj A       |  0           | 0            | 0         
1877:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
1878:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj B       |  0           | 0            | 0         
1879:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
1880:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj C       |  Obj C       | Msg Ptr      | Msg Size  
1881:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
1882:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj D       |  0           | 0            | 0         
1883:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
1884:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj E       |  0           | 0            | 0         
1885:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
1886:Libraries/uC-OSIII/os_core.c **** *                                         |  Obj F       |  0           | 0            | 0         
1887:Libraries/uC-OSIII/os_core.c **** *                                         +--------------+--------------+--------------+-----------
1888:Libraries/uC-OSIII/os_core.c **** *
1889:Libraries/uC-OSIII/os_core.c **** *
1890:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_obj        is a pointer to the object being posted to
1891:Libraries/uC-OSIII/os_core.c **** *              -----
1892:Libraries/uC-OSIII/os_core.c **** *
1893:Libraries/uC-OSIII/os_core.c **** *              p_tcb        is the OS_TCB of the task receiving the signal or the message
1894:Libraries/uC-OSIII/os_core.c **** *              -----
1895:Libraries/uC-OSIII/os_core.c **** *
1896:Libraries/uC-OSIII/os_core.c **** *              p_void       is the actual message (assuming posting to a message queue).  A NULL po
1897:Libraries/uC-OSIII/os_core.c **** *
1898:Libraries/uC-OSIII/os_core.c **** *              msg_size     is the size of the message sent (if posted to a message queue)
1899:Libraries/uC-OSIII/os_core.c **** *
1900:Libraries/uC-OSIII/os_core.c **** *              ts           is the time stamp of when the post occurred
1901:Libraries/uC-OSIII/os_core.c **** *
1902:Libraries/uC-OSIII/os_core.c **** * Returns    : none
1903:Libraries/uC-OSIII/os_core.c **** *
1904:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
1905:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1906:Libraries/uC-OSIII/os_core.c **** */
1907:Libraries/uC-OSIII/os_core.c **** 
1908:Libraries/uC-OSIII/os_core.c **** void  OS_Post1 (OS_PEND_OBJ  *p_obj,
1909:Libraries/uC-OSIII/os_core.c ****                 OS_TCB       *p_tcb,
1910:Libraries/uC-OSIII/os_core.c ****                 void         *p_void,
1911:Libraries/uC-OSIII/os_core.c ****                 OS_MSG_SIZE   msg_size,
1912:Libraries/uC-OSIII/os_core.c ****                 CPU_TS        ts)
1913:Libraries/uC-OSIII/os_core.c **** {
 2899              		.loc 1 1913 0
 2900              		.cfi_startproc
 2901              		@ args = 4, pretend = 0, frame = 24
 2902              		@ frame_needed = 1, uses_anonymous_args = 0
 2903              		@ link register save eliminated.
 2904 1174 80B4     		push	{r7}
 2905              	.LCFI80:
 2906              		.cfi_def_cfa_offset 4
 2907              		.cfi_offset 7, -4
 2908 1176 87B0     		sub	sp, sp, #28
 2909              	.LCFI81:
 2910              		.cfi_def_cfa_offset 32
 2911 1178 00AF     		add	r7, sp, #0
 2912              	.LCFI82:
 2913              		.cfi_def_cfa_register 7
 2914 117a F860     		str	r0, [r7, #12]
 2915 117c B960     		str	r1, [r7, #8]
 2916 117e 7A60     		str	r2, [r7, #4]
 2917 1180 7B80     		strh	r3, [r7, #2]	@ movhi
1914:Libraries/uC-OSIII/os_core.c ****     OS_OBJ_QTY      n_pend_list;                                    /* Number of pend lists        
1915:Libraries/uC-OSIII/os_core.c ****     OS_PEND_DATA   *p_pend_data;
1916:Libraries/uC-OSIII/os_core.c **** 
1917:Libraries/uC-OSIII/os_core.c **** 
1918:Libraries/uC-OSIII/os_core.c **** 
1919:Libraries/uC-OSIII/os_core.c ****     p_pend_data = p_tcb->PendDataTblPtr;                            /* Point to the first OS_PEND_D
 2918              		.loc 1 1919 0
 2919 1182 BB68     		ldr	r3, [r7, #8]
 2920 1184 1B6B     		ldr	r3, [r3, #48]
 2921 1186 3B61     		str	r3, [r7, #16]
1920:Libraries/uC-OSIII/os_core.c ****     n_pend_list = p_tcb->PendDataTblEntries;                        /* Get number of entries in the
 2922              		.loc 1 1920 0
 2923 1188 BB68     		ldr	r3, [r7, #8]
 2924 118a 9B8E     		ldrh	r3, [r3, #52]	@ movhi
 2925 118c FB82     		strh	r3, [r7, #22]	@ movhi
1921:Libraries/uC-OSIII/os_core.c **** 
1922:Libraries/uC-OSIII/os_core.c ****     while (n_pend_list > (OS_OBJ_QTY)0) {                           /* Mark posted object in OS_PEN
 2926              		.loc 1 1922 0
 2927 118e 19E0     		b	.L173
 2928              	.L176:
1923:Libraries/uC-OSIII/os_core.c ****         if (p_obj == p_pend_data->PendObjPtr) {                     /* Did we find the object poste
 2929              		.loc 1 1923 0
 2930 1190 3B69     		ldr	r3, [r7, #16]
 2931 1192 DA68     		ldr	r2, [r3, #12]
 2932 1194 FB68     		ldr	r3, [r7, #12]
 2933 1196 9A42     		cmp	r2, r3
 2934 1198 0CD1     		bne	.L174
1924:Libraries/uC-OSIII/os_core.c ****             p_pend_data->RdyObjPtr  = p_obj;                        /* Yes, indicate the object in 
 2935              		.loc 1 1924 0
 2936 119a 3B69     		ldr	r3, [r7, #16]
 2937 119c FA68     		ldr	r2, [r7, #12]
 2938 119e 1A61     		str	r2, [r3, #16]
1925:Libraries/uC-OSIII/os_core.c ****             p_pend_data->RdyMsgPtr  = p_void;                       /*      store the message poste
 2939              		.loc 1 1925 0
 2940 11a0 3B69     		ldr	r3, [r7, #16]
 2941 11a2 7A68     		ldr	r2, [r7, #4]
 2942 11a4 5A61     		str	r2, [r3, #20]
1926:Libraries/uC-OSIII/os_core.c ****             p_pend_data->RdyMsgSize = msg_size;                     /*      store the size of the m
 2943              		.loc 1 1926 0
 2944 11a6 3B69     		ldr	r3, [r7, #16]
 2945 11a8 7A88     		ldrh	r2, [r7, #2]	@ movhi
 2946 11aa 1A83     		strh	r2, [r3, #24]	@ movhi
1927:Libraries/uC-OSIII/os_core.c ****             p_pend_data->RdyTS      = ts;                           /*      save the timestamp of t
 2947              		.loc 1 1927 0
 2948 11ac 3B69     		ldr	r3, [r7, #16]
 2949 11ae 3A6A     		ldr	r2, [r7, #32]
 2950 11b0 DA61     		str	r2, [r3, #28]
1928:Libraries/uC-OSIII/os_core.c ****             break;
 2951              		.loc 1 1928 0
 2952 11b2 0AE0     		b	.L172
 2953              	.L174:
1929:Libraries/uC-OSIII/os_core.c ****         }
1930:Libraries/uC-OSIII/os_core.c ****         p_pend_data++;
 2954              		.loc 1 1930 0
 2955 11b4 3B69     		ldr	r3, [r7, #16]
 2956 11b6 03F12003 		add	r3, r3, #32
 2957 11ba 3B61     		str	r3, [r7, #16]
1931:Libraries/uC-OSIII/os_core.c ****         n_pend_list--;
 2958              		.loc 1 1931 0
 2959 11bc FB8A     		ldrh	r3, [r7, #22]	@ movhi
 2960 11be 03F1FF33 		add	r3, r3, #-1
 2961 11c2 FB82     		strh	r3, [r7, #22]	@ movhi
 2962              	.L173:
1922:Libraries/uC-OSIII/os_core.c ****     while (n_pend_list > (OS_OBJ_QTY)0) {                           /* Mark posted object in OS_PEN
 2963              		.loc 1 1922 0 discriminator 1
 2964 11c4 FB8A     		ldrh	r3, [r7, #22]
 2965 11c6 002B     		cmp	r3, #0
 2966 11c8 E2D1     		bne	.L176
 2967              	.L172:
1932:Libraries/uC-OSIII/os_core.c ****     }
1933:Libraries/uC-OSIII/os_core.c **** }
 2968              		.loc 1 1933 0
 2969 11ca 07F11C07 		add	r7, r7, #28
 2970 11ce BD46     		mov	sp, r7
 2971 11d0 80BC     		pop	{r7}
 2972 11d2 7047     		bx	lr
 2973              		.cfi_endproc
 2974              	.LFE27:
 2976              		.align	2
 2977              		.global	OS_RdyListInit
 2978              		.thumb
 2979              		.thumb_func
 2981              	OS_RdyListInit:
 2982              	.LFB28:
1934:Libraries/uC-OSIII/os_core.c **** 
1935:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
1936:Libraries/uC-OSIII/os_core.c **** /*
1937:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1938:Libraries/uC-OSIII/os_core.c **** *                                                    INITIALIZATION
1939:Libraries/uC-OSIII/os_core.c **** *                                               READY LIST INITIALIZATION
1940:Libraries/uC-OSIII/os_core.c **** *
1941:Libraries/uC-OSIII/os_core.c **** * Description: This function is called by OSInit() to initialize the ready list.  The ready list co
1942:Libraries/uC-OSIII/os_core.c **** *              the tasks that are ready to run.  The list is actually an array of OS_RDY_LIST.  An 
1943:Libraries/uC-OSIII/os_core.c **** *              three fields.  The number of OS_TCBs in the list (i.e. .NbrEntries), a pointer to th
1944:Libraries/uC-OSIII/os_core.c **** *              OS_RDY_LIST (i.e. .HeadPtr) and a pointer to the last OS_TCB in the OS_RDY_LIST (i.e
1945:Libraries/uC-OSIII/os_core.c **** *
1946:Libraries/uC-OSIII/os_core.c **** *              OS_TCBs are doubly linked in the OS_RDY_LIST and each OS_TCB points pack to the OS_R
1947:Libraries/uC-OSIII/os_core.c **** *              to.
1948:Libraries/uC-OSIII/os_core.c **** *
1949:Libraries/uC-OSIII/os_core.c **** *              'OS_RDY_LIST  OSRdyTbl[OS_CFG_PRIO_MAX]'  looks like this once initialized:
1950:Libraries/uC-OSIII/os_core.c **** *
1951:Libraries/uC-OSIII/os_core.c **** *                               +---------------+--------------+
1952:Libraries/uC-OSIII/os_core.c **** *                               |               | TailPtr      |-----> 0
1953:Libraries/uC-OSIII/os_core.c **** *                          [0]  | NbrEntries=0  +--------------+
1954:Libraries/uC-OSIII/os_core.c **** *                               |               | HeadPtr      |-----> 0
1955:Libraries/uC-OSIII/os_core.c **** *                               +---------------+--------------+
1956:Libraries/uC-OSIII/os_core.c **** *                               |               | TailPtr      |-----> 0
1957:Libraries/uC-OSIII/os_core.c **** *                          [1]  | NbrEntries=0  +--------------+
1958:Libraries/uC-OSIII/os_core.c **** *                               |               | HeadPtr      |-----> 0
1959:Libraries/uC-OSIII/os_core.c **** *                               +---------------+--------------+
1960:Libraries/uC-OSIII/os_core.c **** *                                       :              :
1961:Libraries/uC-OSIII/os_core.c **** *                                       :              :
1962:Libraries/uC-OSIII/os_core.c **** *                                       :              :
1963:Libraries/uC-OSIII/os_core.c **** *                               +---------------+--------------+
1964:Libraries/uC-OSIII/os_core.c **** *                               |               | TailPtr      |-----> 0
1965:Libraries/uC-OSIII/os_core.c **** *          [OS_CFG_PRIO_MAX-1]  | NbrEntries=0  +--------------+
1966:Libraries/uC-OSIII/os_core.c **** *                               |               | HeadPtr      |-----> 0
1967:Libraries/uC-OSIII/os_core.c **** *                               +---------------+--------------+
1968:Libraries/uC-OSIII/os_core.c **** *
1969:Libraries/uC-OSIII/os_core.c **** *
1970:Libraries/uC-OSIII/os_core.c **** * Arguments  : none
1971:Libraries/uC-OSIII/os_core.c **** *
1972:Libraries/uC-OSIII/os_core.c **** * Returns    : none
1973:Libraries/uC-OSIII/os_core.c **** *
1974:Libraries/uC-OSIII/os_core.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
1975:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1976:Libraries/uC-OSIII/os_core.c **** */
1977:Libraries/uC-OSIII/os_core.c **** 
1978:Libraries/uC-OSIII/os_core.c **** void  OS_RdyListInit (void)
1979:Libraries/uC-OSIII/os_core.c **** {
 2983              		.loc 1 1979 0
 2984              		.cfi_startproc
 2985              		@ args = 0, pretend = 0, frame = 8
 2986              		@ frame_needed = 1, uses_anonymous_args = 0
 2987              		@ link register save eliminated.
 2988 11d4 80B4     		push	{r7}
 2989              	.LCFI83:
 2990              		.cfi_def_cfa_offset 4
 2991              		.cfi_offset 7, -4
 2992 11d6 83B0     		sub	sp, sp, #12
 2993              	.LCFI84:
 2994              		.cfi_def_cfa_offset 16
 2995 11d8 00AF     		add	r7, sp, #0
 2996              	.LCFI85:
 2997              		.cfi_def_cfa_register 7
1980:Libraries/uC-OSIII/os_core.c ****     OS_PRIO       i;
1981:Libraries/uC-OSIII/os_core.c ****     OS_RDY_LIST  *p_rdy_list;
1982:Libraries/uC-OSIII/os_core.c **** 
1983:Libraries/uC-OSIII/os_core.c **** 
1984:Libraries/uC-OSIII/os_core.c **** 
1985:Libraries/uC-OSIII/os_core.c ****     for (i = 0u; i < OS_CFG_PRIO_MAX; i++) {                /* Initialize the array of OS_RDY_LIST 
 2998              		.loc 1 1985 0
 2999 11da 4FF00003 		mov	r3, #0
 3000 11de FB71     		strb	r3, [r7, #7]
 3001 11e0 1DE0     		b	.L178
 3002              	.L179:
1986:Libraries/uC-OSIII/os_core.c ****         p_rdy_list = &OSRdyList[i];
 3003              		.loc 1 1986 0 discriminator 2
 3004 11e2 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 3005 11e4 1346     		mov	r3, r2
 3006 11e6 4FEA4303 		lsl	r3, r3, #1
 3007 11ea 9B18     		adds	r3, r3, r2
 3008 11ec 4FEA8303 		lsl	r3, r3, #2
 3009 11f0 1A46     		mov	r2, r3
 3010 11f2 40F20003 		movw	r3, #:lower16:OSRdyList
 3011 11f6 C0F20003 		movt	r3, #:upper16:OSRdyList
 3012 11fa D318     		adds	r3, r2, r3
 3013 11fc 3B60     		str	r3, [r7, #0]
1987:Libraries/uC-OSIII/os_core.c ****         p_rdy_list->NbrEntries = (OS_OBJ_QTY)0;
 3014              		.loc 1 1987 0 discriminator 2
 3015 11fe 3B68     		ldr	r3, [r7, #0]
 3016 1200 4FF00002 		mov	r2, #0
 3017 1204 1A81     		strh	r2, [r3, #8]	@ movhi
1988:Libraries/uC-OSIII/os_core.c ****         p_rdy_list->HeadPtr    = (OS_TCB   *)0;
 3018              		.loc 1 1988 0 discriminator 2
 3019 1206 3B68     		ldr	r3, [r7, #0]
 3020 1208 4FF00002 		mov	r2, #0
 3021 120c 1A60     		str	r2, [r3, #0]
1989:Libraries/uC-OSIII/os_core.c ****         p_rdy_list->TailPtr    = (OS_TCB   *)0;
 3022              		.loc 1 1989 0 discriminator 2
 3023 120e 3B68     		ldr	r3, [r7, #0]
 3024 1210 4FF00002 		mov	r2, #0
 3025 1214 5A60     		str	r2, [r3, #4]
1985:Libraries/uC-OSIII/os_core.c ****     for (i = 0u; i < OS_CFG_PRIO_MAX; i++) {                /* Initialize the array of OS_RDY_LIST 
 3026              		.loc 1 1985 0 discriminator 2
 3027 1216 FB79     		ldrb	r3, [r7, #7]
 3028 1218 03F10103 		add	r3, r3, #1
 3029 121c FB71     		strb	r3, [r7, #7]
 3030              	.L178:
1985:Libraries/uC-OSIII/os_core.c ****     for (i = 0u; i < OS_CFG_PRIO_MAX; i++) {                /* Initialize the array of OS_RDY_LIST 
 3031              		.loc 1 1985 0 is_stmt 0 discriminator 1
 3032 121e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3033 1220 3F2B     		cmp	r3, #63
 3034 1222 DED9     		bls	.L179
1990:Libraries/uC-OSIII/os_core.c ****     }
1991:Libraries/uC-OSIII/os_core.c **** }
 3035              		.loc 1 1991 0 is_stmt 1
 3036 1224 07F10C07 		add	r7, r7, #12
 3037 1228 BD46     		mov	sp, r7
 3038 122a 80BC     		pop	{r7}
 3039 122c 7047     		bx	lr
 3040              		.cfi_endproc
 3041              	.LFE28:
 3043 122e 00BF     		.align	2
 3044              		.global	OS_RdyListInsert
 3045              		.thumb
 3046              		.thumb_func
 3048              	OS_RdyListInsert:
 3049              	.LFB29:
1992:Libraries/uC-OSIII/os_core.c **** 
1993:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
1994:Libraries/uC-OSIII/os_core.c **** /*
1995:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
1996:Libraries/uC-OSIII/os_core.c **** *                                             INSERT TCB IN THE READY LIST
1997:Libraries/uC-OSIII/os_core.c **** *
1998:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to insert a TCB in the ready list.
1999:Libraries/uC-OSIII/os_core.c **** *
2000:Libraries/uC-OSIII/os_core.c **** *              The TCB is inserted at the tail of the list if the priority of the TCB is the same a
2001:Libraries/uC-OSIII/os_core.c **** *              current task.  The TCB is inserted at the head of the list if not.
2002:Libraries/uC-OSIII/os_core.c **** *
2003:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_tcb     is a pointer to the TCB to insert into the ready list
2004:Libraries/uC-OSIII/os_core.c **** *              -----
2005:Libraries/uC-OSIII/os_core.c **** *
2006:Libraries/uC-OSIII/os_core.c **** * Returns    : none
2007:Libraries/uC-OSIII/os_core.c **** *
2008:Libraries/uC-OSIII/os_core.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
2009:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2010:Libraries/uC-OSIII/os_core.c **** */
2011:Libraries/uC-OSIII/os_core.c **** 
2012:Libraries/uC-OSIII/os_core.c **** void  OS_RdyListInsert (OS_TCB *p_tcb)
2013:Libraries/uC-OSIII/os_core.c **** {
 3050              		.loc 1 2013 0
 3051              		.cfi_startproc
 3052              		@ args = 0, pretend = 0, frame = 8
 3053              		@ frame_needed = 1, uses_anonymous_args = 0
 3054 1230 80B5     		push	{r7, lr}
 3055              	.LCFI86:
 3056              		.cfi_def_cfa_offset 8
 3057              		.cfi_offset 14, -4
 3058              		.cfi_offset 7, -8
 3059 1232 82B0     		sub	sp, sp, #8
 3060              	.LCFI87:
 3061              		.cfi_def_cfa_offset 16
 3062 1234 00AF     		add	r7, sp, #0
 3063              	.LCFI88:
 3064              		.cfi_def_cfa_register 7
 3065 1236 7860     		str	r0, [r7, #4]
2014:Libraries/uC-OSIII/os_core.c ****     OS_PrioInsert(p_tcb->Prio);
 3066              		.loc 1 2014 0
 3067 1238 7B68     		ldr	r3, [r7, #4]
 3068 123a 93F8C330 		ldrb	r3, [r3, #195]	@ zero_extendqisi2
 3069 123e 1846     		mov	r0, r3
 3070 1240 FFF7FEFF 		bl	OS_PrioInsert
2015:Libraries/uC-OSIII/os_core.c ****     if (p_tcb->Prio == OSPrioCur) {                         /* Are we readying a task at the same p
 3071              		.loc 1 2015 0
 3072 1244 7B68     		ldr	r3, [r7, #4]
 3073 1246 93F8C320 		ldrb	r2, [r3, #195]	@ zero_extendqisi2
 3074 124a 40F20003 		movw	r3, #:lower16:OSPrioCur
 3075 124e C0F20003 		movt	r3, #:upper16:OSPrioCur
 3076 1252 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3077 1254 9A42     		cmp	r2, r3
 3078 1256 03D1     		bne	.L181
2016:Libraries/uC-OSIII/os_core.c ****         OS_RdyListInsertTail(p_tcb);                        /* Yes, insert readied task at the end 
 3079              		.loc 1 2016 0
 3080 1258 7868     		ldr	r0, [r7, #4]
 3081 125a FFF7FEFF 		bl	OS_RdyListInsertTail
 3082 125e 02E0     		b	.L180
 3083              	.L181:
2017:Libraries/uC-OSIII/os_core.c ****     } else {
2018:Libraries/uC-OSIII/os_core.c ****         OS_RdyListInsertHead(p_tcb);                        /* No,  insert readied task at the begi
 3084              		.loc 1 2018 0
 3085 1260 7868     		ldr	r0, [r7, #4]
 3086 1262 FFF7FEFF 		bl	OS_RdyListInsertHead
 3087              	.L180:
2019:Libraries/uC-OSIII/os_core.c ****     }
2020:Libraries/uC-OSIII/os_core.c **** }
 3088              		.loc 1 2020 0
 3089 1266 07F10807 		add	r7, r7, #8
 3090 126a BD46     		mov	sp, r7
 3091 126c 80BD     		pop	{r7, pc}
 3092              		.cfi_endproc
 3093              	.LFE29:
 3095 126e 00BF     		.align	2
 3096              		.global	OS_RdyListInsertHead
 3097              		.thumb
 3098              		.thumb_func
 3100              	OS_RdyListInsertHead:
 3101              	.LFB30:
2021:Libraries/uC-OSIII/os_core.c **** 
2022:Libraries/uC-OSIII/os_core.c **** 
2023:Libraries/uC-OSIII/os_core.c **** /*
2024:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2025:Libraries/uC-OSIII/os_core.c **** *                                          INSERT TCB AT THE BEGINNING OF A LIST
2026:Libraries/uC-OSIII/os_core.c **** *
2027:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to place an OS_TCB at the beginning of a linked list as foll
2028:Libraries/uC-OSIII/os_core.c **** *
2029:Libraries/uC-OSIII/os_core.c **** *              CASE 0: Insert in an empty list.
2030:Libraries/uC-OSIII/os_core.c **** *
2031:Libraries/uC-OSIII/os_core.c **** *                     OS_RDY_LIST
2032:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
2033:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |-> 0
2034:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
2035:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |-> 0
2036:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
2037:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=0 |
2038:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
2039:Libraries/uC-OSIII/os_core.c **** *
2040:Libraries/uC-OSIII/os_core.c **** *
2041:Libraries/uC-OSIII/os_core.c **** *
2042:Libraries/uC-OSIII/os_core.c **** *              CASE 1: Insert BEFORE the current head of list
2043:Libraries/uC-OSIII/os_core.c **** *
2044:Libraries/uC-OSIII/os_core.c **** *                     OS_RDY_LIST
2045:Libraries/uC-OSIII/os_core.c **** *                     +--------------+          OS_TCB
2046:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |--+---> +------------+
2047:Libraries/uC-OSIII/os_core.c **** *                     +--------------+  |     | NextPtr    |->0
2048:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |--/     +------------+
2049:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    |
2050:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=1 |        +------------+
2051:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        :            :
2052:Libraries/uC-OSIII/os_core.c **** *                                             :            :
2053:Libraries/uC-OSIII/os_core.c **** *                                             +------------+
2054:Libraries/uC-OSIII/os_core.c **** *
2055:Libraries/uC-OSIII/os_core.c **** *
2056:Libraries/uC-OSIII/os_core.c **** *                     OS_RDY_LIST
2057:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
2058:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |-----------------------------------------------+
2059:Libraries/uC-OSIII/os_core.c **** *                     +--------------+          OS_TCB               OS_TCB          |     OS_TCB
2060:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |------> +------------+       +------------+    +-> +---------
2061:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        | NextPtr    |------>| NextPtr    | ...... | NextPtr 
2062:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=N |        +------------+       +------------+        +---------
2063:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    |<------| PrevPtr    | ...... | PrevPtr 
2064:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
2065:Libraries/uC-OSIII/os_core.c **** *                                             :            :       :            :        :         
2066:Libraries/uC-OSIII/os_core.c **** *                                             :            :       :            :        :         
2067:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
2068:Libraries/uC-OSIII/os_core.c **** *
2069:Libraries/uC-OSIII/os_core.c **** *
2070:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_tcb     is the OS_TCB to insert in the list
2071:Libraries/uC-OSIII/os_core.c **** *              -----
2072:Libraries/uC-OSIII/os_core.c **** *
2073:Libraries/uC-OSIII/os_core.c **** * Returns    : none
2074:Libraries/uC-OSIII/os_core.c **** *
2075:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
2076:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2077:Libraries/uC-OSIII/os_core.c **** */
2078:Libraries/uC-OSIII/os_core.c **** 
2079:Libraries/uC-OSIII/os_core.c **** void  OS_RdyListInsertHead (OS_TCB  *p_tcb)
2080:Libraries/uC-OSIII/os_core.c **** {
 3102              		.loc 1 2080 0
 3103              		.cfi_startproc
 3104              		@ args = 0, pretend = 0, frame = 16
 3105              		@ frame_needed = 1, uses_anonymous_args = 0
 3106              		@ link register save eliminated.
 3107 1270 80B4     		push	{r7}
 3108              	.LCFI89:
 3109              		.cfi_def_cfa_offset 4
 3110              		.cfi_offset 7, -4
 3111 1272 85B0     		sub	sp, sp, #20
 3112              	.LCFI90:
 3113              		.cfi_def_cfa_offset 24
 3114 1274 00AF     		add	r7, sp, #0
 3115              	.LCFI91:
 3116              		.cfi_def_cfa_register 7
 3117 1276 7860     		str	r0, [r7, #4]
2081:Libraries/uC-OSIII/os_core.c ****     OS_RDY_LIST  *p_rdy_list;
2082:Libraries/uC-OSIII/os_core.c ****     OS_TCB       *p_tcb2;
2083:Libraries/uC-OSIII/os_core.c **** 
2084:Libraries/uC-OSIII/os_core.c **** 
2085:Libraries/uC-OSIII/os_core.c **** 
2086:Libraries/uC-OSIII/os_core.c ****     p_rdy_list = &OSRdyList[p_tcb->Prio];
 3118              		.loc 1 2086 0
 3119 1278 7B68     		ldr	r3, [r7, #4]
 3120 127a 93F8C330 		ldrb	r3, [r3, #195]	@ zero_extendqisi2
 3121 127e 1A46     		mov	r2, r3
 3122 1280 1346     		mov	r3, r2
 3123 1282 4FEA4303 		lsl	r3, r3, #1
 3124 1286 9B18     		adds	r3, r3, r2
 3125 1288 4FEA8303 		lsl	r3, r3, #2
 3126 128c 1A46     		mov	r2, r3
 3127 128e 40F20003 		movw	r3, #:lower16:OSRdyList
 3128 1292 C0F20003 		movt	r3, #:upper16:OSRdyList
 3129 1296 D318     		adds	r3, r2, r3
 3130 1298 FB60     		str	r3, [r7, #12]
2087:Libraries/uC-OSIII/os_core.c ****     if (p_rdy_list->NbrEntries == (OS_OBJ_QTY)0) {          /* CASE 0: Insert when there are no ent
 3131              		.loc 1 2087 0
 3132 129a FB68     		ldr	r3, [r7, #12]
 3133 129c 1B89     		ldrh	r3, [r3, #8]
 3134 129e 002B     		cmp	r3, #0
 3135 12a0 12D1     		bne	.L184
2088:Libraries/uC-OSIII/os_core.c ****         p_rdy_list->NbrEntries =  (OS_OBJ_QTY)1;            /*         This is the first entry     
 3136              		.loc 1 2088 0
 3137 12a2 FB68     		ldr	r3, [r7, #12]
 3138 12a4 4FF00102 		mov	r2, #1
 3139 12a8 1A81     		strh	r2, [r3, #8]	@ movhi
2089:Libraries/uC-OSIII/os_core.c ****         p_tcb->NextPtr         =  (OS_TCB   *)0;            /*         No other OS_TCBs in the list
 3140              		.loc 1 2089 0
 3141 12aa 7B68     		ldr	r3, [r7, #4]
 3142 12ac 4FF00002 		mov	r2, #0
 3143 12b0 DA60     		str	r2, [r3, #12]
2090:Libraries/uC-OSIII/os_core.c ****         p_tcb->PrevPtr         =  (OS_TCB   *)0;
 3144              		.loc 1 2090 0
 3145 12b2 7B68     		ldr	r3, [r7, #4]
 3146 12b4 4FF00002 		mov	r2, #0
 3147 12b8 1A61     		str	r2, [r3, #16]
2091:Libraries/uC-OSIII/os_core.c ****         p_rdy_list->HeadPtr    =  p_tcb;                    /*         Both list pointers point to 
 3148              		.loc 1 2091 0
 3149 12ba FB68     		ldr	r3, [r7, #12]
 3150 12bc 7A68     		ldr	r2, [r7, #4]
 3151 12be 1A60     		str	r2, [r3, #0]
2092:Libraries/uC-OSIII/os_core.c ****         p_rdy_list->TailPtr    =  p_tcb;
 3152              		.loc 1 2092 0
 3153 12c0 FB68     		ldr	r3, [r7, #12]
 3154 12c2 7A68     		ldr	r2, [r7, #4]
 3155 12c4 5A60     		str	r2, [r3, #4]
 3156 12c6 17E0     		b	.L183
 3157              	.L184:
2093:Libraries/uC-OSIII/os_core.c ****     } else {                                                /* CASE 1: Insert BEFORE the current he
2094:Libraries/uC-OSIII/os_core.c ****         p_rdy_list->NbrEntries++;                           /*         One more OS_TCB in the list 
 3158              		.loc 1 2094 0
 3159 12c8 FB68     		ldr	r3, [r7, #12]
 3160 12ca 1B89     		ldrh	r3, [r3, #8]
 3161 12cc 03F10103 		add	r3, r3, #1
 3162 12d0 9AB2     		uxth	r2, r3
 3163 12d2 FB68     		ldr	r3, [r7, #12]
 3164 12d4 1A81     		strh	r2, [r3, #8]	@ movhi
2095:Libraries/uC-OSIII/os_core.c ****         p_tcb->NextPtr         = p_rdy_list->HeadPtr;       /*         Adjust new OS_TCBs links    
 3165              		.loc 1 2095 0
 3166 12d6 FB68     		ldr	r3, [r7, #12]
 3167 12d8 1A68     		ldr	r2, [r3, #0]
 3168 12da 7B68     		ldr	r3, [r7, #4]
 3169 12dc DA60     		str	r2, [r3, #12]
2096:Libraries/uC-OSIII/os_core.c ****         p_tcb->PrevPtr         = (OS_TCB    *)0;
 3170              		.loc 1 2096 0
 3171 12de 7B68     		ldr	r3, [r7, #4]
 3172 12e0 4FF00002 		mov	r2, #0
 3173 12e4 1A61     		str	r2, [r3, #16]
2097:Libraries/uC-OSIII/os_core.c ****         p_tcb2                 = p_rdy_list->HeadPtr;       /*         Adjust old head of list's li
 3174              		.loc 1 2097 0
 3175 12e6 FB68     		ldr	r3, [r7, #12]
 3176 12e8 1B68     		ldr	r3, [r3, #0]
 3177 12ea BB60     		str	r3, [r7, #8]
2098:Libraries/uC-OSIII/os_core.c ****         p_tcb2->PrevPtr        = p_tcb;
 3178              		.loc 1 2098 0
 3179 12ec BB68     		ldr	r3, [r7, #8]
 3180 12ee 7A68     		ldr	r2, [r7, #4]
 3181 12f0 1A61     		str	r2, [r3, #16]
2099:Libraries/uC-OSIII/os_core.c ****         p_rdy_list->HeadPtr    = p_tcb;
 3182              		.loc 1 2099 0
 3183 12f2 FB68     		ldr	r3, [r7, #12]
 3184 12f4 7A68     		ldr	r2, [r7, #4]
 3185 12f6 1A60     		str	r2, [r3, #0]
 3186              	.L183:
2100:Libraries/uC-OSIII/os_core.c ****     }
2101:Libraries/uC-OSIII/os_core.c **** }
 3187              		.loc 1 2101 0
 3188 12f8 07F11407 		add	r7, r7, #20
 3189 12fc BD46     		mov	sp, r7
 3190 12fe 80BC     		pop	{r7}
 3191 1300 7047     		bx	lr
 3192              		.cfi_endproc
 3193              	.LFE30:
 3195 1302 00BF     		.align	2
 3196              		.global	OS_RdyListInsertTail
 3197              		.thumb
 3198              		.thumb_func
 3200              	OS_RdyListInsertTail:
 3201              	.LFB31:
2102:Libraries/uC-OSIII/os_core.c **** 
2103:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
2104:Libraries/uC-OSIII/os_core.c **** /*
2105:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2106:Libraries/uC-OSIII/os_core.c **** *                                           INSERT TCB AT THE END OF A LIST
2107:Libraries/uC-OSIII/os_core.c **** *
2108:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to place an OS_TCB at the end of a linked list as follows:
2109:Libraries/uC-OSIII/os_core.c **** *
2110:Libraries/uC-OSIII/os_core.c **** *              CASE 0: Insert in an empty list.
2111:Libraries/uC-OSIII/os_core.c **** *
2112:Libraries/uC-OSIII/os_core.c **** *                     OS_RDY_LIST
2113:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
2114:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |-> 0
2115:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
2116:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |-> 0
2117:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
2118:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=0 |
2119:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
2120:Libraries/uC-OSIII/os_core.c **** *
2121:Libraries/uC-OSIII/os_core.c **** *
2122:Libraries/uC-OSIII/os_core.c **** *
2123:Libraries/uC-OSIII/os_core.c **** *              CASE 1: Insert AFTER the current tail of list
2124:Libraries/uC-OSIII/os_core.c **** *
2125:Libraries/uC-OSIII/os_core.c **** *                     OS_RDY_LIST
2126:Libraries/uC-OSIII/os_core.c **** *                     +--------------+          OS_TCB
2127:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |--+---> +------------+
2128:Libraries/uC-OSIII/os_core.c **** *                     +--------------+  |     | NextPtr    |->0
2129:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |--/     +------------+
2130:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    |
2131:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=1 |        +------------+
2132:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        :            :
2133:Libraries/uC-OSIII/os_core.c **** *                                             :            :
2134:Libraries/uC-OSIII/os_core.c **** *                                             +------------+
2135:Libraries/uC-OSIII/os_core.c **** *
2136:Libraries/uC-OSIII/os_core.c **** *
2137:Libraries/uC-OSIII/os_core.c **** *                     OS_RDY_LIST
2138:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
2139:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |-----------------------------------------------+
2140:Libraries/uC-OSIII/os_core.c **** *                     +--------------+          OS_TCB               OS_TCB          |     OS_TCB
2141:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |------> +------------+       +------------+    +-> +---------
2142:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        | NextPtr    |------>| NextPtr    | ...... | NextPtr 
2143:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=N |        +------------+       +------------+        +---------
2144:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    |<------| PrevPtr    | ...... | PrevPtr 
2145:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
2146:Libraries/uC-OSIII/os_core.c **** *                                             :            :       :            :        :         
2147:Libraries/uC-OSIII/os_core.c **** *                                             :            :       :            :        :         
2148:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
2149:Libraries/uC-OSIII/os_core.c **** *
2150:Libraries/uC-OSIII/os_core.c **** *
2151:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_tcb     is the OS_TCB to insert in the list
2152:Libraries/uC-OSIII/os_core.c **** *              -----
2153:Libraries/uC-OSIII/os_core.c **** *
2154:Libraries/uC-OSIII/os_core.c **** * Returns    : none
2155:Libraries/uC-OSIII/os_core.c **** *
2156:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
2157:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2158:Libraries/uC-OSIII/os_core.c **** */
2159:Libraries/uC-OSIII/os_core.c **** 
2160:Libraries/uC-OSIII/os_core.c **** void  OS_RdyListInsertTail (OS_TCB  *p_tcb)
2161:Libraries/uC-OSIII/os_core.c **** {
 3202              		.loc 1 2161 0
 3203              		.cfi_startproc
 3204              		@ args = 0, pretend = 0, frame = 16
 3205              		@ frame_needed = 1, uses_anonymous_args = 0
 3206              		@ link register save eliminated.
 3207 1304 80B4     		push	{r7}
 3208              	.LCFI92:
 3209              		.cfi_def_cfa_offset 4
 3210              		.cfi_offset 7, -4
 3211 1306 85B0     		sub	sp, sp, #20
 3212              	.LCFI93:
 3213              		.cfi_def_cfa_offset 24
 3214 1308 00AF     		add	r7, sp, #0
 3215              	.LCFI94:
 3216              		.cfi_def_cfa_register 7
 3217 130a 7860     		str	r0, [r7, #4]
2162:Libraries/uC-OSIII/os_core.c ****     OS_RDY_LIST  *p_rdy_list;
2163:Libraries/uC-OSIII/os_core.c ****     OS_TCB       *p_tcb2;
2164:Libraries/uC-OSIII/os_core.c **** 
2165:Libraries/uC-OSIII/os_core.c **** 
2166:Libraries/uC-OSIII/os_core.c **** 
2167:Libraries/uC-OSIII/os_core.c ****     p_rdy_list = &OSRdyList[p_tcb->Prio];
 3218              		.loc 1 2167 0
 3219 130c 7B68     		ldr	r3, [r7, #4]
 3220 130e 93F8C330 		ldrb	r3, [r3, #195]	@ zero_extendqisi2
 3221 1312 1A46     		mov	r2, r3
 3222 1314 1346     		mov	r3, r2
 3223 1316 4FEA4303 		lsl	r3, r3, #1
 3224 131a 9B18     		adds	r3, r3, r2
 3225 131c 4FEA8303 		lsl	r3, r3, #2
 3226 1320 1A46     		mov	r2, r3
 3227 1322 40F20003 		movw	r3, #:lower16:OSRdyList
 3228 1326 C0F20003 		movt	r3, #:upper16:OSRdyList
 3229 132a D318     		adds	r3, r2, r3
 3230 132c FB60     		str	r3, [r7, #12]
2168:Libraries/uC-OSIII/os_core.c ****     if (p_rdy_list->NbrEntries == (OS_OBJ_QTY)0) {          /* CASE 0: Insert when there are no ent
 3231              		.loc 1 2168 0
 3232 132e FB68     		ldr	r3, [r7, #12]
 3233 1330 1B89     		ldrh	r3, [r3, #8]
 3234 1332 002B     		cmp	r3, #0
 3235 1334 12D1     		bne	.L187
2169:Libraries/uC-OSIII/os_core.c ****         p_rdy_list->NbrEntries  = (OS_OBJ_QTY)1;            /*         This is the first entry     
 3236              		.loc 1 2169 0
 3237 1336 FB68     		ldr	r3, [r7, #12]
 3238 1338 4FF00102 		mov	r2, #1
 3239 133c 1A81     		strh	r2, [r3, #8]	@ movhi
2170:Libraries/uC-OSIII/os_core.c ****         p_tcb->NextPtr          = (OS_TCB   *)0;            /*         No other OS_TCBs in the list
 3240              		.loc 1 2170 0
 3241 133e 7B68     		ldr	r3, [r7, #4]
 3242 1340 4FF00002 		mov	r2, #0
 3243 1344 DA60     		str	r2, [r3, #12]
2171:Libraries/uC-OSIII/os_core.c ****         p_tcb->PrevPtr          = (OS_TCB   *)0;
 3244              		.loc 1 2171 0
 3245 1346 7B68     		ldr	r3, [r7, #4]
 3246 1348 4FF00002 		mov	r2, #0
 3247 134c 1A61     		str	r2, [r3, #16]
2172:Libraries/uC-OSIII/os_core.c ****         p_rdy_list->HeadPtr     = p_tcb;                    /*         Both list pointers point to 
 3248              		.loc 1 2172 0
 3249 134e FB68     		ldr	r3, [r7, #12]
 3250 1350 7A68     		ldr	r2, [r7, #4]
 3251 1352 1A60     		str	r2, [r3, #0]
2173:Libraries/uC-OSIII/os_core.c ****         p_rdy_list->TailPtr     = p_tcb;
 3252              		.loc 1 2173 0
 3253 1354 FB68     		ldr	r3, [r7, #12]
 3254 1356 7A68     		ldr	r2, [r7, #4]
 3255 1358 5A60     		str	r2, [r3, #4]
 3256 135a 16E0     		b	.L186
 3257              	.L187:
2174:Libraries/uC-OSIII/os_core.c ****     } else {                                                /* CASE 1: Insert AFTER the current tai
2175:Libraries/uC-OSIII/os_core.c ****         p_rdy_list->NbrEntries++;                           /*         One more OS_TCB in the list 
 3258              		.loc 1 2175 0
 3259 135c FB68     		ldr	r3, [r7, #12]
 3260 135e 1B89     		ldrh	r3, [r3, #8]
 3261 1360 03F10103 		add	r3, r3, #1
 3262 1364 9AB2     		uxth	r2, r3
 3263 1366 FB68     		ldr	r3, [r7, #12]
 3264 1368 1A81     		strh	r2, [r3, #8]	@ movhi
2176:Libraries/uC-OSIII/os_core.c ****         p_tcb->NextPtr          = (OS_TCB   *)0;            /*         Adjust new OS_TCBs links    
 3265              		.loc 1 2176 0
 3266 136a 7B68     		ldr	r3, [r7, #4]
 3267 136c 4FF00002 		mov	r2, #0
 3268 1370 DA60     		str	r2, [r3, #12]
2177:Libraries/uC-OSIII/os_core.c ****         p_tcb2                  = p_rdy_list->TailPtr;
 3269              		.loc 1 2177 0
 3270 1372 FB68     		ldr	r3, [r7, #12]
 3271 1374 5B68     		ldr	r3, [r3, #4]
 3272 1376 BB60     		str	r3, [r7, #8]
2178:Libraries/uC-OSIII/os_core.c ****         p_tcb->PrevPtr          = p_tcb2;
 3273              		.loc 1 2178 0
 3274 1378 7B68     		ldr	r3, [r7, #4]
 3275 137a BA68     		ldr	r2, [r7, #8]
 3276 137c 1A61     		str	r2, [r3, #16]
2179:Libraries/uC-OSIII/os_core.c ****         p_tcb2->NextPtr         = p_tcb;                    /*         Adjust old tail of list's li
 3277              		.loc 1 2179 0
 3278 137e BB68     		ldr	r3, [r7, #8]
 3279 1380 7A68     		ldr	r2, [r7, #4]
 3280 1382 DA60     		str	r2, [r3, #12]
2180:Libraries/uC-OSIII/os_core.c ****         p_rdy_list->TailPtr     = p_tcb;
 3281              		.loc 1 2180 0
 3282 1384 FB68     		ldr	r3, [r7, #12]
 3283 1386 7A68     		ldr	r2, [r7, #4]
 3284 1388 5A60     		str	r2, [r3, #4]
 3285              	.L186:
2181:Libraries/uC-OSIII/os_core.c ****     }
2182:Libraries/uC-OSIII/os_core.c **** }
 3286              		.loc 1 2182 0
 3287 138a 07F11407 		add	r7, r7, #20
 3288 138e BD46     		mov	sp, r7
 3289 1390 80BC     		pop	{r7}
 3290 1392 7047     		bx	lr
 3291              		.cfi_endproc
 3292              	.LFE31:
 3294              		.align	2
 3295              		.global	OS_RdyListMoveHeadToTail
 3296              		.thumb
 3297              		.thumb_func
 3299              	OS_RdyListMoveHeadToTail:
 3300              	.LFB32:
2183:Libraries/uC-OSIII/os_core.c **** 
2184:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
2185:Libraries/uC-OSIII/os_core.c **** /*
2186:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2187:Libraries/uC-OSIII/os_core.c **** *                                                MOVE TCB AT HEAD TO TAIL
2188:Libraries/uC-OSIII/os_core.c **** *
2189:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to move the current head of a list to the tail of the list.
2190:Libraries/uC-OSIII/os_core.c **** *
2191:Libraries/uC-OSIII/os_core.c **** *
2192:Libraries/uC-OSIII/os_core.c **** *              CASE 0: TCB list is empty, nothing to do.
2193:Libraries/uC-OSIII/os_core.c **** *
2194:Libraries/uC-OSIII/os_core.c **** *              CASE 1: Only 1 OS_TCB  in the list, nothing to do.
2195:Libraries/uC-OSIII/os_core.c **** *
2196:Libraries/uC-OSIII/os_core.c **** *              CASE 2: Only 2 OS_TCBs in the list.
2197:Libraries/uC-OSIII/os_core.c **** *
2198:Libraries/uC-OSIII/os_core.c **** *                     OS_RDY_LIST
2199:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
2200:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |--------------------------+
2201:Libraries/uC-OSIII/os_core.c **** *                     +--------------+          OS_TCB          |     OS_TCB
2202:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |------> +------------+    +-> +------------+
2203:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        | NextPtr    |------> | NextPtr    |->0
2204:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=2 |        +------------+        +------------+
2205:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    | <------| PrevPtr    |
2206:Libraries/uC-OSIII/os_core.c **** *                                             +------------+        +------------+
2207:Libraries/uC-OSIII/os_core.c **** *                                             :            :        :            :
2208:Libraries/uC-OSIII/os_core.c **** *                                             :            :        :            :
2209:Libraries/uC-OSIII/os_core.c **** *                                             +------------+        +------------+
2210:Libraries/uC-OSIII/os_core.c **** *
2211:Libraries/uC-OSIII/os_core.c **** *
2212:Libraries/uC-OSIII/os_core.c **** *              CASE N: More than 2 OS_TCBs in the list.
2213:Libraries/uC-OSIII/os_core.c **** *
2214:Libraries/uC-OSIII/os_core.c **** *                     OS_RDY_LIST
2215:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
2216:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |-----------------------------------------------+
2217:Libraries/uC-OSIII/os_core.c **** *                     +--------------+          OS_TCB               OS_TCB          |     OS_TCB
2218:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |------> +------------+       +------------+    +-> +---------
2219:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        | NextPtr    |------>| NextPtr    | ...... | NextPtr 
2220:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=N |        +------------+       +------------+        +---------
2221:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    |<------| PrevPtr    | ...... | PrevPtr 
2222:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
2223:Libraries/uC-OSIII/os_core.c **** *                                             :            :       :            :        :         
2224:Libraries/uC-OSIII/os_core.c **** *                                             :            :       :            :        :         
2225:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
2226:Libraries/uC-OSIII/os_core.c **** *
2227:Libraries/uC-OSIII/os_core.c **** *
2228:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_list    is a pointer to the OS_RDY_LIST where the OS_TCB will be inserted
2229:Libraries/uC-OSIII/os_core.c **** *              ------
2230:Libraries/uC-OSIII/os_core.c **** *
2231:Libraries/uC-OSIII/os_core.c **** * Returns    : none
2232:Libraries/uC-OSIII/os_core.c **** *
2233:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
2234:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2235:Libraries/uC-OSIII/os_core.c **** */
2236:Libraries/uC-OSIII/os_core.c **** 
2237:Libraries/uC-OSIII/os_core.c **** void  OS_RdyListMoveHeadToTail (OS_RDY_LIST  *p_rdy_list)
2238:Libraries/uC-OSIII/os_core.c **** {
 3301              		.loc 1 2238 0
 3302              		.cfi_startproc
 3303              		@ args = 0, pretend = 0, frame = 24
 3304              		@ frame_needed = 1, uses_anonymous_args = 0
 3305              		@ link register save eliminated.
 3306 1394 80B4     		push	{r7}
 3307              	.LCFI95:
 3308              		.cfi_def_cfa_offset 4
 3309              		.cfi_offset 7, -4
 3310 1396 87B0     		sub	sp, sp, #28
 3311              	.LCFI96:
 3312              		.cfi_def_cfa_offset 32
 3313 1398 00AF     		add	r7, sp, #0
 3314              	.LCFI97:
 3315              		.cfi_def_cfa_register 7
 3316 139a 7860     		str	r0, [r7, #4]
2239:Libraries/uC-OSIII/os_core.c ****     OS_TCB  *p_tcb1;
2240:Libraries/uC-OSIII/os_core.c ****     OS_TCB  *p_tcb2;
2241:Libraries/uC-OSIII/os_core.c ****     OS_TCB  *p_tcb3;
2242:Libraries/uC-OSIII/os_core.c **** 
2243:Libraries/uC-OSIII/os_core.c **** 
2244:Libraries/uC-OSIII/os_core.c **** 
2245:Libraries/uC-OSIII/os_core.c ****     switch (p_rdy_list->NbrEntries) {
 3317              		.loc 1 2245 0
 3318 139c 7B68     		ldr	r3, [r7, #4]
 3319 139e 1B89     		ldrh	r3, [r3, #8]
 3320 13a0 002B     		cmp	r3, #0
 3321 13a2 1EDB     		blt	.L190
 3322 13a4 012B     		cmp	r3, #1
 3323 13a6 3BDD     		ble	.L194
 3324 13a8 022B     		cmp	r3, #2
 3325 13aa 1AD1     		bne	.L190
 3326              	.L192:
2246:Libraries/uC-OSIII/os_core.c ****         case 0:
2247:Libraries/uC-OSIII/os_core.c ****         case 1:
2248:Libraries/uC-OSIII/os_core.c ****              break;
2249:Libraries/uC-OSIII/os_core.c **** 
2250:Libraries/uC-OSIII/os_core.c ****         case 2:                                             /* SWAP the TCBs                       
2251:Libraries/uC-OSIII/os_core.c ****              p_tcb1              = p_rdy_list->HeadPtr;     /* Point to current head               
 3327              		.loc 1 2251 0
 3328 13ac 7B68     		ldr	r3, [r7, #4]
 3329 13ae 1B68     		ldr	r3, [r3, #0]
 3330 13b0 7B61     		str	r3, [r7, #20]
2252:Libraries/uC-OSIII/os_core.c ****              p_tcb2              = p_rdy_list->TailPtr;     /* Point to current tail               
 3331              		.loc 1 2252 0
 3332 13b2 7B68     		ldr	r3, [r7, #4]
 3333 13b4 5B68     		ldr	r3, [r3, #4]
 3334 13b6 3B61     		str	r3, [r7, #16]
2253:Libraries/uC-OSIII/os_core.c ****              p_tcb1->PrevPtr     = p_tcb2;
 3335              		.loc 1 2253 0
 3336 13b8 7B69     		ldr	r3, [r7, #20]
 3337 13ba 3A69     		ldr	r2, [r7, #16]
 3338 13bc 1A61     		str	r2, [r3, #16]
2254:Libraries/uC-OSIII/os_core.c ****              p_tcb1->NextPtr     = (OS_TCB *)0;
 3339              		.loc 1 2254 0
 3340 13be 7B69     		ldr	r3, [r7, #20]
 3341 13c0 4FF00002 		mov	r2, #0
 3342 13c4 DA60     		str	r2, [r3, #12]
2255:Libraries/uC-OSIII/os_core.c ****              p_tcb2->PrevPtr     = (OS_TCB *)0;
 3343              		.loc 1 2255 0
 3344 13c6 3B69     		ldr	r3, [r7, #16]
 3345 13c8 4FF00002 		mov	r2, #0
 3346 13cc 1A61     		str	r2, [r3, #16]
2256:Libraries/uC-OSIII/os_core.c ****              p_tcb2->NextPtr     = p_tcb1;
 3347              		.loc 1 2256 0
 3348 13ce 3B69     		ldr	r3, [r7, #16]
 3349 13d0 7A69     		ldr	r2, [r7, #20]
 3350 13d2 DA60     		str	r2, [r3, #12]
2257:Libraries/uC-OSIII/os_core.c ****              p_rdy_list->HeadPtr = p_tcb2;
 3351              		.loc 1 2257 0
 3352 13d4 7B68     		ldr	r3, [r7, #4]
 3353 13d6 3A69     		ldr	r2, [r7, #16]
 3354 13d8 1A60     		str	r2, [r3, #0]
2258:Libraries/uC-OSIII/os_core.c ****              p_rdy_list->TailPtr = p_tcb1;
 3355              		.loc 1 2258 0
 3356 13da 7B68     		ldr	r3, [r7, #4]
 3357 13dc 7A69     		ldr	r2, [r7, #20]
 3358 13de 5A60     		str	r2, [r3, #4]
2259:Libraries/uC-OSIII/os_core.c ****              break;
 3359              		.loc 1 2259 0
 3360 13e0 1FE0     		b	.L189
 3361              	.L190:
2260:Libraries/uC-OSIII/os_core.c **** 
2261:Libraries/uC-OSIII/os_core.c ****         default:                                            /* Move only if there are more than 2 O
2262:Libraries/uC-OSIII/os_core.c ****              p_tcb1              = p_rdy_list->HeadPtr;     /* Point to current head               
 3362              		.loc 1 2262 0
 3363 13e2 7B68     		ldr	r3, [r7, #4]
 3364 13e4 1B68     		ldr	r3, [r3, #0]
 3365 13e6 7B61     		str	r3, [r7, #20]
2263:Libraries/uC-OSIII/os_core.c ****              p_tcb2              = p_rdy_list->TailPtr;     /* Point to current tail               
 3366              		.loc 1 2263 0
 3367 13e8 7B68     		ldr	r3, [r7, #4]
 3368 13ea 5B68     		ldr	r3, [r3, #4]
 3369 13ec 3B61     		str	r3, [r7, #16]
2264:Libraries/uC-OSIII/os_core.c ****              p_tcb3              = p_tcb1->NextPtr;         /* Point to new list head              
 3370              		.loc 1 2264 0
 3371 13ee 7B69     		ldr	r3, [r7, #20]
 3372 13f0 DB68     		ldr	r3, [r3, #12]
 3373 13f2 FB60     		str	r3, [r7, #12]
2265:Libraries/uC-OSIII/os_core.c ****              p_tcb3->PrevPtr     = (OS_TCB *)0;             /* Adjust back    link of new list head
 3374              		.loc 1 2265 0
 3375 13f4 FB68     		ldr	r3, [r7, #12]
 3376 13f6 4FF00002 		mov	r2, #0
 3377 13fa 1A61     		str	r2, [r3, #16]
2266:Libraries/uC-OSIII/os_core.c ****              p_tcb1->NextPtr     = (OS_TCB *)0;             /* Adjust forward link of new list tail
 3378              		.loc 1 2266 0
 3379 13fc 7B69     		ldr	r3, [r7, #20]
 3380 13fe 4FF00002 		mov	r2, #0
 3381 1402 DA60     		str	r2, [r3, #12]
2267:Libraries/uC-OSIII/os_core.c ****              p_tcb1->PrevPtr     = p_tcb2;                  /* Adjust back    link of new list tail
 3382              		.loc 1 2267 0
 3383 1404 7B69     		ldr	r3, [r7, #20]
 3384 1406 3A69     		ldr	r2, [r7, #16]
 3385 1408 1A61     		str	r2, [r3, #16]
2268:Libraries/uC-OSIII/os_core.c ****              p_tcb2->NextPtr     = p_tcb1;                  /* Adjust forward link of old list tail
 3386              		.loc 1 2268 0
 3387 140a 3B69     		ldr	r3, [r7, #16]
 3388 140c 7A69     		ldr	r2, [r7, #20]
 3389 140e DA60     		str	r2, [r3, #12]
2269:Libraries/uC-OSIII/os_core.c ****              p_rdy_list->HeadPtr = p_tcb3;                  /* Adjust new list head and tail pointe
 3390              		.loc 1 2269 0
 3391 1410 7B68     		ldr	r3, [r7, #4]
 3392 1412 FA68     		ldr	r2, [r7, #12]
 3393 1414 1A60     		str	r2, [r3, #0]
2270:Libraries/uC-OSIII/os_core.c ****              p_rdy_list->TailPtr = p_tcb1;
 3394              		.loc 1 2270 0
 3395 1416 7B68     		ldr	r3, [r7, #4]
 3396 1418 7A69     		ldr	r2, [r7, #20]
 3397 141a 5A60     		str	r2, [r3, #4]
2271:Libraries/uC-OSIII/os_core.c ****              break;
 3398              		.loc 1 2271 0
 3399 141c 00BF     		nop
 3400 141e 00E0     		b	.L189
 3401              	.L194:
2248:Libraries/uC-OSIII/os_core.c ****              break;
 3402              		.loc 1 2248 0
 3403 1420 00BF     		nop
 3404              	.L189:
2272:Libraries/uC-OSIII/os_core.c ****     }
2273:Libraries/uC-OSIII/os_core.c **** }
 3405              		.loc 1 2273 0
 3406 1422 07F11C07 		add	r7, r7, #28
 3407 1426 BD46     		mov	sp, r7
 3408 1428 80BC     		pop	{r7}
 3409 142a 7047     		bx	lr
 3410              		.cfi_endproc
 3411              	.LFE32:
 3413              		.align	2
 3414              		.global	OS_RdyListRemove
 3415              		.thumb
 3416              		.thumb_func
 3418              	OS_RdyListRemove:
 3419              	.LFB33:
2274:Libraries/uC-OSIII/os_core.c **** 
2275:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
2276:Libraries/uC-OSIII/os_core.c **** /*
2277:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2278:Libraries/uC-OSIII/os_core.c **** *                                REMOVE TCB FROM LIST KNOWING ONLY WHICH OS_TCB TO REMOVE
2279:Libraries/uC-OSIII/os_core.c **** *
2280:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to remove an OS_TCB from an OS_RDY_LIST knowing the address 
2281:Libraries/uC-OSIII/os_core.c **** *              remove.
2282:Libraries/uC-OSIII/os_core.c **** *
2283:Libraries/uC-OSIII/os_core.c **** *
2284:Libraries/uC-OSIII/os_core.c **** *              CASE 0: TCB list is empty, nothing to do.
2285:Libraries/uC-OSIII/os_core.c **** *
2286:Libraries/uC-OSIII/os_core.c **** *              CASE 1: Only 1 OS_TCBs in the list.
2287:Libraries/uC-OSIII/os_core.c **** *
2288:Libraries/uC-OSIII/os_core.c **** *                     OS_RDY_LIST
2289:Libraries/uC-OSIII/os_core.c **** *                     +--------------+          OS_TCB
2290:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |--+---> +------------+
2291:Libraries/uC-OSIII/os_core.c **** *                     +--------------+  |     | NextPtr    |->0
2292:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |--/     +------------+
2293:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    |
2294:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=1 |        +------------+
2295:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        :            :
2296:Libraries/uC-OSIII/os_core.c **** *                                             :            :
2297:Libraries/uC-OSIII/os_core.c **** *                                             +------------+
2298:Libraries/uC-OSIII/os_core.c **** *
2299:Libraries/uC-OSIII/os_core.c **** *              CASE N: Two or more OS_TCBs in the list.
2300:Libraries/uC-OSIII/os_core.c **** *
2301:Libraries/uC-OSIII/os_core.c **** *                     OS_RDY_LIST
2302:Libraries/uC-OSIII/os_core.c **** *                     +--------------+
2303:Libraries/uC-OSIII/os_core.c **** *                     | TailPtr      |-----------------------------------------------+
2304:Libraries/uC-OSIII/os_core.c **** *                     +--------------+          OS_TCB               OS_TCB          |     OS_TCB
2305:Libraries/uC-OSIII/os_core.c **** *                     | HeadPtr      |------> +------------+       +------------+    +-> +---------
2306:Libraries/uC-OSIII/os_core.c **** *                     +--------------+        | NextPtr    |------>| NextPtr    | ...... | NextPtr 
2307:Libraries/uC-OSIII/os_core.c **** *                     | NbrEntries=N |        +------------+       +------------+        +---------
2308:Libraries/uC-OSIII/os_core.c **** *                     +--------------+     0<-| PrevPtr    |<------| PrevPtr    | ...... | PrevPtr 
2309:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
2310:Libraries/uC-OSIII/os_core.c **** *                                             :            :       :            :        :         
2311:Libraries/uC-OSIII/os_core.c **** *                                             :            :       :            :        :         
2312:Libraries/uC-OSIII/os_core.c **** *                                             +------------+       +------------+        +---------
2313:Libraries/uC-OSIII/os_core.c **** *
2314:Libraries/uC-OSIII/os_core.c **** *
2315:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_tcb    is a pointer to the OS_TCB to remove
2316:Libraries/uC-OSIII/os_core.c **** *              -----
2317:Libraries/uC-OSIII/os_core.c **** *
2318:Libraries/uC-OSIII/os_core.c **** * Returns    : A pointer to the OS_RDY_LIST where the OS_TCB was
2319:Libraries/uC-OSIII/os_core.c **** *
2320:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
2321:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2322:Libraries/uC-OSIII/os_core.c **** */
2323:Libraries/uC-OSIII/os_core.c **** 
2324:Libraries/uC-OSIII/os_core.c **** void  OS_RdyListRemove (OS_TCB *p_tcb)
2325:Libraries/uC-OSIII/os_core.c **** {
 3420              		.loc 1 2325 0
 3421              		.cfi_startproc
 3422              		@ args = 0, pretend = 0, frame = 24
 3423              		@ frame_needed = 1, uses_anonymous_args = 0
 3424 142c 80B5     		push	{r7, lr}
 3425              	.LCFI98:
 3426              		.cfi_def_cfa_offset 8
 3427              		.cfi_offset 14, -4
 3428              		.cfi_offset 7, -8
 3429 142e 86B0     		sub	sp, sp, #24
 3430              	.LCFI99:
 3431              		.cfi_def_cfa_offset 32
 3432 1430 00AF     		add	r7, sp, #0
 3433              	.LCFI100:
 3434              		.cfi_def_cfa_register 7
 3435 1432 7860     		str	r0, [r7, #4]
2326:Libraries/uC-OSIII/os_core.c ****     OS_RDY_LIST  *p_rdy_list;
2327:Libraries/uC-OSIII/os_core.c ****     OS_TCB       *p_tcb1;
2328:Libraries/uC-OSIII/os_core.c ****     OS_TCB       *p_tcb2;
2329:Libraries/uC-OSIII/os_core.c **** 
2330:Libraries/uC-OSIII/os_core.c **** 
2331:Libraries/uC-OSIII/os_core.c **** 
2332:Libraries/uC-OSIII/os_core.c ****     p_rdy_list = &OSRdyList[p_tcb->Prio];
 3436              		.loc 1 2332 0
 3437 1434 7B68     		ldr	r3, [r7, #4]
 3438 1436 93F8C330 		ldrb	r3, [r3, #195]	@ zero_extendqisi2
 3439 143a 1A46     		mov	r2, r3
 3440 143c 1346     		mov	r3, r2
 3441 143e 4FEA4303 		lsl	r3, r3, #1
 3442 1442 9B18     		adds	r3, r3, r2
 3443 1444 4FEA8303 		lsl	r3, r3, #2
 3444 1448 1A46     		mov	r2, r3
 3445 144a 40F20003 		movw	r3, #:lower16:OSRdyList
 3446 144e C0F20003 		movt	r3, #:upper16:OSRdyList
 3447 1452 D318     		adds	r3, r2, r3
 3448 1454 7B61     		str	r3, [r7, #20]
2333:Libraries/uC-OSIII/os_core.c ****     p_tcb1     = p_tcb->PrevPtr;                            /* Point to next and previous OS_TCB in
 3449              		.loc 1 2333 0
 3450 1456 7B68     		ldr	r3, [r7, #4]
 3451 1458 1B69     		ldr	r3, [r3, #16]
 3452 145a 3B61     		str	r3, [r7, #16]
2334:Libraries/uC-OSIII/os_core.c ****     p_tcb2     = p_tcb->NextPtr;
 3453              		.loc 1 2334 0
 3454 145c 7B68     		ldr	r3, [r7, #4]
 3455 145e DB68     		ldr	r3, [r3, #12]
 3456 1460 FB60     		str	r3, [r7, #12]
2335:Libraries/uC-OSIII/os_core.c ****     if (p_tcb1 == (OS_TCB *)0) {                            /* Was the OS_TCB to remove was at the 
 3457              		.loc 1 2335 0
 3458 1462 3B69     		ldr	r3, [r7, #16]
 3459 1464 002B     		cmp	r3, #0
 3460 1466 24D1     		bne	.L196
2336:Libraries/uC-OSIII/os_core.c ****         if (p_tcb2 == (OS_TCB *)0) {                        /* Yes, was it the only OS_TCB?        
 3461              		.loc 1 2336 0
 3462 1468 FB68     		ldr	r3, [r7, #12]
 3463 146a 002B     		cmp	r3, #0
 3464 146c 12D1     		bne	.L197
2337:Libraries/uC-OSIII/os_core.c ****             p_rdy_list->NbrEntries = (OS_OBJ_QTY)0;         /*      Yes, no more entries           
 3465              		.loc 1 2337 0
 3466 146e 7B69     		ldr	r3, [r7, #20]
 3467 1470 4FF00002 		mov	r2, #0
 3468 1474 1A81     		strh	r2, [r3, #8]	@ movhi
2338:Libraries/uC-OSIII/os_core.c ****             p_rdy_list->HeadPtr    = (OS_TCB   *)0;
 3469              		.loc 1 2338 0
 3470 1476 7B69     		ldr	r3, [r7, #20]
 3471 1478 4FF00002 		mov	r2, #0
 3472 147c 1A60     		str	r2, [r3, #0]
2339:Libraries/uC-OSIII/os_core.c ****             p_rdy_list->TailPtr    = (OS_TCB   *)0;
 3473              		.loc 1 2339 0
 3474 147e 7B69     		ldr	r3, [r7, #20]
 3475 1480 4FF00002 		mov	r2, #0
 3476 1484 5A60     		str	r2, [r3, #4]
2340:Libraries/uC-OSIII/os_core.c ****             OS_PrioRemove(p_tcb->Prio);
 3477              		.loc 1 2340 0
 3478 1486 7B68     		ldr	r3, [r7, #4]
 3479 1488 93F8C330 		ldrb	r3, [r3, #195]	@ zero_extendqisi2
 3480 148c 1846     		mov	r0, r3
 3481 148e FFF7FEFF 		bl	OS_PrioRemove
 3482 1492 22E0     		b	.L198
 3483              	.L197:
2341:Libraries/uC-OSIII/os_core.c ****         } else {
2342:Libraries/uC-OSIII/os_core.c ****             p_rdy_list->NbrEntries--;                       /*      No,  one less entry            
 3484              		.loc 1 2342 0
 3485 1494 7B69     		ldr	r3, [r7, #20]
 3486 1496 1B89     		ldrh	r3, [r3, #8]
 3487 1498 03F1FF33 		add	r3, r3, #-1
 3488 149c 9AB2     		uxth	r2, r3
 3489 149e 7B69     		ldr	r3, [r7, #20]
 3490 14a0 1A81     		strh	r2, [r3, #8]	@ movhi
2343:Libraries/uC-OSIII/os_core.c ****             p_tcb2->PrevPtr        = (OS_TCB   *)0;         /*           adjust back link of new li
 3491              		.loc 1 2343 0
 3492 14a2 FB68     		ldr	r3, [r7, #12]
 3493 14a4 4FF00002 		mov	r2, #0
 3494 14a8 1A61     		str	r2, [r3, #16]
2344:Libraries/uC-OSIII/os_core.c ****             p_rdy_list->HeadPtr    = p_tcb2;                /*           adjust OS_RDY_LIST's new h
 3495              		.loc 1 2344 0
 3496 14aa 7B69     		ldr	r3, [r7, #20]
 3497 14ac FA68     		ldr	r2, [r7, #12]
 3498 14ae 1A60     		str	r2, [r3, #0]
 3499 14b0 13E0     		b	.L198
 3500              	.L196:
2345:Libraries/uC-OSIII/os_core.c ****         }
2346:Libraries/uC-OSIII/os_core.c ****     } else {
2347:Libraries/uC-OSIII/os_core.c ****         p_rdy_list->NbrEntries--;                           /* No,  one less entry                 
 3501              		.loc 1 2347 0
 3502 14b2 7B69     		ldr	r3, [r7, #20]
 3503 14b4 1B89     		ldrh	r3, [r3, #8]
 3504 14b6 03F1FF33 		add	r3, r3, #-1
 3505 14ba 9AB2     		uxth	r2, r3
 3506 14bc 7B69     		ldr	r3, [r7, #20]
 3507 14be 1A81     		strh	r2, [r3, #8]	@ movhi
2348:Libraries/uC-OSIII/os_core.c ****         p_tcb1->NextPtr = p_tcb2;
 3508              		.loc 1 2348 0
 3509 14c0 3B69     		ldr	r3, [r7, #16]
 3510 14c2 FA68     		ldr	r2, [r7, #12]
 3511 14c4 DA60     		str	r2, [r3, #12]
2349:Libraries/uC-OSIII/os_core.c ****         if (p_tcb2 == (OS_TCB *)0) {
 3512              		.loc 1 2349 0
 3513 14c6 FB68     		ldr	r3, [r7, #12]
 3514 14c8 002B     		cmp	r3, #0
 3515 14ca 03D1     		bne	.L199
2350:Libraries/uC-OSIII/os_core.c ****             p_rdy_list->TailPtr = p_tcb1;                   /*      Removing the TCB at the tail, a
 3516              		.loc 1 2350 0
 3517 14cc 7B69     		ldr	r3, [r7, #20]
 3518 14ce 3A69     		ldr	r2, [r7, #16]
 3519 14d0 5A60     		str	r2, [r3, #4]
 3520 14d2 02E0     		b	.L198
 3521              	.L199:
2351:Libraries/uC-OSIII/os_core.c ****         } else {
2352:Libraries/uC-OSIII/os_core.c ****             p_tcb2->PrevPtr     = p_tcb1;
 3522              		.loc 1 2352 0
 3523 14d4 FB68     		ldr	r3, [r7, #12]
 3524 14d6 3A69     		ldr	r2, [r7, #16]
 3525 14d8 1A61     		str	r2, [r3, #16]
 3526              	.L198:
2353:Libraries/uC-OSIII/os_core.c ****         }
2354:Libraries/uC-OSIII/os_core.c ****     }
2355:Libraries/uC-OSIII/os_core.c ****     p_tcb->PrevPtr = (OS_TCB *)0;
 3527              		.loc 1 2355 0
 3528 14da 7B68     		ldr	r3, [r7, #4]
 3529 14dc 4FF00002 		mov	r2, #0
 3530 14e0 1A61     		str	r2, [r3, #16]
2356:Libraries/uC-OSIII/os_core.c ****     p_tcb->NextPtr = (OS_TCB *)0;
 3531              		.loc 1 2356 0
 3532 14e2 7B68     		ldr	r3, [r7, #4]
 3533 14e4 4FF00002 		mov	r2, #0
 3534 14e8 DA60     		str	r2, [r3, #12]
2357:Libraries/uC-OSIII/os_core.c **** }
 3535              		.loc 1 2357 0
 3536 14ea 07F11807 		add	r7, r7, #24
 3537 14ee BD46     		mov	sp, r7
 3538 14f0 80BD     		pop	{r7, pc}
 3539              		.cfi_endproc
 3540              	.LFE33:
 3542 14f2 00BF     		.align	2
 3543              		.global	OS_Sched0
 3544              		.thumb
 3545              		.thumb_func
 3547              	OS_Sched0:
 3548              	.LFB34:
2358:Libraries/uC-OSIII/os_core.c **** 
2359:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
2360:Libraries/uC-OSIII/os_core.c **** /*
2361:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2362:Libraries/uC-OSIII/os_core.c **** *                                             SCHEDULE THE ISR HANDLER TASK
2363:Libraries/uC-OSIII/os_core.c **** *
2364:Libraries/uC-OSIII/os_core.c **** * Description: This function is called by other uC/OS-III services to schedule task at priority 0 w
2365:Libraries/uC-OSIII/os_core.c **** *              ISR handler task.
2366:Libraries/uC-OSIII/os_core.c **** *
2367:Libraries/uC-OSIII/os_core.c **** * Arguments  : none
2368:Libraries/uC-OSIII/os_core.c **** *
2369:Libraries/uC-OSIII/os_core.c **** * Returns    : none
2370:Libraries/uC-OSIII/os_core.c **** *
2371:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
2372:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2373:Libraries/uC-OSIII/os_core.c **** */
2374:Libraries/uC-OSIII/os_core.c **** 
2375:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_ISR_POST_DEFERRED_EN > 0u
2376:Libraries/uC-OSIII/os_core.c **** void  OS_Sched0 (void)
2377:Libraries/uC-OSIII/os_core.c **** {
 3549              		.loc 1 2377 0
 3550              		.cfi_startproc
 3551              		@ args = 0, pretend = 0, frame = 8
 3552              		@ frame_needed = 1, uses_anonymous_args = 0
 3553 14f4 80B5     		push	{r7, lr}
 3554              	.LCFI101:
 3555              		.cfi_def_cfa_offset 8
 3556              		.cfi_offset 14, -4
 3557              		.cfi_offset 7, -8
 3558 14f6 82B0     		sub	sp, sp, #8
 3559              	.LCFI102:
 3560              		.cfi_def_cfa_offset 16
 3561 14f8 00AF     		add	r7, sp, #0
 3562              	.LCFI103:
 3563              		.cfi_def_cfa_register 7
2378:Libraries/uC-OSIII/os_core.c ****     CPU_SR_ALLOC();
 3564              		.loc 1 2378 0
 3565 14fa 4FF00003 		mov	r3, #0
 3566 14fe 7B60     		str	r3, [r7, #4]
2379:Libraries/uC-OSIII/os_core.c **** 
2380:Libraries/uC-OSIII/os_core.c **** 
2381:Libraries/uC-OSIII/os_core.c **** 
2382:Libraries/uC-OSIII/os_core.c ****     CPU_INT_DIS();
 3567              		.loc 1 2382 0
 3568 1500 FFF7FEFF 		bl	CPU_SR_Save
 3569 1504 7860     		str	r0, [r7, #4]
2383:Libraries/uC-OSIII/os_core.c ****     OSPrioHighRdy   = (OS_PRIO)0;                           /* Force the priority to 0             
 3570              		.loc 1 2383 0
 3571 1506 40F20003 		movw	r3, #:lower16:OSPrioHighRdy
 3572 150a C0F20003 		movt	r3, #:upper16:OSPrioHighRdy
 3573 150e 4FF00002 		mov	r2, #0
 3574 1512 1A70     		strb	r2, [r3, #0]
2384:Libraries/uC-OSIII/os_core.c ****     OSTCBHighRdyPtr = &OSIntQTaskTCB;                       /* Always schedule the ISR handler task
 3575              		.loc 1 2384 0
 3576 1514 40F20003 		movw	r3, #:lower16:OSTCBHighRdyPtr
 3577 1518 C0F20003 		movt	r3, #:upper16:OSTCBHighRdyPtr
 3578 151c 40F20002 		movw	r2, #:lower16:OSIntQTaskTCB
 3579 1520 C0F20002 		movt	r2, #:upper16:OSIntQTaskTCB
 3580 1524 1A60     		str	r2, [r3, #0]
2385:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_TASK_PROFILE_EN > 0u
2386:Libraries/uC-OSIII/os_core.c ****     OSTCBHighRdyPtr->CtxSwCtr++;                            /* Inc. # of context switches to this t
 3581              		.loc 1 2386 0
 3582 1526 40F20003 		movw	r3, #:lower16:OSTCBHighRdyPtr
 3583 152a C0F20003 		movt	r3, #:upper16:OSTCBHighRdyPtr
 3584 152e 1B68     		ldr	r3, [r3, #0]
 3585 1530 D3F8A420 		ldr	r2, [r3, #164]
 3586 1534 02F10102 		add	r2, r2, #1
 3587 1538 C3F8A420 		str	r2, [r3, #164]
2387:Libraries/uC-OSIII/os_core.c **** #endif
2388:Libraries/uC-OSIII/os_core.c ****     OSTaskCtxSwCtr++;                                       /* Increment context switch counter    
 3588              		.loc 1 2388 0
 3589 153c 40F20003 		movw	r3, #:lower16:OSTaskCtxSwCtr
 3590 1540 C0F20003 		movt	r3, #:upper16:OSTaskCtxSwCtr
 3591 1544 1B68     		ldr	r3, [r3, #0]
 3592 1546 03F10102 		add	r2, r3, #1
 3593 154a 40F20003 		movw	r3, #:lower16:OSTaskCtxSwCtr
 3594 154e C0F20003 		movt	r3, #:upper16:OSTaskCtxSwCtr
 3595 1552 1A60     		str	r2, [r3, #0]
2389:Libraries/uC-OSIII/os_core.c ****     OS_TASK_SW();                                           /* Perform a task level context switch 
 3596              		.loc 1 2389 0
 3597 1554 FFF7FEFF 		bl	OSCtxSw
2390:Libraries/uC-OSIII/os_core.c ****     CPU_INT_EN();
 3598              		.loc 1 2390 0
 3599 1558 7868     		ldr	r0, [r7, #4]
 3600 155a FFF7FEFF 		bl	CPU_SR_Restore
2391:Libraries/uC-OSIII/os_core.c **** }
 3601              		.loc 1 2391 0
 3602 155e 07F10807 		add	r7, r7, #8
 3603 1562 BD46     		mov	sp, r7
 3604 1564 80BD     		pop	{r7, pc}
 3605              		.cfi_endproc
 3606              	.LFE34:
 3608 1566 00BF     		.align	2
 3609              		.global	OS_SchedLockTimeMeasStart
 3610              		.thumb
 3611              		.thumb_func
 3613              	OS_SchedLockTimeMeasStart:
 3614              	.LFB35:
2392:Libraries/uC-OSIII/os_core.c **** #endif
2393:Libraries/uC-OSIII/os_core.c **** 
2394:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
2395:Libraries/uC-OSIII/os_core.c **** /*
2396:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2397:Libraries/uC-OSIII/os_core.c **** *                                               SCHEDULER LOCK TIME MEASUREMENT
2398:Libraries/uC-OSIII/os_core.c **** *
2399:Libraries/uC-OSIII/os_core.c **** * Description: These functions are used to measure the peak amount of time that the scheduler is lo
2400:Libraries/uC-OSIII/os_core.c **** *
2401:Libraries/uC-OSIII/os_core.c **** * Arguments  : none
2402:Libraries/uC-OSIII/os_core.c **** *
2403:Libraries/uC-OSIII/os_core.c **** * Returns    : none
2404:Libraries/uC-OSIII/os_core.c **** *
2405:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) The are internal functions to uC/OS-III and MUST not be called by your applicatio
2406:Libraries/uC-OSIII/os_core.c **** *
2407:Libraries/uC-OSIII/os_core.c **** *              2) It's assumed that these functions are called when interrupts are disabled.
2408:Libraries/uC-OSIII/os_core.c **** *
2409:Libraries/uC-OSIII/os_core.c **** *              3) We are reading the CPU_TS_TmrRd() directly even if this is a 16-bit timer.  The r
2410:Libraries/uC-OSIII/os_core.c **** *                 don't expect to have the scheduler locked for 65536 counts even at the rate the T
2411:Libraries/uC-OSIII/os_core.c **** *                 In other words, locking the scheduler for longer than 65536 count would not be a 
2412:Libraries/uC-OSIII/os_core.c **** *                 real-time system.
2413:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2414:Libraries/uC-OSIII/os_core.c **** */
2415:Libraries/uC-OSIII/os_core.c **** 
2416:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_SCHED_LOCK_TIME_MEAS_EN > 0u
2417:Libraries/uC-OSIII/os_core.c **** void  OS_SchedLockTimeMeasStart (void)
2418:Libraries/uC-OSIII/os_core.c **** {
 3615              		.loc 1 2418 0
 3616              		.cfi_startproc
 3617              		@ args = 0, pretend = 0, frame = 0
 3618              		@ frame_needed = 1, uses_anonymous_args = 0
 3619 1568 80B5     		push	{r7, lr}
 3620              	.LCFI104:
 3621              		.cfi_def_cfa_offset 8
 3622              		.cfi_offset 14, -4
 3623              		.cfi_offset 7, -8
 3624 156a 00AF     		add	r7, sp, #0
 3625              	.LCFI105:
 3626              		.cfi_def_cfa_register 7
2419:Libraries/uC-OSIII/os_core.c ****     if (OSSchedLockNestingCtr == 1u) {
 3627              		.loc 1 2419 0
 3628 156c 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 3629 1570 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 3630 1574 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3631 1576 012B     		cmp	r3, #1
 3632 1578 07D1     		bne	.L201
2420:Libraries/uC-OSIII/os_core.c ****         OSSchedLockTimeBegin = CPU_TS_TmrRd();
 3633              		.loc 1 2420 0
 3634 157a FFF7FEFF 		bl	CPU_TS_TmrRd
 3635 157e 0246     		mov	r2, r0
 3636 1580 40F20003 		movw	r3, #:lower16:OSSchedLockTimeBegin
 3637 1584 C0F20003 		movt	r3, #:upper16:OSSchedLockTimeBegin
 3638 1588 1A60     		str	r2, [r3, #0]
 3639              	.L201:
2421:Libraries/uC-OSIII/os_core.c ****     }
2422:Libraries/uC-OSIII/os_core.c **** }
 3640              		.loc 1 2422 0
 3641 158a 80BD     		pop	{r7, pc}
 3642              		.cfi_endproc
 3643              	.LFE35:
 3645              		.align	2
 3646              		.global	OS_SchedLockTimeMeasStop
 3647              		.thumb
 3648              		.thumb_func
 3650              	OS_SchedLockTimeMeasStop:
 3651              	.LFB36:
2423:Libraries/uC-OSIII/os_core.c **** 
2424:Libraries/uC-OSIII/os_core.c **** 
2425:Libraries/uC-OSIII/os_core.c **** 
2426:Libraries/uC-OSIII/os_core.c **** 
2427:Libraries/uC-OSIII/os_core.c **** void  OS_SchedLockTimeMeasStop (void)
2428:Libraries/uC-OSIII/os_core.c **** {
 3652              		.loc 1 2428 0
 3653              		.cfi_startproc
 3654              		@ args = 0, pretend = 0, frame = 8
 3655              		@ frame_needed = 1, uses_anonymous_args = 0
 3656 158c 80B5     		push	{r7, lr}
 3657              	.LCFI106:
 3658              		.cfi_def_cfa_offset 8
 3659              		.cfi_offset 14, -4
 3660              		.cfi_offset 7, -8
 3661 158e 82B0     		sub	sp, sp, #8
 3662              	.LCFI107:
 3663              		.cfi_def_cfa_offset 16
 3664 1590 00AF     		add	r7, sp, #0
 3665              	.LCFI108:
 3666              		.cfi_def_cfa_register 7
2429:Libraries/uC-OSIII/os_core.c ****     CPU_TS_TMR  delta;
2430:Libraries/uC-OSIII/os_core.c **** 
2431:Libraries/uC-OSIII/os_core.c **** 
2432:Libraries/uC-OSIII/os_core.c ****     if (OSSchedLockNestingCtr == (OS_NESTING_CTR)0) {       /* Make sure we fully un-nested schedul
 3667              		.loc 1 2432 0
 3668 1592 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 3669 1596 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 3670 159a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3671 159c 002B     		cmp	r3, #0
 3672 159e 25D1     		bne	.L203
2433:Libraries/uC-OSIII/os_core.c ****         delta = CPU_TS_TmrRd()                              /* Compute the delta time between begin
 3673              		.loc 1 2433 0
 3674 15a0 FFF7FEFF 		bl	CPU_TS_TmrRd
 3675 15a4 0246     		mov	r2, r0
2434:Libraries/uC-OSIII/os_core.c ****               - OSSchedLockTimeBegin;
 3676              		.loc 1 2434 0
 3677 15a6 40F20003 		movw	r3, #:lower16:OSSchedLockTimeBegin
 3678 15aa C0F20003 		movt	r3, #:upper16:OSSchedLockTimeBegin
 3679 15ae 1B68     		ldr	r3, [r3, #0]
2433:Libraries/uC-OSIII/os_core.c ****         delta = CPU_TS_TmrRd()                              /* Compute the delta time between begin
 3680              		.loc 1 2433 0
 3681 15b0 D31A     		subs	r3, r2, r3
 3682 15b2 7B60     		str	r3, [r7, #4]
2435:Libraries/uC-OSIII/os_core.c ****         if (delta > OSSchedLockTimeMax) {                   /* Detect peak value                   
 3683              		.loc 1 2435 0
 3684 15b4 40F20003 		movw	r3, #:lower16:OSSchedLockTimeMax
 3685 15b8 C0F20003 		movt	r3, #:upper16:OSSchedLockTimeMax
 3686 15bc 1B68     		ldr	r3, [r3, #0]
 3687 15be 7A68     		ldr	r2, [r7, #4]
 3688 15c0 9A42     		cmp	r2, r3
 3689 15c2 05D9     		bls	.L205
2436:Libraries/uC-OSIII/os_core.c ****             OSSchedLockTimeMax    = delta;
 3690              		.loc 1 2436 0
 3691 15c4 40F20003 		movw	r3, #:lower16:OSSchedLockTimeMax
 3692 15c8 C0F20003 		movt	r3, #:upper16:OSSchedLockTimeMax
 3693 15cc 7A68     		ldr	r2, [r7, #4]
 3694 15ce 1A60     		str	r2, [r3, #0]
 3695              	.L205:
2437:Libraries/uC-OSIII/os_core.c ****         }
2438:Libraries/uC-OSIII/os_core.c ****         if (delta > OSSchedLockTimeMaxCur) {                /* Detect peak value (for resetable val
 3696              		.loc 1 2438 0
 3697 15d0 40F20003 		movw	r3, #:lower16:OSSchedLockTimeMaxCur
 3698 15d4 C0F20003 		movt	r3, #:upper16:OSSchedLockTimeMaxCur
 3699 15d8 1B68     		ldr	r3, [r3, #0]
 3700 15da 7A68     		ldr	r2, [r7, #4]
 3701 15dc 9A42     		cmp	r2, r3
 3702 15de 05D9     		bls	.L203
2439:Libraries/uC-OSIII/os_core.c ****             OSSchedLockTimeMaxCur = delta;
 3703              		.loc 1 2439 0
 3704 15e0 40F20003 		movw	r3, #:lower16:OSSchedLockTimeMaxCur
 3705 15e4 C0F20003 		movt	r3, #:upper16:OSSchedLockTimeMaxCur
 3706 15e8 7A68     		ldr	r2, [r7, #4]
 3707 15ea 1A60     		str	r2, [r3, #0]
 3708              	.L203:
2440:Libraries/uC-OSIII/os_core.c ****         }
2441:Libraries/uC-OSIII/os_core.c ****     }
2442:Libraries/uC-OSIII/os_core.c **** }
 3709              		.loc 1 2442 0
 3710 15ec 07F10807 		add	r7, r7, #8
 3711 15f0 BD46     		mov	sp, r7
 3712 15f2 80BD     		pop	{r7, pc}
 3713              		.cfi_endproc
 3714              	.LFE36:
 3716              		.align	2
 3717              		.global	OS_SchedRoundRobin
 3718              		.thumb
 3719              		.thumb_func
 3721              	OS_SchedRoundRobin:
 3722              	.LFB37:
2443:Libraries/uC-OSIII/os_core.c **** #endif
2444:Libraries/uC-OSIII/os_core.c **** 
2445:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
2446:Libraries/uC-OSIII/os_core.c **** /*
2447:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2448:Libraries/uC-OSIII/os_core.c **** *                                        RUN ROUND-ROBIN SCHEDULING ALGORITHM
2449:Libraries/uC-OSIII/os_core.c **** *
2450:Libraries/uC-OSIII/os_core.c **** * Description: This function is called on every tick to determine if a new task at the same priorit
2451:Libraries/uC-OSIII/os_core.c **** *
2452:Libraries/uC-OSIII/os_core.c **** *
2453:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_rdy_list    is a pointer to the OS_RDY_LIST entry of the ready list at the current
2454:Libraries/uC-OSIII/os_core.c **** *              ----------
2455:Libraries/uC-OSIII/os_core.c **** *
2456:Libraries/uC-OSIII/os_core.c **** * Returns    : none
2457:Libraries/uC-OSIII/os_core.c **** *
2458:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
2459:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2460:Libraries/uC-OSIII/os_core.c **** */
2461:Libraries/uC-OSIII/os_core.c **** 
2462:Libraries/uC-OSIII/os_core.c **** #if OS_CFG_SCHED_ROUND_ROBIN_EN > 0u
2463:Libraries/uC-OSIII/os_core.c **** void  OS_SchedRoundRobin (OS_RDY_LIST  *p_rdy_list)
2464:Libraries/uC-OSIII/os_core.c **** {
 3723              		.loc 1 2464 0
 3724              		.cfi_startproc
 3725              		@ args = 0, pretend = 0, frame = 16
 3726              		@ frame_needed = 1, uses_anonymous_args = 0
 3727 15f4 80B5     		push	{r7, lr}
 3728              	.LCFI109:
 3729              		.cfi_def_cfa_offset 8
 3730              		.cfi_offset 14, -4
 3731              		.cfi_offset 7, -8
 3732 15f6 84B0     		sub	sp, sp, #16
 3733              	.LCFI110:
 3734              		.cfi_def_cfa_offset 24
 3735 15f8 00AF     		add	r7, sp, #0
 3736              	.LCFI111:
 3737              		.cfi_def_cfa_register 7
 3738 15fa 7860     		str	r0, [r7, #4]
2465:Libraries/uC-OSIII/os_core.c ****     OS_TCB   *p_tcb;
2466:Libraries/uC-OSIII/os_core.c ****     CPU_SR_ALLOC();
 3739              		.loc 1 2466 0
 3740 15fc 4FF00003 		mov	r3, #0
 3741 1600 FB60     		str	r3, [r7, #12]
2467:Libraries/uC-OSIII/os_core.c **** 
2468:Libraries/uC-OSIII/os_core.c **** 
2469:Libraries/uC-OSIII/os_core.c **** 
2470:Libraries/uC-OSIII/os_core.c ****     if (OSSchedRoundRobinEn != DEF_TRUE) {                  /* Make sure round-robin has been enabl
 3742              		.loc 1 2470 0
 3743 1602 40F20003 		movw	r3, #:lower16:OSSchedRoundRobinEn
 3744 1606 C0F20003 		movt	r3, #:upper16:OSSchedRoundRobinEn
 3745 160a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3746 160c 012B     		cmp	r3, #1
 3747 160e 6CD1     		bne	.L217
 3748              	.L207:
2471:Libraries/uC-OSIII/os_core.c ****         return;
2472:Libraries/uC-OSIII/os_core.c ****     }
2473:Libraries/uC-OSIII/os_core.c **** 
2474:Libraries/uC-OSIII/os_core.c ****     CPU_CRITICAL_ENTER();
 3749              		.loc 1 2474 0
 3750 1610 FFF7FEFF 		bl	CPU_SR_Save
 3751 1614 F860     		str	r0, [r7, #12]
 3752 1616 FFF7FEFF 		bl	CPU_IntDisMeasStart
2475:Libraries/uC-OSIII/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                            /* Decrement time quanta counter       
 3753              		.loc 1 2475 0
 3754 161a 7B68     		ldr	r3, [r7, #4]
 3755 161c 1B68     		ldr	r3, [r3, #0]
 3756 161e BB60     		str	r3, [r7, #8]
2476:Libraries/uC-OSIII/os_core.c **** 
2477:Libraries/uC-OSIII/os_core.c ****     if (p_tcb == (OS_TCB *)0) {
 3757              		.loc 1 2477 0
 3758 1620 BB68     		ldr	r3, [r7, #8]
 3759 1622 002B     		cmp	r3, #0
 3760 1624 05D1     		bne	.L209
2478:Libraries/uC-OSIII/os_core.c ****         CPU_CRITICAL_EXIT();
 3761              		.loc 1 2478 0
 3762 1626 FFF7FEFF 		bl	CPU_IntDisMeasStop
 3763 162a F868     		ldr	r0, [r7, #12]
 3764 162c FFF7FEFF 		bl	CPU_SR_Restore
2479:Libraries/uC-OSIII/os_core.c ****         return;
 3765              		.loc 1 2479 0
 3766 1630 5CE0     		b	.L206
 3767              	.L209:
2480:Libraries/uC-OSIII/os_core.c ****     }
2481:Libraries/uC-OSIII/os_core.c **** 
2482:Libraries/uC-OSIII/os_core.c ****     if (p_tcb == &OSIdleTaskTCB) {
 3768              		.loc 1 2482 0
 3769 1632 BA68     		ldr	r2, [r7, #8]
 3770 1634 40F20003 		movw	r3, #:lower16:OSIdleTaskTCB
 3771 1638 C0F20003 		movt	r3, #:upper16:OSIdleTaskTCB
 3772 163c 9A42     		cmp	r2, r3
 3773 163e 05D1     		bne	.L210
2483:Libraries/uC-OSIII/os_core.c ****         CPU_CRITICAL_EXIT();
 3774              		.loc 1 2483 0
 3775 1640 FFF7FEFF 		bl	CPU_IntDisMeasStop
 3776 1644 F868     		ldr	r0, [r7, #12]
 3777 1646 FFF7FEFF 		bl	CPU_SR_Restore
2484:Libraries/uC-OSIII/os_core.c ****         return;
 3778              		.loc 1 2484 0
 3779 164a 4FE0     		b	.L206
 3780              	.L210:
2485:Libraries/uC-OSIII/os_core.c ****     }
2486:Libraries/uC-OSIII/os_core.c **** 
2487:Libraries/uC-OSIII/os_core.c ****     if (p_tcb->TimeQuantaCtr > (OS_TICK)0) {
 3781              		.loc 1 2487 0
 3782 164c BB68     		ldr	r3, [r7, #8]
 3783 164e D3F89C30 		ldr	r3, [r3, #156]
 3784 1652 002B     		cmp	r3, #0
 3785 1654 07D0     		beq	.L211
2488:Libraries/uC-OSIII/os_core.c ****         p_tcb->TimeQuantaCtr--;
 3786              		.loc 1 2488 0
 3787 1656 BB68     		ldr	r3, [r7, #8]
 3788 1658 D3F89C30 		ldr	r3, [r3, #156]
 3789 165c 03F1FF32 		add	r2, r3, #-1
 3790 1660 BB68     		ldr	r3, [r7, #8]
 3791 1662 C3F89C20 		str	r2, [r3, #156]
 3792              	.L211:
2489:Libraries/uC-OSIII/os_core.c ****     }
2490:Libraries/uC-OSIII/os_core.c **** 
2491:Libraries/uC-OSIII/os_core.c ****     if (p_tcb->TimeQuantaCtr > (OS_TICK)0) {                /* Task not done with its time quanta  
 3793              		.loc 1 2491 0
 3794 1666 BB68     		ldr	r3, [r7, #8]
 3795 1668 D3F89C30 		ldr	r3, [r3, #156]
 3796 166c 002B     		cmp	r3, #0
 3797 166e 05D0     		beq	.L212
2492:Libraries/uC-OSIII/os_core.c ****         CPU_CRITICAL_EXIT();
 3798              		.loc 1 2492 0
 3799 1670 FFF7FEFF 		bl	CPU_IntDisMeasStop
 3800 1674 F868     		ldr	r0, [r7, #12]
 3801 1676 FFF7FEFF 		bl	CPU_SR_Restore
2493:Libraries/uC-OSIII/os_core.c ****         return;
 3802              		.loc 1 2493 0
 3803 167a 37E0     		b	.L206
 3804              	.L212:
2494:Libraries/uC-OSIII/os_core.c ****     }
2495:Libraries/uC-OSIII/os_core.c **** 
2496:Libraries/uC-OSIII/os_core.c ****     if (p_rdy_list->NbrEntries < (OS_OBJ_QTY)2) {           /* See if it's time to time slice curre
 3805              		.loc 1 2496 0
 3806 167c 7B68     		ldr	r3, [r7, #4]
 3807 167e 1B89     		ldrh	r3, [r3, #8]
 3808 1680 012B     		cmp	r3, #1
 3809 1682 05D8     		bhi	.L213
2497:Libraries/uC-OSIII/os_core.c ****         CPU_CRITICAL_EXIT();                                /* ... only if multiple tasks at same p
 3810              		.loc 1 2497 0
 3811 1684 FFF7FEFF 		bl	CPU_IntDisMeasStop
 3812 1688 F868     		ldr	r0, [r7, #12]
 3813 168a FFF7FEFF 		bl	CPU_SR_Restore
2498:Libraries/uC-OSIII/os_core.c ****         return;
 3814              		.loc 1 2498 0
 3815 168e 2DE0     		b	.L206
 3816              	.L213:
2499:Libraries/uC-OSIII/os_core.c ****     }
2500:Libraries/uC-OSIII/os_core.c **** 
2501:Libraries/uC-OSIII/os_core.c ****     if (OSSchedLockNestingCtr > (OS_NESTING_CTR)0) {        /* Can't round-robin if the scheduler i
 3817              		.loc 1 2501 0
 3818 1690 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 3819 1694 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 3820 1698 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3821 169a 002B     		cmp	r3, #0
 3822 169c 05D0     		beq	.L214
2502:Libraries/uC-OSIII/os_core.c ****         CPU_CRITICAL_EXIT();
 3823              		.loc 1 2502 0
 3824 169e FFF7FEFF 		bl	CPU_IntDisMeasStop
 3825 16a2 F868     		ldr	r0, [r7, #12]
 3826 16a4 FFF7FEFF 		bl	CPU_SR_Restore
2503:Libraries/uC-OSIII/os_core.c ****         return;
 3827              		.loc 1 2503 0
 3828 16a8 20E0     		b	.L206
 3829              	.L214:
2504:Libraries/uC-OSIII/os_core.c ****     }
2505:Libraries/uC-OSIII/os_core.c **** 
2506:Libraries/uC-OSIII/os_core.c ****     OS_RdyListMoveHeadToTail(p_rdy_list);                   /* Move current OS_TCB to the end of th
 3830              		.loc 1 2506 0
 3831 16aa 7868     		ldr	r0, [r7, #4]
 3832 16ac FFF7FEFF 		bl	OS_RdyListMoveHeadToTail
2507:Libraries/uC-OSIII/os_core.c ****     p_tcb = p_rdy_list->HeadPtr;                            /* Point to new OS_TCB at head of the l
 3833              		.loc 1 2507 0
 3834 16b0 7B68     		ldr	r3, [r7, #4]
 3835 16b2 1B68     		ldr	r3, [r3, #0]
 3836 16b4 BB60     		str	r3, [r7, #8]
2508:Libraries/uC-OSIII/os_core.c ****     if (p_tcb->TimeQuanta == (OS_TICK)0) {                  /* See if we need to use the default ti
 3837              		.loc 1 2508 0
 3838 16b6 BB68     		ldr	r3, [r7, #8]
 3839 16b8 D3F89830 		ldr	r3, [r3, #152]
 3840 16bc 002B     		cmp	r3, #0
 3841 16be 08D1     		bne	.L215
2509:Libraries/uC-OSIII/os_core.c ****         p_tcb->TimeQuantaCtr = OSSchedRoundRobinDfltTimeQuanta;
 3842              		.loc 1 2509 0
 3843 16c0 40F20003 		movw	r3, #:lower16:OSSchedRoundRobinDfltTimeQuanta
 3844 16c4 C0F20003 		movt	r3, #:upper16:OSSchedRoundRobinDfltTimeQuanta
 3845 16c8 1A68     		ldr	r2, [r3, #0]
 3846 16ca BB68     		ldr	r3, [r7, #8]
 3847 16cc C3F89C20 		str	r2, [r3, #156]
 3848 16d0 05E0     		b	.L216
 3849              	.L215:
2510:Libraries/uC-OSIII/os_core.c ****     } else {
2511:Libraries/uC-OSIII/os_core.c ****         p_tcb->TimeQuantaCtr = p_tcb->TimeQuanta;           /* Load time slice counter with new tim
 3850              		.loc 1 2511 0
 3851 16d2 BB68     		ldr	r3, [r7, #8]
 3852 16d4 D3F89820 		ldr	r2, [r3, #152]
 3853 16d8 BB68     		ldr	r3, [r7, #8]
 3854 16da C3F89C20 		str	r2, [r3, #156]
 3855              	.L216:
2512:Libraries/uC-OSIII/os_core.c ****     }
2513:Libraries/uC-OSIII/os_core.c ****     CPU_CRITICAL_EXIT();
 3856              		.loc 1 2513 0
 3857 16de FFF7FEFF 		bl	CPU_IntDisMeasStop
 3858 16e2 F868     		ldr	r0, [r7, #12]
 3859 16e4 FFF7FEFF 		bl	CPU_SR_Restore
 3860 16e8 00E0     		b	.L206
 3861              	.L217:
2471:Libraries/uC-OSIII/os_core.c ****         return;
 3862              		.loc 1 2471 0
 3863 16ea 00BF     		nop
 3864              	.L206:
2514:Libraries/uC-OSIII/os_core.c **** }
 3865              		.loc 1 2514 0
 3866 16ec 07F11007 		add	r7, r7, #16
 3867 16f0 BD46     		mov	sp, r7
 3868 16f2 80BD     		pop	{r7, pc}
 3869              		.cfi_endproc
 3870              	.LFE37:
 3872              		.align	2
 3873              		.global	OS_TaskBlock
 3874              		.thumb
 3875              		.thumb_func
 3877              	OS_TaskBlock:
 3878              	.LFB38:
2515:Libraries/uC-OSIII/os_core.c **** #endif
2516:Libraries/uC-OSIII/os_core.c **** 
2517:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
2518:Libraries/uC-OSIII/os_core.c **** /*
2519:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2520:Libraries/uC-OSIII/os_core.c **** *                                                     BLOCK A TASK
2521:Libraries/uC-OSIII/os_core.c **** *
2522:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to remove a task from the ready list and also insert it in t
2523:Libraries/uC-OSIII/os_core.c **** *              the specified timeout is non-zero.
2524:Libraries/uC-OSIII/os_core.c **** *
2525:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_tcb          is a pointer to the OS_TCB of the task block
2526:Libraries/uC-OSIII/os_core.c **** *              -----
2527:Libraries/uC-OSIII/os_core.c **** *
2528:Libraries/uC-OSIII/os_core.c **** *              timeout        is the desired timeout
2529:Libraries/uC-OSIII/os_core.c **** *
2530:Libraries/uC-OSIII/os_core.c **** * Returns    : none
2531:Libraries/uC-OSIII/os_core.c **** *
2532:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
2533:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2534:Libraries/uC-OSIII/os_core.c **** */
2535:Libraries/uC-OSIII/os_core.c **** 
2536:Libraries/uC-OSIII/os_core.c **** void  OS_TaskBlock (OS_TCB   *p_tcb,
2537:Libraries/uC-OSIII/os_core.c ****                     OS_TICK   timeout)
2538:Libraries/uC-OSIII/os_core.c **** {
 3879              		.loc 1 2538 0
 3880              		.cfi_startproc
 3881              		@ args = 0, pretend = 0, frame = 16
 3882              		@ frame_needed = 1, uses_anonymous_args = 0
 3883 16f4 80B5     		push	{r7, lr}
 3884              	.LCFI112:
 3885              		.cfi_def_cfa_offset 8
 3886              		.cfi_offset 14, -4
 3887              		.cfi_offset 7, -8
 3888 16f6 84B0     		sub	sp, sp, #16
 3889              	.LCFI113:
 3890              		.cfi_def_cfa_offset 24
 3891 16f8 00AF     		add	r7, sp, #0
 3892              	.LCFI114:
 3893              		.cfi_def_cfa_register 7
 3894 16fa 7860     		str	r0, [r7, #4]
 3895 16fc 3960     		str	r1, [r7, #0]
2539:Libraries/uC-OSIII/os_core.c ****     OS_ERR  err;
2540:Libraries/uC-OSIII/os_core.c **** 
2541:Libraries/uC-OSIII/os_core.c **** 
2542:Libraries/uC-OSIII/os_core.c ****     if (timeout > (OS_TICK)0) {                             /* Add task to tick list if timeout non
 3896              		.loc 1 2542 0
 3897 16fe 3B68     		ldr	r3, [r7, #0]
 3898 1700 002B     		cmp	r3, #0
 3899 1702 16D0     		beq	.L219
2543:Libraries/uC-OSIII/os_core.c ****         OS_TickListInsert(p_tcb,
 3900              		.loc 1 2543 0
 3901 1704 7868     		ldr	r0, [r7, #4]
 3902 1706 3968     		ldr	r1, [r7, #0]
 3903 1708 4FF00202 		mov	r2, #2
 3904 170c 07F10E03 		add	r3, r7, #14
 3905 1710 FFF7FEFF 		bl	OS_TickListInsert
2544:Libraries/uC-OSIII/os_core.c ****                           timeout,
2545:Libraries/uC-OSIII/os_core.c ****                           OS_OPT_TIME_TIMEOUT,
2546:Libraries/uC-OSIII/os_core.c ****                          &err);
2547:Libraries/uC-OSIII/os_core.c ****         if (err == OS_ERR_NONE) {
 3906              		.loc 1 2547 0
 3907 1714 FB89     		ldrh	r3, [r7, #14]
 3908 1716 002B     		cmp	r3, #0
 3909 1718 05D1     		bne	.L220
2548:Libraries/uC-OSIII/os_core.c ****             p_tcb->TaskState = OS_TASK_STATE_PEND_TIMEOUT;
 3910              		.loc 1 2548 0
 3911 171a 7B68     		ldr	r3, [r7, #4]
 3912 171c 4FF00302 		mov	r2, #3
 3913 1720 83F8C220 		strb	r2, [r3, #194]
 3914 1724 0AE0     		b	.L221
 3915              	.L220:
2549:Libraries/uC-OSIII/os_core.c ****         } else {
2550:Libraries/uC-OSIII/os_core.c ****             p_tcb->TaskState = OS_TASK_STATE_PEND;
 3916              		.loc 1 2550 0
 3917 1726 7B68     		ldr	r3, [r7, #4]
 3918 1728 4FF00202 		mov	r2, #2
 3919 172c 83F8C220 		strb	r2, [r3, #194]
 3920 1730 04E0     		b	.L221
 3921              	.L219:
2551:Libraries/uC-OSIII/os_core.c ****         }
2552:Libraries/uC-OSIII/os_core.c ****     } else {
2553:Libraries/uC-OSIII/os_core.c ****         p_tcb->TaskState = OS_TASK_STATE_PEND;
 3922              		.loc 1 2553 0
 3923 1732 7B68     		ldr	r3, [r7, #4]
 3924 1734 4FF00202 		mov	r2, #2
 3925 1738 83F8C220 		strb	r2, [r3, #194]
 3926              	.L221:
2554:Libraries/uC-OSIII/os_core.c ****     }
2555:Libraries/uC-OSIII/os_core.c ****     OS_RdyListRemove(p_tcb);
 3927              		.loc 1 2555 0
 3928 173c 7868     		ldr	r0, [r7, #4]
 3929 173e FFF7FEFF 		bl	OS_RdyListRemove
2556:Libraries/uC-OSIII/os_core.c **** }
 3930              		.loc 1 2556 0
 3931 1742 07F11007 		add	r7, r7, #16
 3932 1746 BD46     		mov	sp, r7
 3933 1748 80BD     		pop	{r7, pc}
 3934              		.cfi_endproc
 3935              	.LFE38:
 3937 174a 00BF     		.align	2
 3938              		.global	OS_TaskRdy
 3939              		.thumb
 3940              		.thumb_func
 3942              	OS_TaskRdy:
 3943              	.LFB39:
2557:Libraries/uC-OSIII/os_core.c **** 
2558:Libraries/uC-OSIII/os_core.c **** /*$PAGE*/
2559:Libraries/uC-OSIII/os_core.c **** /*
2560:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2561:Libraries/uC-OSIII/os_core.c **** *                                                     READY A TASK
2562:Libraries/uC-OSIII/os_core.c **** *
2563:Libraries/uC-OSIII/os_core.c **** * Description: This function is called to make a task ready-to-run.
2564:Libraries/uC-OSIII/os_core.c **** *
2565:Libraries/uC-OSIII/os_core.c **** * Arguments  : p_tcb          is a pointer to the OS_TCB of the task to make ready-to-run
2566:Libraries/uC-OSIII/os_core.c **** *              -----
2567:Libraries/uC-OSIII/os_core.c **** *
2568:Libraries/uC-OSIII/os_core.c **** * Returns    : none
2569:Libraries/uC-OSIII/os_core.c **** *
2570:Libraries/uC-OSIII/os_core.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
2571:Libraries/uC-OSIII/os_core.c **** ***************************************************************************************************
2572:Libraries/uC-OSIII/os_core.c **** */
2573:Libraries/uC-OSIII/os_core.c **** 
2574:Libraries/uC-OSIII/os_core.c **** void   OS_TaskRdy (OS_TCB *p_tcb)
2575:Libraries/uC-OSIII/os_core.c **** {
 3944              		.loc 1 2575 0
 3945              		.cfi_startproc
 3946              		@ args = 0, pretend = 0, frame = 8
 3947              		@ frame_needed = 1, uses_anonymous_args = 0
 3948 174c 80B5     		push	{r7, lr}
 3949              	.LCFI115:
 3950              		.cfi_def_cfa_offset 8
 3951              		.cfi_offset 14, -4
 3952              		.cfi_offset 7, -8
 3953 174e 82B0     		sub	sp, sp, #8
 3954              	.LCFI116:
 3955              		.cfi_def_cfa_offset 16
 3956 1750 00AF     		add	r7, sp, #0
 3957              	.LCFI117:
 3958              		.cfi_def_cfa_register 7
 3959 1752 7860     		str	r0, [r7, #4]
2576:Libraries/uC-OSIII/os_core.c ****     OS_TickListRemove(p_tcb);                               /* Remove from tick list               
 3960              		.loc 1 2576 0
 3961 1754 7868     		ldr	r0, [r7, #4]
 3962 1756 FFF7FEFF 		bl	OS_TickListRemove
2577:Libraries/uC-OSIII/os_core.c ****     if ((p_tcb->TaskState & OS_TASK_STATE_BIT_SUSPENDED) == (OS_STATE)0) {
 3963              		.loc 1 2577 0
 3964 175a 7B68     		ldr	r3, [r7, #4]
 3965 175c 93F8C230 		ldrb	r3, [r3, #194]	@ zero_extendqisi2
 3966 1760 03F00403 		and	r3, r3, #4
 3967 1764 002B     		cmp	r3, #0
 3968 1766 02D1     		bne	.L222
2578:Libraries/uC-OSIII/os_core.c ****         OS_RdyListInsert(p_tcb);                            /* Insert the task in the ready list   
 3969              		.loc 1 2578 0
 3970 1768 7868     		ldr	r0, [r7, #4]
 3971 176a FFF7FEFF 		bl	OS_RdyListInsert
 3972              	.L222:
2579:Libraries/uC-OSIII/os_core.c ****     }
2580:Libraries/uC-OSIII/os_core.c **** }
 3973              		.loc 1 2580 0
 3974 176e 07F10807 		add	r7, r7, #8
 3975 1772 BD46     		mov	sp, r7
 3976 1774 80BD     		pop	{r7, pc}
 3977              		.cfi_endproc
 3978              	.LFE39:
 3980              	.Letext0:
 3981              		.file 2 "Libraries/uC-CPU/cpu.h"
 3982              		.file 3 "Libraries/uC-CPU/cpu_core.h"
 3983              		.file 4 "Libraries/uC-OSIII/os_type.h"
 3984              		.file 5 "Libraries/uC-OSIII/os.h"
DEFINED SYMBOLS
                            *ABS*:00000000 os_core.c
     /tmp/ccLaCV4V.s:18     .text:00000000 $t
     /tmp/ccLaCV4V.s:23     .text:00000000 OSInit
     /tmp/ccLaCV4V.s:2981   .text:000011d4 OS_RdyListInit
     /tmp/ccLaCV4V.s:1274   .text:00000840 OS_IdleTaskInit
     /tmp/ccLaCV4V.s:343    .text:00000230 OSIntEnter
     /tmp/ccLaCV4V.s:401    .text:00000278 OSIntExit
     /tmp/ccLaCV4V.s:550    .text:00000394 OSSched
     /tmp/ccLaCV4V.s:666    .text:0000046c OSSchedLock
     /tmp/ccLaCV4V.s:3613   .text:00001568 OS_SchedLockTimeMeasStart
     /tmp/ccLaCV4V.s:749    .text:000004ec OSSchedUnlock
     /tmp/ccLaCV4V.s:3650   .text:0000158c OS_SchedLockTimeMeasStop
     /tmp/ccLaCV4V.s:851    .text:00000594 OSSchedRoundRobinCfg
     /tmp/ccLaCV4V.s:939    .text:00000628 OSSchedRoundRobinYield
     /tmp/ccLaCV4V.s:3299   .text:00001394 OS_RdyListMoveHeadToTail
     /tmp/ccLaCV4V.s:1082   .text:0000071c OSStart
     /tmp/ccLaCV4V.s:1173   .text:000007c8 OSVersion
     /tmp/ccLaCV4V.s:1211   .text:000007e8 OS_IdleTask
     /tmp/ccLaCV4V.s:1265   .rodata:00000000 $d
     /tmp/ccLaCV4V.s:1266   .rodata:00000000 .LC0
     /tmp/ccLaCV4V.s:1342   .text:000008c4 OS_Pend
     /tmp/ccLaCV4V.s:3877   .text:000016f4 OS_TaskBlock
     /tmp/ccLaCV4V.s:1673   .text:00000ad4 OS_PendDataInit
     /tmp/ccLaCV4V.s:2132   .text:00000d14 OS_PendListInsertPrio
     /tmp/ccLaCV4V.s:1773   .text:00000b50 OS_PendDbgNameAdd
     /tmp/ccLaCV4V.s:1441   .text:00000978 OS_PendAbort
     /tmp/ccLaCV4V.s:1598   .text:00000a80 OS_PendAbort1
     /tmp/ccLaCV4V.s:2308   .text:00000e08 OS_PendListRemove
     /tmp/ccLaCV4V.s:3942   .text:0000174c OS_TaskRdy
     /tmp/ccLaCV4V.s:1759   .rodata:00000014 .LC1
     /tmp/ccLaCV4V.s:1762   .rodata:0000001c .LC2
     /tmp/ccLaCV4V.s:1765   .rodata:00000028 .LC3
     /tmp/ccLaCV4V.s:1866   .text:00000bd4 OS_PendDbgNameRemove
     /tmp/ccLaCV4V.s:1932   .text:00000c28 OS_PendListChangePrio
     /tmp/ccLaCV4V.s:2382   .text:00000e64 OS_PendListRemove1
     /tmp/ccLaCV4V.s:2014   .text:00000c90 OS_PendListInit
     /tmp/ccLaCV4V.s:2057   .text:00000cbc OS_PendListInsertHead
     /tmp/ccLaCV4V.s:2499   .text:00000f04 OS_PendObjDel
     /tmp/ccLaCV4V.s:2646   .text:00001000 OS_PendObjDel1
     /tmp/ccLaCV4V.s:2721   .text:00001054 OS_Post
     /tmp/ccLaCV4V.s:2897   .text:00001174 OS_Post1
     /tmp/ccLaCV4V.s:3048   .text:00001230 OS_RdyListInsert
     /tmp/ccLaCV4V.s:3200   .text:00001304 OS_RdyListInsertTail
     /tmp/ccLaCV4V.s:3100   .text:00001270 OS_RdyListInsertHead
     /tmp/ccLaCV4V.s:3418   .text:0000142c OS_RdyListRemove
     /tmp/ccLaCV4V.s:3547   .text:000014f4 OS_Sched0
     /tmp/ccLaCV4V.s:3721   .text:000015f4 OS_SchedRoundRobin
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
OSInitHook
OSIntNestingCtr
OSRunning
OSSchedLockNestingCtr
OSSchedLockTimeBegin
OSSchedLockTimeMax
OSSchedLockTimeMaxCur
OSSchedRoundRobinEn
OSCfg_TickRate_Hz
OSSchedRoundRobinDfltTimeQuanta
OSCfg_ISRStkSize
OSCfg_ISRStkBasePtr
OS_AppTaskCreateHookPtr
OS_AppTaskDelHookPtr
OS_AppTaskReturnHookPtr
OS_AppIdleTaskHookPtr
OS_AppStatTaskHookPtr
OS_AppTaskSwHookPtr
OS_AppTimeTickHookPtr
OS_PrioInit
OS_TaskInit
OS_IntQTaskInit
OS_TickTaskInit
OS_StatTaskInit
OS_FlagInit
OS_MemInit
OS_MsgPoolInit
OS_MutexInit
OS_QInit
OS_SemInit
OS_TmrInit
OS_Dbg_Init
OSCfg_Init
CPU_SR_Save
CPU_SR_Restore
OS_PrioGetHighest
OSPrioHighRdy
OSRdyList
OSTCBHighRdyPtr
OSTCBCurPtr
OSTaskCtxSwCtr
OSIntCtxSw
OSCtxSw
CPU_IntDisMeasStart
CPU_IntDisMeasStop
OSPrioCur
OSStartHighRdy
OSIdleTaskCtr
OSStatTaskCtr
OSIdleTaskHook
OSCfg_IdleTaskStkBasePtr
OSCfg_IdleTaskStkLimit
OSCfg_IdleTaskStkSize
OSIdleTaskTCB
OSTaskCreate
OS_TickListRemove
OS_PrioInsert
OS_PrioRemove
OSIntQTaskTCB
CPU_TS_TmrRd
OS_TickListInsert
