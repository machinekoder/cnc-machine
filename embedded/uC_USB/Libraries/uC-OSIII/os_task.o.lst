   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"os_task.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.align	2
  19              		.global	OSTaskChangePrio
  20              		.thumb
  21              		.thumb_func
  23              	OSTaskChangePrio:
  24              	.LFB0:
  25              		.file 1 "Libraries/uC-OSIII/os_task.c"
   1:Libraries/uC-OSIII/os_task.c **** /*
   2:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
   3:Libraries/uC-OSIII/os_task.c **** *                                                      uC/OS-III
   4:Libraries/uC-OSIII/os_task.c **** *                                                 The Real-Time Kernel
   5:Libraries/uC-OSIII/os_task.c **** *
   6:Libraries/uC-OSIII/os_task.c **** *                                  (c) Copyright 2009-2010; Micrium, Inc.; Weston, FL
   7:Libraries/uC-OSIII/os_task.c **** *                          All rights reserved.  Protected by international copyright laws.
   8:Libraries/uC-OSIII/os_task.c **** *
   9:Libraries/uC-OSIII/os_task.c **** *                                                    TASK MANAGEMENT
  10:Libraries/uC-OSIII/os_task.c **** *
  11:Libraries/uC-OSIII/os_task.c **** * File    : OS_TASK.C
  12:Libraries/uC-OSIII/os_task.c **** * By      : JJL
  13:Libraries/uC-OSIII/os_task.c **** * Version : V3.01.2
  14:Libraries/uC-OSIII/os_task.c **** *
  15:Libraries/uC-OSIII/os_task.c **** * LICENSING TERMS:
  16:Libraries/uC-OSIII/os_task.c **** * ---------------
  17:Libraries/uC-OSIII/os_task.c **** *               uC/OS-III is provided in source form to registered licensees ONLY.  It is
  18:Libraries/uC-OSIII/os_task.c **** *               illegal to distribute this source code to any third party unless you receive
  19:Libraries/uC-OSIII/os_task.c **** *               written permission by an authorized Micrium representative.  Knowledge of
  20:Libraries/uC-OSIII/os_task.c **** *               the source code may NOT be used to develop a similar product.
  21:Libraries/uC-OSIII/os_task.c **** *
  22:Libraries/uC-OSIII/os_task.c **** *               Please help us continue to provide the Embedded community with the finest
  23:Libraries/uC-OSIII/os_task.c **** *               software available.  Your honesty is greatly appreciated.
  24:Libraries/uC-OSIII/os_task.c **** *
  25:Libraries/uC-OSIII/os_task.c **** *               You can contact us at www.micrium.com.
  26:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
  27:Libraries/uC-OSIII/os_task.c **** */
  28:Libraries/uC-OSIII/os_task.c **** 
  29:Libraries/uC-OSIII/os_task.c **** #include <os.h>
  30:Libraries/uC-OSIII/os_task.c **** 
  31:Libraries/uC-OSIII/os_task.c **** #ifdef VSC_INCLUDE_SOURCE_FILE_NAMES
  32:Libraries/uC-OSIII/os_task.c **** const  CPU_CHAR  *os_task__c = "$Id: $";
  33:Libraries/uC-OSIII/os_task.c **** #endif
  34:Libraries/uC-OSIII/os_task.c **** 
  35:Libraries/uC-OSIII/os_task.c **** /*
  36:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
  37:Libraries/uC-OSIII/os_task.c **** *                                                CHANGE PRIORITY OF A TASK
  38:Libraries/uC-OSIII/os_task.c **** *
  39:Libraries/uC-OSIII/os_task.c **** * Description: This function allows you to change the priority of a task dynamically.  Note that th
  40:Libraries/uC-OSIII/os_task.c **** *              priority MUST be available.
  41:Libraries/uC-OSIII/os_task.c **** *
  42:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb      is the TCB of the tack to change the priority for
  43:Libraries/uC-OSIII/os_task.c **** *
  44:Libraries/uC-OSIII/os_task.c **** *              prio_new   is the new priority
  45:Libraries/uC-OSIII/os_task.c **** *
  46:Libraries/uC-OSIII/os_task.c **** *              p_err      is a pointer to an error code returned by this function:
  47:Libraries/uC-OSIII/os_task.c **** *
  48:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_NONE                 is the call was successful
  49:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_PRIO_INVALID         if the priority you specify is higher tha
  50:Libraries/uC-OSIII/os_task.c **** *                                                         (i.e. >= (OS_CFG_PRIO_MAX-1))
  51:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_STATE_INVALID        if the task is in an invalid state
  52:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_TASK_CHANGE_PRIO_ISR if you tried to change the task's priorit
  53:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
  54:Libraries/uC-OSIII/os_task.c **** */
  55:Libraries/uC-OSIII/os_task.c **** 
  56:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_CHANGE_PRIO_EN > 0u
  57:Libraries/uC-OSIII/os_task.c **** void  OSTaskChangePrio (OS_TCB   *p_tcb,
  58:Libraries/uC-OSIII/os_task.c ****                         OS_PRIO   prio_new,
  59:Libraries/uC-OSIII/os_task.c ****                         OS_ERR   *p_err)
  60:Libraries/uC-OSIII/os_task.c **** {
  26              		.loc 1 60 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 24
  29              		@ frame_needed = 1, uses_anonymous_args = 0
  30 0000 80B5     		push	{r7, lr}
  31              	.LCFI0:
  32              		.cfi_def_cfa_offset 8
  33              		.cfi_offset 14, -4
  34              		.cfi_offset 7, -8
  35 0002 86B0     		sub	sp, sp, #24
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 32
  38 0004 00AF     		add	r7, sp, #0
  39              	.LCFI2:
  40              		.cfi_def_cfa_register 7
  41 0006 F860     		str	r0, [r7, #12]
  42 0008 0B46     		mov	r3, r1
  43 000a 7A60     		str	r2, [r7, #4]
  44 000c FB72     		strb	r3, [r7, #11]
  61:Libraries/uC-OSIII/os_task.c ****     CPU_BOOLEAN   self;
  62:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
  45              		.loc 1 62 0
  46 000e 4FF00003 		mov	r3, #0
  47 0012 3B61     		str	r3, [r7, #16]
  63:Libraries/uC-OSIII/os_task.c **** 
  64:Libraries/uC-OSIII/os_task.c **** 
  65:Libraries/uC-OSIII/os_task.c **** 
  66:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
  67:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
  68:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
  69:Libraries/uC-OSIII/os_task.c ****     }
  70:Libraries/uC-OSIII/os_task.c **** #endif
  71:Libraries/uC-OSIII/os_task.c **** 
  72:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u
  73:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* ---------- CANNOT CREATE A TASK FROM
  48              		.loc 1 73 0
  49 0014 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
  50 0018 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
  51 001c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
  52 001e 002B     		cmp	r3, #0
  53 0020 04D0     		beq	.L2
  74:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_TASK_CHANGE_PRIO_ISR;
  54              		.loc 1 74 0
  55 0022 7B68     		ldr	r3, [r7, #4]
  56 0024 47F24912 		movw	r2, #29001
  57 0028 1A80     		strh	r2, [r3, #0]	@ movhi
  75:Libraries/uC-OSIII/os_task.c ****         return;
  58              		.loc 1 75 0
  59 002a F4E0     		b	.L1
  60              	.L2:
  76:Libraries/uC-OSIII/os_task.c ****     }
  77:Libraries/uC-OSIII/os_task.c **** #endif
  78:Libraries/uC-OSIII/os_task.c **** 
  79:Libraries/uC-OSIII/os_task.c ****     if (prio_new >= (OS_CFG_PRIO_MAX - 1u)) {               /* Cannot set to Idle Task priority    
  61              		.loc 1 79 0
  62 002c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
  63 002e 3E2B     		cmp	r3, #62
  64 0030 04D9     		bls	.L4
  80:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PRIO_INVALID;
  65              		.loc 1 80 0
  66 0032 7B68     		ldr	r3, [r7, #4]
  67 0034 46F27322 		movw	r2, #25203
  68 0038 1A80     		strh	r2, [r3, #0]	@ movhi
  81:Libraries/uC-OSIII/os_task.c ****         return;
  69              		.loc 1 81 0
  70 003a ECE0     		b	.L1
  71              	.L4:
  82:Libraries/uC-OSIII/os_task.c ****     }
  83:Libraries/uC-OSIII/os_task.c **** 
  84:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                             /* See if want to change priority of 's
  72              		.loc 1 84 0
  73 003c FB68     		ldr	r3, [r7, #12]
  74 003e 002B     		cmp	r3, #0
  75 0040 13D1     		bne	.L5
  85:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_ENTER();
  76              		.loc 1 85 0
  77 0042 FFF7FEFF 		bl	CPU_SR_Save
  78 0046 3861     		str	r0, [r7, #16]
  79 0048 FFF7FEFF 		bl	CPU_IntDisMeasStart
  86:Libraries/uC-OSIII/os_task.c ****         p_tcb = OSTCBCurPtr;
  80              		.loc 1 86 0
  81 004c 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
  82 0050 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
  83 0054 1B68     		ldr	r3, [r3, #0]
  84 0056 FB60     		str	r3, [r7, #12]
  87:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_EXIT();
  85              		.loc 1 87 0
  86 0058 FFF7FEFF 		bl	CPU_IntDisMeasStop
  87 005c 3869     		ldr	r0, [r7, #16]
  88 005e FFF7FEFF 		bl	CPU_SR_Restore
  88:Libraries/uC-OSIII/os_task.c ****         self  = DEF_TRUE;
  89              		.loc 1 88 0
  90 0062 4FF00103 		mov	r3, #1
  91 0066 FB75     		strb	r3, [r7, #23]
  92 0068 02E0     		b	.L6
  93              	.L5:
  89:Libraries/uC-OSIII/os_task.c ****     } else {
  90:Libraries/uC-OSIII/os_task.c ****         self  = DEF_FALSE;
  94              		.loc 1 90 0
  95 006a 4FF00003 		mov	r3, #0
  96 006e FB75     		strb	r3, [r7, #23]
  97              	.L6:
  91:Libraries/uC-OSIII/os_task.c ****     }
  92:Libraries/uC-OSIII/os_task.c **** 
  93:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_ENTER();
  98              		.loc 1 93 0
  99 0070 FFF7FEFF 		bl	CPU_SR_Save
 100 0074 3861     		str	r0, [r7, #16]
 101 0076 FFF7FEFF 		bl	CPU_IntDisMeasStart
 102 007a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 103 007e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 104 0082 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 105 0084 03F10103 		add	r3, r3, #1
 106 0088 DAB2     		uxtb	r2, r3
 107 008a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 108 008e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 109 0092 1A70     		strb	r2, [r3, #0]
 110 0094 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 111 0098 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 112 009c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 113 009e 012B     		cmp	r3, #1
 114 00a0 01D1     		bne	.L7
 115              		.loc 1 93 0 is_stmt 0 discriminator 1
 116 00a2 FFF7FEFF 		bl	OS_SchedLockTimeMeasStart
 117              	.L7:
 118              		.loc 1 93 0 discriminator 2
 119 00a6 FFF7FEFF 		bl	CPU_IntDisMeasStop
 120 00aa 3869     		ldr	r0, [r7, #16]
 121 00ac FFF7FEFF 		bl	CPU_SR_Restore
  94:Libraries/uC-OSIII/os_task.c ****     switch (p_tcb->TaskState) {
 122              		.loc 1 94 0 is_stmt 1 discriminator 2
 123 00b0 FB68     		ldr	r3, [r7, #12]
 124 00b2 93F8C230 		ldrb	r3, [r3, #194]	@ zero_extendqisi2
 125 00b6 072B     		cmp	r3, #7
 126 00b8 4DD8     		bhi	.L8
 127 00ba 4FF04C52 		mov	r2, #855638016
 128 00be 02FA03F2 		lsl	r2, r2, r3
 129 00c2 002A     		cmp	r2, #0
 130 00c4 28DB     		blt	.L11
 131 00c6 4FF09842 		mov	r2, #1275068416
 132 00ca 02FA03F2 		lsl	r2, r2, r3
 133 00ce 002A     		cmp	r2, #0
 134 00d0 1DDB     		blt	.L10
 135 00d2 4FF00042 		mov	r2, #-2147483648
 136 00d6 02FA03F3 		lsl	r3, r2, r3
 137 00da 002B     		cmp	r3, #0
 138 00dc 3BDA     		bge	.L8
 139              	.L9:
  95:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_RDY:
  96:Libraries/uC-OSIII/os_task.c ****              OS_RdyListRemove(p_tcb);                       /* Remove from current priority        
 140              		.loc 1 96 0
 141 00de F868     		ldr	r0, [r7, #12]
 142 00e0 FFF7FEFF 		bl	OS_RdyListRemove
  97:Libraries/uC-OSIII/os_task.c ****              p_tcb->Prio = prio_new;                        /* Set new task priority               
 143              		.loc 1 97 0
 144 00e4 FB68     		ldr	r3, [r7, #12]
 145 00e6 FA7A     		ldrb	r2, [r7, #11]
 146 00e8 83F8C320 		strb	r2, [r3, #195]
  98:Libraries/uC-OSIII/os_task.c ****              OS_PrioInsert(p_tcb->Prio);
 147              		.loc 1 98 0
 148 00ec FB68     		ldr	r3, [r7, #12]
 149 00ee 93F8C330 		ldrb	r3, [r3, #195]	@ zero_extendqisi2
 150 00f2 1846     		mov	r0, r3
 151 00f4 FFF7FEFF 		bl	OS_PrioInsert
  99:Libraries/uC-OSIII/os_task.c ****              if (self == DEF_TRUE) {
 152              		.loc 1 99 0
 153 00f8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 154 00fa 012B     		cmp	r3, #1
 155 00fc 03D1     		bne	.L12
 100:Libraries/uC-OSIII/os_task.c ****                  OS_RdyListInsertHead(p_tcb);
 156              		.loc 1 100 0
 157 00fe F868     		ldr	r0, [r7, #12]
 158 0100 FFF7FEFF 		bl	OS_RdyListInsertHead
 101:Libraries/uC-OSIII/os_task.c ****              } else {
 102:Libraries/uC-OSIII/os_task.c ****                  OS_RdyListInsertTail(p_tcb);
 103:Libraries/uC-OSIII/os_task.c ****              }
 104:Libraries/uC-OSIII/os_task.c ****              break;
 159              		.loc 1 104 0
 160 0104 61E0     		b	.L14
 161              	.L12:
 102:Libraries/uC-OSIII/os_task.c ****                  OS_RdyListInsertTail(p_tcb);
 162              		.loc 1 102 0
 163 0106 F868     		ldr	r0, [r7, #12]
 164 0108 FFF7FEFF 		bl	OS_RdyListInsertTail
 165              		.loc 1 104 0
 166 010c 5DE0     		b	.L14
 167              	.L10:
 105:Libraries/uC-OSIII/os_task.c **** 
 106:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_DLY:                             /* Nothing to do except change the prio
 107:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_SUSPENDED:
 108:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_DLY_SUSPENDED:
 109:Libraries/uC-OSIII/os_task.c ****              p_tcb->Prio = prio_new;                        /* Set new task priority               
 168              		.loc 1 109 0
 169 010e FB68     		ldr	r3, [r7, #12]
 170 0110 FA7A     		ldrb	r2, [r7, #11]
 171 0112 83F8C320 		strb	r2, [r3, #195]
 110:Libraries/uC-OSIII/os_task.c ****              break;
 172              		.loc 1 110 0
 173 0116 58E0     		b	.L14
 174              	.L11:
 111:Libraries/uC-OSIII/os_task.c **** 
 112:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND:
 113:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
 114:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
 115:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
 116:Libraries/uC-OSIII/os_task.c ****              switch (p_tcb->PendOn) {                       /* What to do depends on what we are pe
 175              		.loc 1 116 0
 176 0118 FB68     		ldr	r3, [r7, #12]
 177 011a 93F8C030 		ldrb	r3, [r3, #192]	@ zero_extendqisi2
 178 011e 072B     		cmp	r3, #7
 179 0120 17D8     		bhi	.L24
 180 0122 4FF0C242 		mov	r2, #1627389952
 181 0126 02FA03F2 		lsl	r2, r2, r3
 182 012a 002A     		cmp	r2, #0
 183 012c 06DB     		blt	.L16
 184 012e 4FF0F052 		mov	r2, #503316480
 185 0132 02FA03F3 		lsl	r3, r2, r3
 186 0136 002B     		cmp	r3, #0
 187 0138 05DB     		blt	.L17
 188 013a 0AE0     		b	.L23
 189              	.L16:
 117:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_TASK_Q:               /* Nothing to do except change the prio
 118:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_TASK_SEM:
 119:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_FLAG:
 120:Libraries/uC-OSIII/os_task.c ****                       p_tcb->Prio = prio_new;               /* Set new task priority               
 190              		.loc 1 120 0
 191 013c FB68     		ldr	r3, [r7, #12]
 192 013e FA7A     		ldrb	r2, [r7, #11]
 193 0140 83F8C320 		strb	r2, [r3, #195]
 121:Libraries/uC-OSIII/os_task.c ****                       break;
 194              		.loc 1 121 0
 195 0144 06E0     		b	.L18
 196              	.L17:
 122:Libraries/uC-OSIII/os_task.c **** 
 123:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_MUTEX:
 124:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_MULTI:
 125:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_Q:
 126:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_SEM:
 127:Libraries/uC-OSIII/os_task.c ****                       OS_PendListChangePrio(p_tcb,
 197              		.loc 1 127 0
 198 0146 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 199 0148 F868     		ldr	r0, [r7, #12]
 200 014a 1946     		mov	r1, r3
 201 014c FFF7FEFF 		bl	OS_PendListChangePrio
 128:Libraries/uC-OSIII/os_task.c ****                                             prio_new);
 129:Libraries/uC-OSIII/os_task.c ****                       break;
 202              		.loc 1 129 0
 203 0150 00E0     		b	.L18
 204              	.L23:
 205              	.L24:
 130:Libraries/uC-OSIII/os_task.c **** 
 131:Libraries/uC-OSIII/os_task.c ****                  default:
 132:Libraries/uC-OSIII/os_task.c ****                       break;
 206              		.loc 1 132 0
 207 0152 00BF     		nop
 208              	.L18:
 133:Libraries/uC-OSIII/os_task.c ****             }
 134:Libraries/uC-OSIII/os_task.c ****              break;
 209              		.loc 1 134 0
 210 0154 39E0     		b	.L14
 211              	.L8:
 135:Libraries/uC-OSIII/os_task.c **** 
 136:Libraries/uC-OSIII/os_task.c ****         default:
 137:Libraries/uC-OSIII/os_task.c ****              OS_CRITICAL_EXIT();
 212              		.loc 1 137 0
 213 0156 FFF7FEFF 		bl	CPU_SR_Save
 214 015a 3861     		str	r0, [r7, #16]
 215 015c FFF7FEFF 		bl	CPU_IntDisMeasStart
 216 0160 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 217 0164 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 218 0168 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 219 016a 03F1FF33 		add	r3, r3, #-1
 220 016e DAB2     		uxtb	r2, r3
 221 0170 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 222 0174 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 223 0178 1A70     		strb	r2, [r3, #0]
 224 017a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 225 017e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 226 0182 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 227 0184 002B     		cmp	r3, #0
 228 0186 16D1     		bne	.L19
 229              		.loc 1 137 0 is_stmt 0 discriminator 1
 230 0188 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 231 018c 40F20003 		movw	r3, #:lower16:OSIntQNbrEntries
 232 0190 C0F20003 		movt	r3, #:upper16:OSIntQNbrEntries
 233 0194 1B88     		ldrh	r3, [r3, #0]
 234 0196 002B     		cmp	r3, #0
 235 0198 07D0     		beq	.L20
 236              		.loc 1 137 0 discriminator 3
 237 019a FFF7FEFF 		bl	CPU_IntDisMeasStop
 238 019e 3869     		ldr	r0, [r7, #16]
 239 01a0 FFF7FEFF 		bl	CPU_SR_Restore
 240 01a4 FFF7FEFF 		bl	OS_Sched0
 241 01a8 0AE0     		b	.L21
 242              	.L20:
 243              		.loc 1 137 0 discriminator 4
 244 01aa FFF7FEFF 		bl	CPU_IntDisMeasStop
 245 01ae 3869     		ldr	r0, [r7, #16]
 246 01b0 FFF7FEFF 		bl	CPU_SR_Restore
 247 01b4 04E0     		b	.L21
 248              	.L19:
 249              		.loc 1 137 0 discriminator 2
 250 01b6 FFF7FEFF 		bl	CPU_IntDisMeasStop
 251 01ba 3869     		ldr	r0, [r7, #16]
 252 01bc FFF7FEFF 		bl	CPU_SR_Restore
 253              	.L21:
 138:Libraries/uC-OSIII/os_task.c ****              *p_err = OS_ERR_STATE_INVALID;
 254              		.loc 1 138 0 is_stmt 1
 255 01c0 7B68     		ldr	r3, [r7, #4]
 256 01c2 46F62A62 		movw	r2, #28202
 257 01c6 1A80     		strh	r2, [r3, #0]	@ movhi
 139:Libraries/uC-OSIII/os_task.c ****              return;
 258              		.loc 1 139 0
 259 01c8 25E0     		b	.L1
 260              	.L14:
 140:Libraries/uC-OSIII/os_task.c ****     }
 141:Libraries/uC-OSIII/os_task.c **** 
 142:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_EXIT_NO_SCHED();
 261              		.loc 1 142 0
 262 01ca FFF7FEFF 		bl	CPU_SR_Save
 263 01ce 3861     		str	r0, [r7, #16]
 264 01d0 FFF7FEFF 		bl	CPU_IntDisMeasStart
 265 01d4 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 266 01d8 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 267 01dc 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 268 01de 03F1FF33 		add	r3, r3, #-1
 269 01e2 DAB2     		uxtb	r2, r3
 270 01e4 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 271 01e8 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 272 01ec 1A70     		strb	r2, [r3, #0]
 273 01ee 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 274 01f2 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 275 01f6 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 276 01f8 002B     		cmp	r3, #0
 277 01fa 01D1     		bne	.L22
 278              		.loc 1 142 0 is_stmt 0 discriminator 1
 279 01fc FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 280              	.L22:
 281              		.loc 1 142 0 discriminator 2
 282 0200 FFF7FEFF 		bl	CPU_IntDisMeasStop
 283 0204 3869     		ldr	r0, [r7, #16]
 284 0206 FFF7FEFF 		bl	CPU_SR_Restore
 143:Libraries/uC-OSIII/os_task.c **** 
 144:Libraries/uC-OSIII/os_task.c ****     OSSched();                                              /* Run highest priority task ready     
 285              		.loc 1 144 0 is_stmt 1 discriminator 2
 286 020a FFF7FEFF 		bl	OSSched
 145:Libraries/uC-OSIII/os_task.c **** 
 146:Libraries/uC-OSIII/os_task.c ****     *p_err = OS_ERR_NONE;
 287              		.loc 1 146 0 discriminator 2
 288 020e 7B68     		ldr	r3, [r7, #4]
 289 0210 4FF00002 		mov	r2, #0
 290 0214 1A80     		strh	r2, [r3, #0]	@ movhi
 291              	.L1:
 147:Libraries/uC-OSIII/os_task.c **** }
 292              		.loc 1 147 0
 293 0216 07F11807 		add	r7, r7, #24
 294 021a BD46     		mov	sp, r7
 295 021c 80BD     		pop	{r7, pc}
 296              		.cfi_endproc
 297              	.LFE0:
 299 021e 00BF     		.align	2
 300              		.global	OSTaskCreate
 301              		.thumb
 302              		.thumb_func
 304              	OSTaskCreate:
 305              	.LFB1:
 148:Libraries/uC-OSIII/os_task.c **** #endif
 149:Libraries/uC-OSIII/os_task.c **** 
 150:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
 151:Libraries/uC-OSIII/os_task.c **** /*
 152:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 153:Libraries/uC-OSIII/os_task.c **** *                                                    CREATE A TASK
 154:Libraries/uC-OSIII/os_task.c **** *
 155:Libraries/uC-OSIII/os_task.c **** * Description: This function is used to have uC/OS-III manage the execution of a task.  Tasks can e
 156:Libraries/uC-OSIII/os_task.c **** *              prior to the start of multitasking or by a running task.  A task cannot be created b
 157:Libraries/uC-OSIII/os_task.c **** *
 158:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb          is a pointer to the task's TCB
 159:Libraries/uC-OSIII/os_task.c **** *
 160:Libraries/uC-OSIII/os_task.c **** *              p_name         is a pointer to an ASCII string to provide a name to the task.
 161:Libraries/uC-OSIII/os_task.c **** *
 162:Libraries/uC-OSIII/os_task.c **** *              p_task         is a pointer to the task's code
 163:Libraries/uC-OSIII/os_task.c **** *
 164:Libraries/uC-OSIII/os_task.c **** *              p_arg          is a pointer to an optional data area which can be used to pass param
 165:Libraries/uC-OSIII/os_task.c **** *                             the task when the task first executes.  Where the task is concerned i
 166:Libraries/uC-OSIII/os_task.c **** *                             it was invoked and passed the argument 'p_arg' as follows:
 167:Libraries/uC-OSIII/os_task.c **** *
 168:Libraries/uC-OSIII/os_task.c **** *                                 void Task (void *p_arg)
 169:Libraries/uC-OSIII/os_task.c **** *                                 {
 170:Libraries/uC-OSIII/os_task.c **** *                                     for (;;) {
 171:Libraries/uC-OSIII/os_task.c **** *                                         Task code;
 172:Libraries/uC-OSIII/os_task.c **** *                                     }
 173:Libraries/uC-OSIII/os_task.c **** *                                 }
 174:Libraries/uC-OSIII/os_task.c **** *
 175:Libraries/uC-OSIII/os_task.c **** *              prio           is the task's priority.  A unique priority MUST be assigned to each t
 176:Libraries/uC-OSIII/os_task.c **** *                             lower the number, the higher the priority.
 177:Libraries/uC-OSIII/os_task.c **** *
 178:Libraries/uC-OSIII/os_task.c **** *              p_stk_base     is a pointer to the base address of the stack (i.e. low address).
 179:Libraries/uC-OSIII/os_task.c **** *
 180:Libraries/uC-OSIII/os_task.c **** *              stk_limit      is the number of stack elements to set as 'watermark' limit for the s
 181:Libraries/uC-OSIII/os_task.c **** *                             represents the number of CPU_STK entries left before the stack is ful
 182:Libraries/uC-OSIII/os_task.c **** *                             specifying 10% of the 'stk_size' value indicates that the stack limit
 183:Libraries/uC-OSIII/os_task.c **** *                             when the stack reaches 90% full.
 184:Libraries/uC-OSIII/os_task.c **** *
 185:Libraries/uC-OSIII/os_task.c **** *              stk_size       is the size of the stack in number of elements.  If CPU_STK is set to
 186:Libraries/uC-OSIII/os_task.c **** *                             'stk_size' corresponds to the number of bytes available.  If CPU_STK 
 187:Libraries/uC-OSIII/os_task.c **** *                             CPU_INT16U, 'stk_size' contains the number of 16-bit entries availabl
 188:Libraries/uC-OSIII/os_task.c **** *                             CPU_STK is set to CPU_INT32U, 'stk_size' contains the number of 32-bi
 189:Libraries/uC-OSIII/os_task.c **** *                             available on the stack.
 190:Libraries/uC-OSIII/os_task.c **** *
 191:Libraries/uC-OSIII/os_task.c **** *              q_size         is the maximum number of messages that can be sent to the task
 192:Libraries/uC-OSIII/os_task.c **** *
 193:Libraries/uC-OSIII/os_task.c **** *              time_quanta    amount of time (in ticks) for time slice when round-robin between tas
 194:Libraries/uC-OSIII/os_task.c **** *                             the default.
 195:Libraries/uC-OSIII/os_task.c **** *
 196:Libraries/uC-OSIII/os_task.c **** *              p_ext          is a pointer to a user supplied memory location which is used as a TC
 197:Libraries/uC-OSIII/os_task.c **** *                             For example, this user memory can hold the contents of floating-point
 198:Libraries/uC-OSIII/os_task.c **** *                             during a context switch, the time each task takes to execute, the num
 199:Libraries/uC-OSIII/os_task.c **** *                             the task has been switched-in, etc.
 200:Libraries/uC-OSIII/os_task.c **** *
 201:Libraries/uC-OSIII/os_task.c **** *              opt            contains additional information (or options) about the behavior of th
 202:Libraries/uC-OSIII/os_task.c **** *                             See OS_OPT_TASK_xxx in OS.H.  Current choices are:
 203:Libraries/uC-OSIII/os_task.c **** *
 204:Libraries/uC-OSIII/os_task.c **** *                                 OS_OPT_TASK_NONE            No option selected
 205:Libraries/uC-OSIII/os_task.c **** *                                 OS_OPT_TASK_STK_CHK         Stack checking to be allowed for the 
 206:Libraries/uC-OSIII/os_task.c **** *                                 OS_OPT_TASK_STK_CLR         Clear the stack when the task is crea
 207:Libraries/uC-OSIII/os_task.c **** *                                 OS_OPT_TASK_SAVE_FP         If the CPU has floating-point registe
 208:Libraries/uC-OSIII/os_task.c **** *                                                             during a context switch.
 209:Libraries/uC-OSIII/os_task.c **** *
 210:Libraries/uC-OSIII/os_task.c **** *              p_err          is a pointer to an error code that will be set during this call.  The
 211:Libraries/uC-OSIII/os_task.c **** *                             to by 'p_err' can be:
 212:Libraries/uC-OSIII/os_task.c **** *
 213:Libraries/uC-OSIII/os_task.c **** *                                 OS_ERR_NONE                    if the function was successful.
 214:Libraries/uC-OSIII/os_task.c **** *                                 OS_ERR_ILLEGAL_CREATE_RUN_TIME if you are trying to create the ta
 215:Libraries/uC-OSIII/os_task.c **** *                                                                   OSSafetyCriticalStart().
 216:Libraries/uC-OSIII/os_task.c **** *                                 OS_ERR_NAME                    if 'p_name' is a NULL pointer
 217:Libraries/uC-OSIII/os_task.c **** *                                 OS_ERR_PRIO_INVALID            if the priority you specify is hig
 218:Libraries/uC-OSIII/os_task.c **** *                                                                   allowed (i.e. >= OS_CFG_PRIO_MA
 219:Libraries/uC-OSIII/os_task.c **** *                                                                if OS_CFG_ISR_POST_DEFERRED_EN is 
 220:Libraries/uC-OSIII/os_task.c **** *                                                                   to use priority 0 which is rese
 221:Libraries/uC-OSIII/os_task.c **** *                                 OS_ERR_STK_INVALID             if you specified a NULL pointer fo
 222:Libraries/uC-OSIII/os_task.c **** *                                 OS_ERR_STK_SIZE_INVALID        if you specified zero for the 'stk
 223:Libraries/uC-OSIII/os_task.c **** *                                 OS_ERR_STK_LIMIT_INVALID       if you specified a 'stk_limit' gre
 224:Libraries/uC-OSIII/os_task.c **** *                                                                   to 'stk_size'
 225:Libraries/uC-OSIII/os_task.c **** *                                 OS_ERR_TASK_CREATE_ISR         if you tried to create a task from
 226:Libraries/uC-OSIII/os_task.c **** *                                 OS_ERR_TASK_INVALID            if you specified a NULL pointer fo
 227:Libraries/uC-OSIII/os_task.c **** *                                 OS_ERR_TCB_INVALID             if you specified a NULL pointer fo
 228:Libraries/uC-OSIII/os_task.c **** *
 229:Libraries/uC-OSIII/os_task.c **** * Returns    : A pointer to the TCB of the task created.  This pointer must be used as an ID (i.e h
 230:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 231:Libraries/uC-OSIII/os_task.c **** */
 232:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
 233:Libraries/uC-OSIII/os_task.c **** void  OSTaskCreate (OS_TCB        *p_tcb,
 234:Libraries/uC-OSIII/os_task.c ****                     CPU_CHAR      *p_name,
 235:Libraries/uC-OSIII/os_task.c ****                     OS_TASK_PTR    p_task,
 236:Libraries/uC-OSIII/os_task.c ****                     void          *p_arg,
 237:Libraries/uC-OSIII/os_task.c ****                     OS_PRIO        prio,
 238:Libraries/uC-OSIII/os_task.c ****                     CPU_STK       *p_stk_base,
 239:Libraries/uC-OSIII/os_task.c ****                     CPU_STK_SIZE   stk_limit,
 240:Libraries/uC-OSIII/os_task.c ****                     CPU_STK_SIZE   stk_size,
 241:Libraries/uC-OSIII/os_task.c ****                     OS_MSG_QTY     q_size,
 242:Libraries/uC-OSIII/os_task.c ****                     OS_TICK        time_quanta,
 243:Libraries/uC-OSIII/os_task.c ****                     void          *p_ext,
 244:Libraries/uC-OSIII/os_task.c ****                     OS_OPT         opt,
 245:Libraries/uC-OSIII/os_task.c ****                     OS_ERR        *p_err)
 246:Libraries/uC-OSIII/os_task.c **** {
 306              		.loc 1 246 0
 307              		.cfi_startproc
 308              		@ args = 36, pretend = 0, frame = 40
 309              		@ frame_needed = 1, uses_anonymous_args = 0
 310 0220 80B5     		push	{r7, lr}
 311              	.LCFI3:
 312              		.cfi_def_cfa_offset 8
 313              		.cfi_offset 14, -4
 314              		.cfi_offset 7, -8
 315 0222 8CB0     		sub	sp, sp, #48
 316              	.LCFI4:
 317              		.cfi_def_cfa_offset 56
 318 0224 02AF     		add	r7, sp, #8
 319              	.LCFI5:
 320              		.cfi_def_cfa 7, 48
 321 0226 F860     		str	r0, [r7, #12]
 322 0228 B960     		str	r1, [r7, #8]
 323 022a 7A60     		str	r2, [r7, #4]
 324 022c 3B60     		str	r3, [r7, #0]
 247:Libraries/uC-OSIII/os_task.c ****     CPU_STK_SIZE   i;
 248:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_REG_TBL_SIZE > 0u
 249:Libraries/uC-OSIII/os_task.c ****     OS_OBJ_QTY     reg_nbr;
 250:Libraries/uC-OSIII/os_task.c **** #endif
 251:Libraries/uC-OSIII/os_task.c ****     CPU_STK       *p_sp;
 252:Libraries/uC-OSIII/os_task.c ****     CPU_STK       *p_stk_limit;
 253:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 325              		.loc 1 253 0
 326 022e 4FF00003 		mov	r3, #0
 327 0232 BB61     		str	r3, [r7, #24]
 254:Libraries/uC-OSIII/os_task.c **** 
 255:Libraries/uC-OSIII/os_task.c **** 
 256:Libraries/uC-OSIII/os_task.c **** 
 257:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
 258:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
 259:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 260:Libraries/uC-OSIII/os_task.c ****     }
 261:Libraries/uC-OSIII/os_task.c **** #endif
 262:Libraries/uC-OSIII/os_task.c **** 
 263:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL_IEC61508
 264:Libraries/uC-OSIII/os_task.c ****     if (OSSafetyCriticalStartFlag == DEF_TRUE) {
 265:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_ILLEGAL_CREATE_RUN_TIME;
 266:Libraries/uC-OSIII/os_task.c ****         return;
 267:Libraries/uC-OSIII/os_task.c ****     }
 268:Libraries/uC-OSIII/os_task.c **** #endif
 269:Libraries/uC-OSIII/os_task.c **** 
 270:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u
 271:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* ---------- CANNOT CREATE A TASK FROM
 328              		.loc 1 271 0
 329 0234 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 330 0238 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 331 023c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 332 023e 002B     		cmp	r3, #0
 333 0240 04D0     		beq	.L26
 272:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_TASK_CREATE_ISR;
 334              		.loc 1 272 0
 335 0242 3B6D     		ldr	r3, [r7, #80]
 336 0244 47F24A12 		movw	r2, #29002
 337 0248 1A80     		strh	r2, [r3, #0]	@ movhi
 273:Libraries/uC-OSIII/os_task.c ****         return;
 338              		.loc 1 273 0
 339 024a 94E1     		b	.L25
 340              	.L26:
 274:Libraries/uC-OSIII/os_task.c ****     }
 275:Libraries/uC-OSIII/os_task.c **** #endif
 276:Libraries/uC-OSIII/os_task.c **** 
 277:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_ARG_CHK_EN > 0u                                  /* ---------------- VALIDATE ARGUMENTS 
 278:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                             /* User must supply a valid OS_TCB     
 341              		.loc 1 278 0
 342 024c FB68     		ldr	r3, [r7, #12]
 343 024e 002B     		cmp	r3, #0
 344 0250 04D1     		bne	.L28
 279:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_TCB_INVALID;
 345              		.loc 1 279 0
 346 0252 3B6D     		ldr	r3, [r7, #80]
 347 0254 47F2AD12 		movw	r2, #29101
 348 0258 1A80     		strh	r2, [r3, #0]	@ movhi
 280:Libraries/uC-OSIII/os_task.c ****         return;
 349              		.loc 1 280 0
 350 025a 8CE1     		b	.L25
 351              	.L28:
 281:Libraries/uC-OSIII/os_task.c ****     }
 282:Libraries/uC-OSIII/os_task.c ****     if (p_task == (OS_TASK_PTR)0) {                         /* User must supply a valid task       
 352              		.loc 1 282 0
 353 025c 7B68     		ldr	r3, [r7, #4]
 354 025e 002B     		cmp	r3, #0
 355 0260 04D1     		bne	.L29
 283:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_TASK_INVALID;
 356              		.loc 1 283 0
 357 0262 3B6D     		ldr	r3, [r7, #80]
 358 0264 47F24F12 		movw	r2, #29007
 359 0268 1A80     		strh	r2, [r3, #0]	@ movhi
 284:Libraries/uC-OSIII/os_task.c ****         return;
 360              		.loc 1 284 0
 361 026a 84E1     		b	.L25
 362              	.L29:
 285:Libraries/uC-OSIII/os_task.c ****     }
 286:Libraries/uC-OSIII/os_task.c ****     if (p_stk_base == (CPU_STK *)0) {                       /* User must supply a valid stack base 
 363              		.loc 1 286 0
 364 026c 7B6B     		ldr	r3, [r7, #52]
 365 026e 002B     		cmp	r3, #0
 366 0270 04D1     		bne	.L30
 287:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_STK_INVALID;
 367              		.loc 1 287 0
 368 0272 3B6D     		ldr	r3, [r7, #80]
 369 0274 46F62C62 		movw	r2, #28204
 370 0278 1A80     		strh	r2, [r3, #0]	@ movhi
 288:Libraries/uC-OSIII/os_task.c ****         return;
 371              		.loc 1 288 0
 372 027a 7CE1     		b	.L25
 373              	.L30:
 289:Libraries/uC-OSIII/os_task.c ****     }
 290:Libraries/uC-OSIII/os_task.c ****     if (stk_size < OSCfg_StkSizeMin) {                      /* User must supply a valid minimum sta
 374              		.loc 1 290 0
 375 027c 40F20003 		movw	r3, #:lower16:OSCfg_StkSizeMin
 376 0280 C0F20003 		movt	r3, #:upper16:OSCfg_StkSizeMin
 377 0284 1B68     		ldr	r3, [r3, #0]
 378 0286 FA6B     		ldr	r2, [r7, #60]
 379 0288 9A42     		cmp	r2, r3
 380 028a 04D2     		bcs	.L31
 291:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_STK_SIZE_INVALID;
 381              		.loc 1 291 0
 382 028c 3B6D     		ldr	r3, [r7, #80]
 383 028e 46F62D62 		movw	r2, #28205
 384 0292 1A80     		strh	r2, [r3, #0]	@ movhi
 292:Libraries/uC-OSIII/os_task.c ****         return;
 385              		.loc 1 292 0
 386 0294 6FE1     		b	.L25
 387              	.L31:
 293:Libraries/uC-OSIII/os_task.c ****     }
 294:Libraries/uC-OSIII/os_task.c ****     if (stk_limit >= stk_size) {                            /* User must supply a valid stack limit
 388              		.loc 1 294 0
 389 0296 BA6B     		ldr	r2, [r7, #56]
 390 0298 FB6B     		ldr	r3, [r7, #60]
 391 029a 9A42     		cmp	r2, r3
 392 029c 04D3     		bcc	.L32
 295:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_STK_LIMIT_INVALID;
 393              		.loc 1 295 0
 394 029e 3B6D     		ldr	r3, [r7, #80]
 395 02a0 46F62E62 		movw	r2, #28206
 396 02a4 1A80     		strh	r2, [r3, #0]	@ movhi
 296:Libraries/uC-OSIII/os_task.c ****         return;
 397              		.loc 1 296 0
 398 02a6 66E1     		b	.L25
 399              	.L32:
 297:Libraries/uC-OSIII/os_task.c ****     }
 298:Libraries/uC-OSIII/os_task.c ****     if (prio >= OS_CFG_PRIO_MAX) {                          /* Priority must be within 0 and OS_CFG
 400              		.loc 1 298 0
 401 02a8 97F83030 		ldrb	r3, [r7, #48]	@ zero_extendqisi2
 402 02ac 3F2B     		cmp	r3, #63
 403 02ae 04D9     		bls	.L33
 299:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PRIO_INVALID;
 404              		.loc 1 299 0
 405 02b0 3B6D     		ldr	r3, [r7, #80]
 406 02b2 46F27322 		movw	r2, #25203
 407 02b6 1A80     		strh	r2, [r3, #0]	@ movhi
 300:Libraries/uC-OSIII/os_task.c ****         return;
 408              		.loc 1 300 0
 409 02b8 5DE1     		b	.L25
 410              	.L33:
 301:Libraries/uC-OSIII/os_task.c ****     }
 302:Libraries/uC-OSIII/os_task.c **** #endif
 303:Libraries/uC-OSIII/os_task.c **** 
 304:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_ENTER();
 411              		.loc 1 304 0
 412 02ba FFF7FEFF 		bl	CPU_SR_Save
 413 02be B861     		str	r0, [r7, #24]
 414 02c0 FFF7FEFF 		bl	CPU_IntDisMeasStart
 305:Libraries/uC-OSIII/os_task.c **** 
 306:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_ISR_POST_DEFERRED_EN > 0u
 307:Libraries/uC-OSIII/os_task.c ****     if (prio == (OS_PRIO)0) {
 415              		.loc 1 307 0
 416 02c4 97F83030 		ldrb	r3, [r7, #48]	@ zero_extendqisi2
 417 02c8 002B     		cmp	r3, #0
 418 02ca 10D1     		bne	.L34
 308:Libraries/uC-OSIII/os_task.c ****         if (p_tcb != &OSIntQTaskTCB) {
 419              		.loc 1 308 0
 420 02cc FA68     		ldr	r2, [r7, #12]
 421 02ce 40F20003 		movw	r3, #:lower16:OSIntQTaskTCB
 422 02d2 C0F20003 		movt	r3, #:upper16:OSIntQTaskTCB
 423 02d6 9A42     		cmp	r2, r3
 424 02d8 09D0     		beq	.L34
 309:Libraries/uC-OSIII/os_task.c ****             CPU_CRITICAL_EXIT();                            /* Not allowed to use priority 0       
 425              		.loc 1 309 0
 426 02da FFF7FEFF 		bl	CPU_IntDisMeasStop
 427 02de B869     		ldr	r0, [r7, #24]
 428 02e0 FFF7FEFF 		bl	CPU_SR_Restore
 310:Libraries/uC-OSIII/os_task.c ****             *p_err = OS_ERR_PRIO_INVALID;
 429              		.loc 1 310 0
 430 02e4 3B6D     		ldr	r3, [r7, #80]
 431 02e6 46F27322 		movw	r2, #25203
 432 02ea 1A80     		strh	r2, [r3, #0]	@ movhi
 311:Libraries/uC-OSIII/os_task.c ****             return;
 433              		.loc 1 311 0
 434 02ec 43E1     		b	.L25
 435              	.L34:
 312:Libraries/uC-OSIII/os_task.c ****         }
 313:Libraries/uC-OSIII/os_task.c ****     }
 314:Libraries/uC-OSIII/os_task.c **** #endif
 315:Libraries/uC-OSIII/os_task.c **** 
 316:Libraries/uC-OSIII/os_task.c ****     if (OSRdyList[OS_CFG_PRIO_MAX - 1u].NbrEntries > 0u) {  /* -- ONLY ONE TASK ALLOWED AT THE IDLE
 436              		.loc 1 316 0
 437 02ee 40F20003 		movw	r3, #:lower16:OSRdyList
 438 02f2 C0F20003 		movt	r3, #:upper16:OSRdyList
 439 02f6 B3F8FC32 		ldrh	r3, [r3, #764]
 440 02fa 002B     		cmp	r3, #0
 441 02fc 0DD0     		beq	.L35
 317:Libraries/uC-OSIII/os_task.c ****         if (prio == (OS_CFG_PRIO_MAX - 1u)) {
 442              		.loc 1 317 0
 443 02fe 97F83030 		ldrb	r3, [r7, #48]	@ zero_extendqisi2
 444 0302 3F2B     		cmp	r3, #63
 445 0304 09D1     		bne	.L35
 318:Libraries/uC-OSIII/os_task.c ****             CPU_CRITICAL_EXIT();
 446              		.loc 1 318 0
 447 0306 FFF7FEFF 		bl	CPU_IntDisMeasStop
 448 030a B869     		ldr	r0, [r7, #24]
 449 030c FFF7FEFF 		bl	CPU_SR_Restore
 319:Libraries/uC-OSIII/os_task.c ****             *p_err = OS_ERR_PRIO_INVALID;
 450              		.loc 1 319 0
 451 0310 3B6D     		ldr	r3, [r7, #80]
 452 0312 46F27322 		movw	r2, #25203
 453 0316 1A80     		strh	r2, [r3, #0]	@ movhi
 320:Libraries/uC-OSIII/os_task.c ****             return;
 454              		.loc 1 320 0
 455 0318 2DE1     		b	.L25
 456              	.L35:
 321:Libraries/uC-OSIII/os_task.c ****         }
 322:Libraries/uC-OSIII/os_task.c ****     }
 323:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_EXIT();
 457              		.loc 1 323 0
 458 031a FFF7FEFF 		bl	CPU_IntDisMeasStop
 459 031e B869     		ldr	r0, [r7, #24]
 460 0320 FFF7FEFF 		bl	CPU_SR_Restore
 324:Libraries/uC-OSIII/os_task.c **** 
 325:Libraries/uC-OSIII/os_task.c ****     OS_TaskInitTCB(p_tcb);                                  /* Initialize the TCB to default values
 461              		.loc 1 325 0
 462 0324 F868     		ldr	r0, [r7, #12]
 463 0326 FFF7FEFF 		bl	OS_TaskInitTCB
 326:Libraries/uC-OSIII/os_task.c **** 
 327:Libraries/uC-OSIII/os_task.c ****     *p_err = OS_ERR_NONE;
 464              		.loc 1 327 0
 465 032a 3B6D     		ldr	r3, [r7, #80]
 466 032c 4FF00002 		mov	r2, #0
 467 0330 1A80     		strh	r2, [r3, #0]	@ movhi
 328:Libraries/uC-OSIII/os_task.c ****                                                             /* --------------- CLEAR THE TASK'S STA
 329:Libraries/uC-OSIII/os_task.c ****     if ((opt & OS_OPT_TASK_STK_CHK) != (OS_OPT)0) {         /* See if stack checking has been enabl
 468              		.loc 1 329 0
 469 0332 B7F84C30 		ldrh	r3, [r7, #76]
 470 0336 03F00103 		and	r3, r3, #1
 471 033a DBB2     		uxtb	r3, r3
 472 033c 002B     		cmp	r3, #0
 473 033e 1BD0     		beq	.L36
 330:Libraries/uC-OSIII/os_task.c ****         if ((opt & OS_OPT_TASK_STK_CLR) != (OS_OPT)0) {     /* See if stack needs to be cleared    
 474              		.loc 1 330 0
 475 0340 B7F84C30 		ldrh	r3, [r7, #76]
 476 0344 03F00203 		and	r3, r3, #2
 477 0348 002B     		cmp	r3, #0
 478 034a 15D0     		beq	.L36
 331:Libraries/uC-OSIII/os_task.c ****             p_sp = p_stk_base;
 479              		.loc 1 331 0
 480 034c 7B6B     		ldr	r3, [r7, #52]
 481 034e FB61     		str	r3, [r7, #28]
 332:Libraries/uC-OSIII/os_task.c ****             for (i = 0u; i < stk_size; i++) {               /* Stack grows from HIGH to LOW memory 
 482              		.loc 1 332 0
 483 0350 4FF00003 		mov	r3, #0
 484 0354 7B62     		str	r3, [r7, #36]
 485 0356 0BE0     		b	.L37
 486              	.L38:
 333:Libraries/uC-OSIII/os_task.c ****                 *p_sp = (CPU_STK)0;                         /* Clear from bottom of stack and up!  
 487              		.loc 1 333 0 discriminator 2
 488 0358 FB69     		ldr	r3, [r7, #28]
 489 035a 4FF00002 		mov	r2, #0
 490 035e 1A60     		str	r2, [r3, #0]
 334:Libraries/uC-OSIII/os_task.c ****                 p_sp++;
 491              		.loc 1 334 0 discriminator 2
 492 0360 FB69     		ldr	r3, [r7, #28]
 493 0362 03F10403 		add	r3, r3, #4
 494 0366 FB61     		str	r3, [r7, #28]
 332:Libraries/uC-OSIII/os_task.c ****             for (i = 0u; i < stk_size; i++) {               /* Stack grows from HIGH to LOW memory 
 495              		.loc 1 332 0 discriminator 2
 496 0368 7B6A     		ldr	r3, [r7, #36]
 497 036a 03F10103 		add	r3, r3, #1
 498 036e 7B62     		str	r3, [r7, #36]
 499              	.L37:
 332:Libraries/uC-OSIII/os_task.c ****             for (i = 0u; i < stk_size; i++) {               /* Stack grows from HIGH to LOW memory 
 500              		.loc 1 332 0 is_stmt 0 discriminator 1
 501 0370 7A6A     		ldr	r2, [r7, #36]
 502 0372 FB6B     		ldr	r3, [r7, #60]
 503 0374 9A42     		cmp	r2, r3
 504 0376 EFD3     		bcc	.L38
 505              	.L36:
 335:Libraries/uC-OSIII/os_task.c ****             }
 336:Libraries/uC-OSIII/os_task.c ****         }
 337:Libraries/uC-OSIII/os_task.c ****     }
 338:Libraries/uC-OSIII/os_task.c ****                                                             /* ------- INITIALIZE THE STACK FRAME O
 339:Libraries/uC-OSIII/os_task.c **** #if (CPU_CFG_STK_GROWTH == CPU_STK_GROWTH_HI_TO_LO)
 340:Libraries/uC-OSIII/os_task.c ****     p_stk_limit = p_stk_base + stk_limit;
 506              		.loc 1 340 0 is_stmt 1
 507 0378 BB6B     		ldr	r3, [r7, #56]
 508 037a 4FEA8303 		lsl	r3, r3, #2
 509 037e 7A6B     		ldr	r2, [r7, #52]
 510 0380 D318     		adds	r3, r2, r3
 511 0382 7B61     		str	r3, [r7, #20]
 341:Libraries/uC-OSIII/os_task.c **** #else
 342:Libraries/uC-OSIII/os_task.c ****     p_stk_limit = p_stk_base + (stk_size - 1u) - stk_limit;
 343:Libraries/uC-OSIII/os_task.c **** #endif
 344:Libraries/uC-OSIII/os_task.c **** 
 345:Libraries/uC-OSIII/os_task.c ****     p_sp = OSTaskStkInit(p_task,
 512              		.loc 1 345 0
 513 0384 FB6B     		ldr	r3, [r7, #60]
 514 0386 0093     		str	r3, [sp, #0]
 515 0388 B7F84C30 		ldrh	r3, [r7, #76]
 516 038c 0193     		str	r3, [sp, #4]
 517 038e 7868     		ldr	r0, [r7, #4]
 518 0390 3968     		ldr	r1, [r7, #0]
 519 0392 7A6B     		ldr	r2, [r7, #52]
 520 0394 7B69     		ldr	r3, [r7, #20]
 521 0396 FFF7FEFF 		bl	OSTaskStkInit
 522 039a F861     		str	r0, [r7, #28]
 346:Libraries/uC-OSIII/os_task.c ****                          p_arg,
 347:Libraries/uC-OSIII/os_task.c ****                          p_stk_base,
 348:Libraries/uC-OSIII/os_task.c ****                          p_stk_limit,
 349:Libraries/uC-OSIII/os_task.c ****                          stk_size,
 350:Libraries/uC-OSIII/os_task.c ****                          opt);
 351:Libraries/uC-OSIII/os_task.c **** 
 352:Libraries/uC-OSIII/os_task.c ****                                                             /* -------------- INITIALIZE THE TCB FI
 353:Libraries/uC-OSIII/os_task.c ****     p_tcb->TaskEntryAddr = p_task;                          /* Save task entry point address       
 523              		.loc 1 353 0
 524 039c FB68     		ldr	r3, [r7, #12]
 525 039e 7A68     		ldr	r2, [r7, #4]
 526 03a0 9A62     		str	r2, [r3, #40]
 354:Libraries/uC-OSIII/os_task.c ****     p_tcb->TaskEntryArg  = p_arg;                           /* Save task entry argument            
 527              		.loc 1 354 0
 528 03a2 FB68     		ldr	r3, [r7, #12]
 529 03a4 3A68     		ldr	r2, [r7, #0]
 530 03a6 DA62     		str	r2, [r3, #44]
 355:Libraries/uC-OSIII/os_task.c **** 
 356:Libraries/uC-OSIII/os_task.c ****     p_tcb->NamePtr       = p_name;                          /* Save task name                      
 531              		.loc 1 356 0
 532 03a8 FB68     		ldr	r3, [r7, #12]
 533 03aa BA68     		ldr	r2, [r7, #8]
 534 03ac 1A62     		str	r2, [r3, #32]
 357:Libraries/uC-OSIII/os_task.c **** 
 358:Libraries/uC-OSIII/os_task.c ****     p_tcb->Prio          = prio;                            /* Save the task's priority            
 535              		.loc 1 358 0
 536 03ae FB68     		ldr	r3, [r7, #12]
 537 03b0 97F83020 		ldrb	r2, [r7, #48]
 538 03b4 83F8C320 		strb	r2, [r3, #195]
 359:Libraries/uC-OSIII/os_task.c **** 
 360:Libraries/uC-OSIII/os_task.c ****     p_tcb->StkPtr        = p_sp;                            /* Save the new top-of-stack pointer   
 539              		.loc 1 360 0
 540 03b8 FB68     		ldr	r3, [r7, #12]
 541 03ba FA69     		ldr	r2, [r7, #28]
 542 03bc 1A60     		str	r2, [r3, #0]
 361:Libraries/uC-OSIII/os_task.c ****     p_tcb->StkLimitPtr   = p_stk_limit;                     /* Save the stack limit pointer        
 543              		.loc 1 361 0
 544 03be FB68     		ldr	r3, [r7, #12]
 545 03c0 7A69     		ldr	r2, [r7, #20]
 546 03c2 9A60     		str	r2, [r3, #8]
 362:Libraries/uC-OSIII/os_task.c **** 
 363:Libraries/uC-OSIII/os_task.c ****     p_tcb->TimeQuanta    = time_quanta;                     /* Save the #ticks for time slice (0 me
 547              		.loc 1 363 0
 548 03c4 FB68     		ldr	r3, [r7, #12]
 549 03c6 7A6C     		ldr	r2, [r7, #68]
 550 03c8 C3F89820 		str	r2, [r3, #152]
 364:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_SCHED_ROUND_ROBIN_EN > 0u
 365:Libraries/uC-OSIII/os_task.c ****     if (time_quanta == (OS_TICK)0) {
 551              		.loc 1 365 0
 552 03cc 7B6C     		ldr	r3, [r7, #68]
 553 03ce 002B     		cmp	r3, #0
 554 03d0 08D1     		bne	.L39
 366:Libraries/uC-OSIII/os_task.c ****         p_tcb->TimeQuantaCtr = OSSchedRoundRobinDfltTimeQuanta;
 555              		.loc 1 366 0
 556 03d2 40F20003 		movw	r3, #:lower16:OSSchedRoundRobinDfltTimeQuanta
 557 03d6 C0F20003 		movt	r3, #:upper16:OSSchedRoundRobinDfltTimeQuanta
 558 03da 1A68     		ldr	r2, [r3, #0]
 559 03dc FB68     		ldr	r3, [r7, #12]
 560 03de C3F89C20 		str	r2, [r3, #156]
 561 03e2 03E0     		b	.L40
 562              	.L39:
 367:Libraries/uC-OSIII/os_task.c ****     } else {
 368:Libraries/uC-OSIII/os_task.c ****         p_tcb->TimeQuantaCtr = time_quanta;
 563              		.loc 1 368 0
 564 03e4 FB68     		ldr	r3, [r7, #12]
 565 03e6 7A6C     		ldr	r2, [r7, #68]
 566 03e8 C3F89C20 		str	r2, [r3, #156]
 567              	.L40:
 369:Libraries/uC-OSIII/os_task.c ****     }
 370:Libraries/uC-OSIII/os_task.c **** #endif
 371:Libraries/uC-OSIII/os_task.c ****     p_tcb->ExtPtr        = p_ext;                           /* Save pointer to TCB extension       
 568              		.loc 1 371 0
 569 03ec FB68     		ldr	r3, [r7, #12]
 570 03ee BA6C     		ldr	r2, [r7, #72]
 571 03f0 5A60     		str	r2, [r3, #4]
 372:Libraries/uC-OSIII/os_task.c ****     p_tcb->StkBasePtr    = p_stk_base;                      /* Save pointer to the base address of 
 572              		.loc 1 372 0
 573 03f2 FB68     		ldr	r3, [r7, #12]
 574 03f4 7A6B     		ldr	r2, [r7, #52]
 575 03f6 5A62     		str	r2, [r3, #36]
 373:Libraries/uC-OSIII/os_task.c ****     p_tcb->StkSize       = stk_size;                        /* Save the stack size (in number of CP
 576              		.loc 1 373 0
 577 03f8 FB68     		ldr	r3, [r7, #12]
 578 03fa FA6B     		ldr	r2, [r7, #60]
 579 03fc DA67     		str	r2, [r3, #124]
 374:Libraries/uC-OSIII/os_task.c ****     p_tcb->Opt           = opt;                             /* Save task options                   
 580              		.loc 1 374 0
 581 03fe FB68     		ldr	r3, [r7, #12]
 582 0400 B7F84C20 		ldrh	r2, [r7, #76]	@ movhi
 583 0404 A3F88820 		strh	r2, [r3, #136]	@ movhi
 375:Libraries/uC-OSIII/os_task.c **** 
 376:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_REG_TBL_SIZE > 0u
 377:Libraries/uC-OSIII/os_task.c ****     for (reg_nbr = 0u; reg_nbr < OS_CFG_TASK_REG_TBL_SIZE; reg_nbr++) {
 584              		.loc 1 377 0
 585 0408 4FF00003 		mov	r3, #0
 586 040c 7B84     		strh	r3, [r7, #34]	@ movhi
 587 040e 0BE0     		b	.L41
 588              	.L42:
 378:Libraries/uC-OSIII/os_task.c ****         p_tcb->RegTbl[reg_nbr] = (OS_REG)0;
 589              		.loc 1 378 0 discriminator 2
 590 0410 7A8C     		ldrh	r2, [r7, #34]
 591 0412 FB68     		ldr	r3, [r7, #12]
 592 0414 02F11A02 		add	r2, r2, #26
 593 0418 4FF00001 		mov	r1, #0
 594 041c 43F82210 		str	r1, [r3, r2, lsl #2]
 377:Libraries/uC-OSIII/os_task.c ****     for (reg_nbr = 0u; reg_nbr < OS_CFG_TASK_REG_TBL_SIZE; reg_nbr++) {
 595              		.loc 1 377 0 discriminator 2
 596 0420 7B8C     		ldrh	r3, [r7, #34]	@ movhi
 597 0422 03F10103 		add	r3, r3, #1
 598 0426 7B84     		strh	r3, [r7, #34]	@ movhi
 599              	.L41:
 377:Libraries/uC-OSIII/os_task.c ****     for (reg_nbr = 0u; reg_nbr < OS_CFG_TASK_REG_TBL_SIZE; reg_nbr++) {
 600              		.loc 1 377 0 is_stmt 0 discriminator 1
 601 0428 7B8C     		ldrh	r3, [r7, #34]
 602 042a 002B     		cmp	r3, #0
 603 042c F0D0     		beq	.L42
 379:Libraries/uC-OSIII/os_task.c ****     }
 380:Libraries/uC-OSIII/os_task.c **** #endif
 381:Libraries/uC-OSIII/os_task.c **** 
 382:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_Q_EN > 0u
 383:Libraries/uC-OSIII/os_task.c ****     OS_MsgQInit(&p_tcb->MsgQ,                               /* Initialize the task's message queue 
 604              		.loc 1 383 0 is_stmt 1
 605 042e FB68     		ldr	r3, [r7, #12]
 606 0430 03F14402 		add	r2, r3, #68
 607 0434 B7F84030 		ldrh	r3, [r7, #64]
 608 0438 1046     		mov	r0, r2
 609 043a 1946     		mov	r1, r3
 610 043c FFF7FEFF 		bl	OS_MsgQInit
 384:Libraries/uC-OSIII/os_task.c ****                 q_size);
 385:Libraries/uC-OSIII/os_task.c **** #endif
 386:Libraries/uC-OSIII/os_task.c **** 
 387:Libraries/uC-OSIII/os_task.c ****     OSTaskCreateHook(p_tcb);                                /* Call user defined hook              
 611              		.loc 1 387 0
 612 0440 F868     		ldr	r0, [r7, #12]
 613 0442 FFF7FEFF 		bl	OSTaskCreateHook
 388:Libraries/uC-OSIII/os_task.c **** 
 389:Libraries/uC-OSIII/os_task.c ****                                                             /* --------------- ADD TASK TO READY LI
 390:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_ENTER();
 614              		.loc 1 390 0
 615 0446 FFF7FEFF 		bl	CPU_SR_Save
 616 044a B861     		str	r0, [r7, #24]
 617 044c FFF7FEFF 		bl	CPU_IntDisMeasStart
 618 0450 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 619 0454 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 620 0458 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 621 045a 03F10103 		add	r3, r3, #1
 622 045e DAB2     		uxtb	r2, r3
 623 0460 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 624 0464 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 625 0468 1A70     		strb	r2, [r3, #0]
 626 046a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 627 046e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 628 0472 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 629 0474 012B     		cmp	r3, #1
 630 0476 01D1     		bne	.L43
 631              		.loc 1 390 0 is_stmt 0 discriminator 1
 632 0478 FFF7FEFF 		bl	OS_SchedLockTimeMeasStart
 633              	.L43:
 634              		.loc 1 390 0 discriminator 2
 635 047c FFF7FEFF 		bl	CPU_IntDisMeasStop
 636 0480 B869     		ldr	r0, [r7, #24]
 637 0482 FFF7FEFF 		bl	CPU_SR_Restore
 391:Libraries/uC-OSIII/os_task.c ****     OS_PrioInsert(p_tcb->Prio);
 638              		.loc 1 391 0 is_stmt 1 discriminator 2
 639 0486 FB68     		ldr	r3, [r7, #12]
 640 0488 93F8C330 		ldrb	r3, [r3, #195]	@ zero_extendqisi2
 641 048c 1846     		mov	r0, r3
 642 048e FFF7FEFF 		bl	OS_PrioInsert
 392:Libraries/uC-OSIII/os_task.c ****     OS_RdyListInsertTail(p_tcb);
 643              		.loc 1 392 0 discriminator 2
 644 0492 F868     		ldr	r0, [r7, #12]
 645 0494 FFF7FEFF 		bl	OS_RdyListInsertTail
 393:Libraries/uC-OSIII/os_task.c **** 
 394:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_DBG_EN > 0u
 395:Libraries/uC-OSIII/os_task.c ****     OS_TaskDbgListAdd(p_tcb);
 646              		.loc 1 395 0 discriminator 2
 647 0498 F868     		ldr	r0, [r7, #12]
 648 049a FFF7FEFF 		bl	OS_TaskDbgListAdd
 396:Libraries/uC-OSIII/os_task.c **** #endif
 397:Libraries/uC-OSIII/os_task.c **** 
 398:Libraries/uC-OSIII/os_task.c ****     OSTaskQty++;                                            /* Increment the #tasks counter        
 649              		.loc 1 398 0 discriminator 2
 650 049e 40F20003 		movw	r3, #:lower16:OSTaskQty
 651 04a2 C0F20003 		movt	r3, #:upper16:OSTaskQty
 652 04a6 1B88     		ldrh	r3, [r3, #0]
 653 04a8 03F10103 		add	r3, r3, #1
 654 04ac 9AB2     		uxth	r2, r3
 655 04ae 40F20003 		movw	r3, #:lower16:OSTaskQty
 656 04b2 C0F20003 		movt	r3, #:upper16:OSTaskQty
 657 04b6 1A80     		strh	r2, [r3, #0]	@ movhi
 399:Libraries/uC-OSIII/os_task.c **** 
 400:Libraries/uC-OSIII/os_task.c ****     if (OSRunning != OS_STATE_OS_RUNNING) {                 /* Return if multitasking has not start
 658              		.loc 1 400 0 discriminator 2
 659 04b8 40F20003 		movw	r3, #:lower16:OSRunning
 660 04bc C0F20003 		movt	r3, #:upper16:OSRunning
 661 04c0 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 662 04c2 012B     		cmp	r3, #1
 663 04c4 35D0     		beq	.L44
 401:Libraries/uC-OSIII/os_task.c ****         OS_CRITICAL_EXIT();
 664              		.loc 1 401 0
 665 04c6 FFF7FEFF 		bl	CPU_SR_Save
 666 04ca B861     		str	r0, [r7, #24]
 667 04cc FFF7FEFF 		bl	CPU_IntDisMeasStart
 668 04d0 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 669 04d4 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 670 04d8 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 671 04da 03F1FF33 		add	r3, r3, #-1
 672 04de DAB2     		uxtb	r2, r3
 673 04e0 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 674 04e4 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 675 04e8 1A70     		strb	r2, [r3, #0]
 676 04ea 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 677 04ee C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 678 04f2 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 679 04f4 002B     		cmp	r3, #0
 680 04f6 16D1     		bne	.L45
 681              		.loc 1 401 0 is_stmt 0 discriminator 1
 682 04f8 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 683 04fc 40F20003 		movw	r3, #:lower16:OSIntQNbrEntries
 684 0500 C0F20003 		movt	r3, #:upper16:OSIntQNbrEntries
 685 0504 1B88     		ldrh	r3, [r3, #0]
 686 0506 002B     		cmp	r3, #0
 687 0508 07D0     		beq	.L46
 688              		.loc 1 401 0 discriminator 3
 689 050a FFF7FEFF 		bl	CPU_IntDisMeasStop
 690 050e B869     		ldr	r0, [r7, #24]
 691 0510 FFF7FEFF 		bl	CPU_SR_Restore
 692 0514 FFF7FEFF 		bl	OS_Sched0
 402:Libraries/uC-OSIII/os_task.c ****         return;
 693              		.loc 1 402 0 is_stmt 1 discriminator 3
 694 0518 2DE0     		b	.L25
 695              	.L46:
 401:Libraries/uC-OSIII/os_task.c ****         OS_CRITICAL_EXIT();
 696              		.loc 1 401 0 discriminator 4
 697 051a FFF7FEFF 		bl	CPU_IntDisMeasStop
 698 051e B869     		ldr	r0, [r7, #24]
 699 0520 FFF7FEFF 		bl	CPU_SR_Restore
 700              		.loc 1 402 0 discriminator 4
 701 0524 27E0     		b	.L25
 702              	.L45:
 401:Libraries/uC-OSIII/os_task.c ****         OS_CRITICAL_EXIT();
 703              		.loc 1 401 0 discriminator 2
 704 0526 FFF7FEFF 		bl	CPU_IntDisMeasStop
 705 052a B869     		ldr	r0, [r7, #24]
 706 052c FFF7FEFF 		bl	CPU_SR_Restore
 707              		.loc 1 402 0 discriminator 2
 708 0530 21E0     		b	.L25
 709              	.L44:
 403:Libraries/uC-OSIII/os_task.c ****     }
 404:Libraries/uC-OSIII/os_task.c **** 
 405:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_EXIT_NO_SCHED();
 710              		.loc 1 405 0
 711 0532 FFF7FEFF 		bl	CPU_SR_Save
 712 0536 B861     		str	r0, [r7, #24]
 713 0538 FFF7FEFF 		bl	CPU_IntDisMeasStart
 714 053c 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 715 0540 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 716 0544 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 717 0546 03F1FF33 		add	r3, r3, #-1
 718 054a DAB2     		uxtb	r2, r3
 719 054c 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 720 0550 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 721 0554 1A70     		strb	r2, [r3, #0]
 722 0556 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 723 055a C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 724 055e 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 725 0560 002B     		cmp	r3, #0
 726 0562 01D1     		bne	.L48
 727              		.loc 1 405 0 is_stmt 0 discriminator 1
 728 0564 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 729              	.L48:
 730              		.loc 1 405 0 discriminator 2
 731 0568 FFF7FEFF 		bl	CPU_IntDisMeasStop
 732 056c B869     		ldr	r0, [r7, #24]
 733 056e FFF7FEFF 		bl	CPU_SR_Restore
 406:Libraries/uC-OSIII/os_task.c **** 
 407:Libraries/uC-OSIII/os_task.c ****     OSSched();
 734              		.loc 1 407 0 is_stmt 1 discriminator 2
 735 0572 FFF7FEFF 		bl	OSSched
 736              	.L25:
 408:Libraries/uC-OSIII/os_task.c **** }
 737              		.loc 1 408 0
 738 0576 07F12807 		add	r7, r7, #40
 739 057a BD46     		mov	sp, r7
 740 057c 80BD     		pop	{r7, pc}
 741              		.cfi_endproc
 742              	.LFE1:
 744 057e 00BF     		.align	2
 745              		.global	OSTaskDel
 746              		.thumb
 747              		.thumb_func
 749              	OSTaskDel:
 750              	.LFB2:
 409:Libraries/uC-OSIII/os_task.c **** 
 410:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
 411:Libraries/uC-OSIII/os_task.c **** /*
 412:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 413:Libraries/uC-OSIII/os_task.c **** *                                                     DELETE A TASK
 414:Libraries/uC-OSIII/os_task.c **** *
 415:Libraries/uC-OSIII/os_task.c **** * Description: This function allows you to delete a task.  The calling task can delete itself by sp
 416:Libraries/uC-OSIII/os_task.c **** *              pointer for 'p_tcb'.  The deleted task is returned to the dormant state and can be r
 417:Libraries/uC-OSIII/os_task.c **** *              creating the deleted task again.
 418:Libraries/uC-OSIII/os_task.c **** *
 419:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb      is the TCB of the tack to delete
 420:Libraries/uC-OSIII/os_task.c **** *
 421:Libraries/uC-OSIII/os_task.c **** *              p_err      is a pointer to an error code returned by this function:
 422:Libraries/uC-OSIII/os_task.c **** *
 423:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_NONE                  if the call is successful
 424:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_STATE_INVALID         if the state of the task is invalid
 425:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_TASK_DEL_IDLE         if you attempted to delete uC/OS-III's i
 426:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_TASK_DEL_INVALID      if you attempted to delete uC/OS-III's I
 427:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_TASK_DEL_ISR          if you tried to delete a task from an IS
 428:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 429:Libraries/uC-OSIII/os_task.c **** */
 430:Libraries/uC-OSIII/os_task.c **** 
 431:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_DEL_EN > 0u
 432:Libraries/uC-OSIII/os_task.c **** void  OSTaskDel (OS_TCB  *p_tcb,
 433:Libraries/uC-OSIII/os_task.c ****                  OS_ERR  *p_err)
 434:Libraries/uC-OSIII/os_task.c **** {
 751              		.loc 1 434 0
 752              		.cfi_startproc
 753              		@ args = 0, pretend = 0, frame = 16
 754              		@ frame_needed = 1, uses_anonymous_args = 0
 755 0580 80B5     		push	{r7, lr}
 756              	.LCFI6:
 757              		.cfi_def_cfa_offset 8
 758              		.cfi_offset 14, -4
 759              		.cfi_offset 7, -8
 760 0582 84B0     		sub	sp, sp, #16
 761              	.LCFI7:
 762              		.cfi_def_cfa_offset 24
 763 0584 00AF     		add	r7, sp, #0
 764              	.LCFI8:
 765              		.cfi_def_cfa_register 7
 766 0586 7860     		str	r0, [r7, #4]
 767 0588 3960     		str	r1, [r7, #0]
 435:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 768              		.loc 1 435 0
 769 058a 4FF00003 		mov	r3, #0
 770 058e FB60     		str	r3, [r7, #12]
 436:Libraries/uC-OSIII/os_task.c **** 
 437:Libraries/uC-OSIII/os_task.c **** 
 438:Libraries/uC-OSIII/os_task.c **** 
 439:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
 440:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
 441:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 442:Libraries/uC-OSIII/os_task.c ****     }
 443:Libraries/uC-OSIII/os_task.c **** #endif
 444:Libraries/uC-OSIII/os_task.c **** 
 445:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u
 446:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* See if trying to delete from ISR    
 771              		.loc 1 446 0
 772 0590 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 773 0594 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 774 0598 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 775 059a 002B     		cmp	r3, #0
 776 059c 04D0     		beq	.L50
 447:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_TASK_DEL_ISR;
 777              		.loc 1 447 0
 778 059e 3B68     		ldr	r3, [r7, #0]
 779 05a0 47F24E12 		movw	r2, #29006
 780 05a4 1A80     		strh	r2, [r3, #0]	@ movhi
 448:Libraries/uC-OSIII/os_task.c ****         return;
 781              		.loc 1 448 0
 782 05a6 09E1     		b	.L49
 783              	.L50:
 449:Libraries/uC-OSIII/os_task.c ****     }
 450:Libraries/uC-OSIII/os_task.c **** #endif
 451:Libraries/uC-OSIII/os_task.c **** 
 452:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == &OSIdleTaskTCB) {                          /* Not allowed to delete the idle task 
 784              		.loc 1 452 0
 785 05a8 7A68     		ldr	r2, [r7, #4]
 786 05aa 40F20003 		movw	r3, #:lower16:OSIdleTaskTCB
 787 05ae C0F20003 		movt	r3, #:upper16:OSIdleTaskTCB
 788 05b2 9A42     		cmp	r2, r3
 789 05b4 04D1     		bne	.L52
 453:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_TASK_DEL_IDLE;
 790              		.loc 1 453 0
 791 05b6 3B68     		ldr	r3, [r7, #0]
 792 05b8 47F24C12 		movw	r2, #29004
 793 05bc 1A80     		strh	r2, [r3, #0]	@ movhi
 454:Libraries/uC-OSIII/os_task.c ****         return;
 794              		.loc 1 454 0
 795 05be FDE0     		b	.L49
 796              	.L52:
 455:Libraries/uC-OSIII/os_task.c ****     }
 456:Libraries/uC-OSIII/os_task.c **** 
 457:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_ISR_POST_DEFERRED_EN > 0u
 458:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == &OSIntQTaskTCB) {                          /* Cannot delete the ISR handler task  
 797              		.loc 1 458 0
 798 05c0 7A68     		ldr	r2, [r7, #4]
 799 05c2 40F20003 		movw	r3, #:lower16:OSIntQTaskTCB
 800 05c6 C0F20003 		movt	r3, #:upper16:OSIntQTaskTCB
 801 05ca 9A42     		cmp	r2, r3
 802 05cc 04D1     		bne	.L53
 459:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_TASK_DEL_INVALID;
 803              		.loc 1 459 0
 804 05ce 3B68     		ldr	r3, [r7, #0]
 805 05d0 47F24D12 		movw	r2, #29005
 806 05d4 1A80     		strh	r2, [r3, #0]	@ movhi
 460:Libraries/uC-OSIII/os_task.c ****         return;
 807              		.loc 1 460 0
 808 05d6 F1E0     		b	.L49
 809              	.L53:
 461:Libraries/uC-OSIII/os_task.c ****     }
 462:Libraries/uC-OSIII/os_task.c **** #endif
 463:Libraries/uC-OSIII/os_task.c **** 
 464:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                             /* Delete 'Self'?                      
 810              		.loc 1 464 0
 811 05d8 7B68     		ldr	r3, [r7, #4]
 812 05da 002B     		cmp	r3, #0
 813 05dc 0FD1     		bne	.L54
 465:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_ENTER();
 814              		.loc 1 465 0
 815 05de FFF7FEFF 		bl	CPU_SR_Save
 816 05e2 F860     		str	r0, [r7, #12]
 817 05e4 FFF7FEFF 		bl	CPU_IntDisMeasStart
 466:Libraries/uC-OSIII/os_task.c ****         p_tcb  = OSTCBCurPtr;                               /* Yes.                                
 818              		.loc 1 466 0
 819 05e8 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 820 05ec C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 821 05f0 1B68     		ldr	r3, [r3, #0]
 822 05f2 7B60     		str	r3, [r7, #4]
 467:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_EXIT();
 823              		.loc 1 467 0
 824 05f4 FFF7FEFF 		bl	CPU_IntDisMeasStop
 825 05f8 F868     		ldr	r0, [r7, #12]
 826 05fa FFF7FEFF 		bl	CPU_SR_Restore
 827              	.L54:
 468:Libraries/uC-OSIII/os_task.c ****     }
 469:Libraries/uC-OSIII/os_task.c **** 
 470:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_ENTER();
 828              		.loc 1 470 0
 829 05fe FFF7FEFF 		bl	CPU_SR_Save
 830 0602 F860     		str	r0, [r7, #12]
 831 0604 FFF7FEFF 		bl	CPU_IntDisMeasStart
 832 0608 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 833 060c C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 834 0610 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 835 0612 03F10103 		add	r3, r3, #1
 836 0616 DAB2     		uxtb	r2, r3
 837 0618 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 838 061c C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 839 0620 1A70     		strb	r2, [r3, #0]
 840 0622 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 841 0626 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 842 062a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 843 062c 012B     		cmp	r3, #1
 844 062e 01D1     		bne	.L55
 845              		.loc 1 470 0 is_stmt 0 discriminator 1
 846 0630 FFF7FEFF 		bl	OS_SchedLockTimeMeasStart
 847              	.L55:
 848              		.loc 1 470 0 discriminator 2
 849 0634 FFF7FEFF 		bl	CPU_IntDisMeasStop
 850 0638 F868     		ldr	r0, [r7, #12]
 851 063a FFF7FEFF 		bl	CPU_SR_Restore
 471:Libraries/uC-OSIII/os_task.c ****     switch (p_tcb->TaskState) {
 852              		.loc 1 471 0 is_stmt 1 discriminator 2
 853 063e 7B68     		ldr	r3, [r7, #4]
 854 0640 93F8C230 		ldrb	r3, [r3, #194]	@ zero_extendqisi2
 855 0644 072B     		cmp	r3, #7
 856 0646 37D8     		bhi	.L56
 857 0648 01A2     		adr	r2, .L61
 858 064a 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 859 064e 00BF     		.align	2
 860              	.L61:
 861 0650 71060000 		.word	.L57+1
 862 0654 79060000 		.word	.L58+1
 863 0658 81060000 		.word	.L59+1
 864 065c 81060000 		.word	.L59+1
 865 0660 2D070000 		.word	.L72+1
 866 0664 79060000 		.word	.L58+1
 867 0668 81060000 		.word	.L59+1
 868 066c 81060000 		.word	.L59+1
 869              	.L57:
 472:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_RDY:
 473:Libraries/uC-OSIII/os_task.c ****              OS_RdyListRemove(p_tcb);
 870              		.loc 1 473 0
 871 0670 7868     		ldr	r0, [r7, #4]
 872 0672 FFF7FEFF 		bl	OS_RdyListRemove
 474:Libraries/uC-OSIII/os_task.c ****              break;
 873              		.loc 1 474 0
 874 0676 5AE0     		b	.L62
 875              	.L58:
 475:Libraries/uC-OSIII/os_task.c **** 
 476:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_SUSPENDED:
 477:Libraries/uC-OSIII/os_task.c ****              break;
 478:Libraries/uC-OSIII/os_task.c **** 
 479:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_DLY:                             /* Task is only delayed, not on any wai
 480:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_DLY_SUSPENDED:
 481:Libraries/uC-OSIII/os_task.c ****              OS_TickListRemove(p_tcb);
 876              		.loc 1 481 0
 877 0678 7868     		ldr	r0, [r7, #4]
 878 067a FFF7FEFF 		bl	OS_TickListRemove
 482:Libraries/uC-OSIII/os_task.c ****              break;
 879              		.loc 1 482 0
 880 067e 56E0     		b	.L62
 881              	.L59:
 483:Libraries/uC-OSIII/os_task.c **** 
 484:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND:
 485:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
 486:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
 487:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
 488:Libraries/uC-OSIII/os_task.c ****              OS_TickListRemove(p_tcb);
 882              		.loc 1 488 0
 883 0680 7868     		ldr	r0, [r7, #4]
 884 0682 FFF7FEFF 		bl	OS_TickListRemove
 489:Libraries/uC-OSIII/os_task.c ****              switch (p_tcb->PendOn) {                       /* See what we are pending on          
 885              		.loc 1 489 0
 886 0686 7B68     		ldr	r3, [r7, #4]
 887 0688 93F8C030 		ldrb	r3, [r3, #192]	@ zero_extendqisi2
 888 068c 072B     		cmp	r3, #7
 889 068e 0FD8     		bhi	.L73
 890 0690 4FF02142 		mov	r2, #-1593835520
 891 0694 02FA03F2 		lsl	r2, r2, r3
 892 0698 002A     		cmp	r2, #0
 893 069a 0BDB     		blt	.L74
 894 069c 4FF0BC42 		mov	r2, #1577058304
 895 06a0 02FA03F3 		lsl	r3, r2, r3
 896 06a4 002B     		cmp	r3, #0
 897 06a6 03DA     		bge	.L71
 898              	.L65:
 490:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_NOTHING:
 491:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_TASK_Q:               /* There is no wait list for these two 
 492:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_TASK_SEM:
 493:Libraries/uC-OSIII/os_task.c ****                       break;
 494:Libraries/uC-OSIII/os_task.c **** 
 495:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_FLAG:                 /* Remove from wait list               
 496:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_MULTI:
 497:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_MUTEX:
 498:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_Q:
 499:Libraries/uC-OSIII/os_task.c ****                  case OS_TASK_PEND_ON_SEM:
 500:Libraries/uC-OSIII/os_task.c ****                       OS_PendListRemove(p_tcb);
 899              		.loc 1 500 0
 900 06a8 7868     		ldr	r0, [r7, #4]
 901 06aa FFF7FEFF 		bl	OS_PendListRemove
 501:Libraries/uC-OSIII/os_task.c ****                       break;
 902              		.loc 1 501 0
 903 06ae 02E0     		b	.L66
 904              	.L71:
 905              	.L73:
 502:Libraries/uC-OSIII/os_task.c **** 
 503:Libraries/uC-OSIII/os_task.c ****                  default:
 504:Libraries/uC-OSIII/os_task.c ****                       break;
 906              		.loc 1 504 0
 907 06b0 00BF     		nop
 908 06b2 00E0     		b	.L66
 909              	.L74:
 493:Libraries/uC-OSIII/os_task.c ****                       break;
 910              		.loc 1 493 0
 911 06b4 00BF     		nop
 912              	.L66:
 505:Libraries/uC-OSIII/os_task.c ****              }
 506:Libraries/uC-OSIII/os_task.c ****              break;
 913              		.loc 1 506 0
 914 06b6 3AE0     		b	.L62
 915              	.L56:
 507:Libraries/uC-OSIII/os_task.c **** 
 508:Libraries/uC-OSIII/os_task.c ****         default:
 509:Libraries/uC-OSIII/os_task.c ****             OS_CRITICAL_EXIT();
 916              		.loc 1 509 0
 917 06b8 FFF7FEFF 		bl	CPU_SR_Save
 918 06bc F860     		str	r0, [r7, #12]
 919 06be FFF7FEFF 		bl	CPU_IntDisMeasStart
 920 06c2 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 921 06c6 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 922 06ca 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 923 06cc 03F1FF33 		add	r3, r3, #-1
 924 06d0 DAB2     		uxtb	r2, r3
 925 06d2 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 926 06d6 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 927 06da 1A70     		strb	r2, [r3, #0]
 928 06dc 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 929 06e0 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 930 06e4 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 931 06e6 002B     		cmp	r3, #0
 932 06e8 16D1     		bne	.L67
 933              		.loc 1 509 0 is_stmt 0 discriminator 1
 934 06ea FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 935 06ee 40F20003 		movw	r3, #:lower16:OSIntQNbrEntries
 936 06f2 C0F20003 		movt	r3, #:upper16:OSIntQNbrEntries
 937 06f6 1B88     		ldrh	r3, [r3, #0]
 938 06f8 002B     		cmp	r3, #0
 939 06fa 07D0     		beq	.L68
 940              		.loc 1 509 0 discriminator 3
 941 06fc FFF7FEFF 		bl	CPU_IntDisMeasStop
 942 0700 F868     		ldr	r0, [r7, #12]
 943 0702 FFF7FEFF 		bl	CPU_SR_Restore
 944 0706 FFF7FEFF 		bl	OS_Sched0
 945 070a 0AE0     		b	.L69
 946              	.L68:
 947              		.loc 1 509 0 discriminator 4
 948 070c FFF7FEFF 		bl	CPU_IntDisMeasStop
 949 0710 F868     		ldr	r0, [r7, #12]
 950 0712 FFF7FEFF 		bl	CPU_SR_Restore
 951 0716 04E0     		b	.L69
 952              	.L67:
 953              		.loc 1 509 0 discriminator 2
 954 0718 FFF7FEFF 		bl	CPU_IntDisMeasStop
 955 071c F868     		ldr	r0, [r7, #12]
 956 071e FFF7FEFF 		bl	CPU_SR_Restore
 957              	.L69:
 510:Libraries/uC-OSIII/os_task.c ****             *p_err = OS_ERR_STATE_INVALID;
 958              		.loc 1 510 0 is_stmt 1
 959 0722 3B68     		ldr	r3, [r7, #0]
 960 0724 46F62A62 		movw	r2, #28202
 961 0728 1A80     		strh	r2, [r3, #0]	@ movhi
 511:Libraries/uC-OSIII/os_task.c ****             return;
 962              		.loc 1 511 0
 963 072a 47E0     		b	.L49
 964              	.L72:
 477:Libraries/uC-OSIII/os_task.c ****              break;
 965              		.loc 1 477 0
 966 072c 00BF     		nop
 967              	.L62:
 512:Libraries/uC-OSIII/os_task.c ****     }
 513:Libraries/uC-OSIII/os_task.c **** 
 514:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_Q_EN > 0u
 515:Libraries/uC-OSIII/os_task.c ****     (void)OS_MsgQFreeAll(&p_tcb->MsgQ);                     /* Free task's message queue messages  
 968              		.loc 1 515 0
 969 072e 7B68     		ldr	r3, [r7, #4]
 970 0730 03F14403 		add	r3, r3, #68
 971 0734 1846     		mov	r0, r3
 972 0736 FFF7FEFF 		bl	OS_MsgQFreeAll
 516:Libraries/uC-OSIII/os_task.c **** #endif
 517:Libraries/uC-OSIII/os_task.c **** 
 518:Libraries/uC-OSIII/os_task.c ****     OSTaskDelHook(p_tcb);                                   /* Call user defined hook              
 973              		.loc 1 518 0
 974 073a 7868     		ldr	r0, [r7, #4]
 975 073c FFF7FEFF 		bl	OSTaskDelHook
 519:Libraries/uC-OSIII/os_task.c **** 
 520:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_DBG_EN > 0u
 521:Libraries/uC-OSIII/os_task.c ****     OS_TaskDbgListRemove(p_tcb);
 976              		.loc 1 521 0
 977 0740 7868     		ldr	r0, [r7, #4]
 978 0742 FFF7FEFF 		bl	OS_TaskDbgListRemove
 522:Libraries/uC-OSIII/os_task.c **** #endif
 523:Libraries/uC-OSIII/os_task.c ****     OSTaskQty--;                                            /* One less task being managed         
 979              		.loc 1 523 0
 980 0746 40F20003 		movw	r3, #:lower16:OSTaskQty
 981 074a C0F20003 		movt	r3, #:upper16:OSTaskQty
 982 074e 1B88     		ldrh	r3, [r3, #0]
 983 0750 03F1FF33 		add	r3, r3, #-1
 984 0754 9AB2     		uxth	r2, r3
 985 0756 40F20003 		movw	r3, #:lower16:OSTaskQty
 986 075a C0F20003 		movt	r3, #:upper16:OSTaskQty
 987 075e 1A80     		strh	r2, [r3, #0]	@ movhi
 524:Libraries/uC-OSIII/os_task.c **** 
 525:Libraries/uC-OSIII/os_task.c ****     OS_TaskInitTCB(p_tcb);                                  /* Initialize the TCB to default values
 988              		.loc 1 525 0
 989 0760 7868     		ldr	r0, [r7, #4]
 990 0762 FFF7FEFF 		bl	OS_TaskInitTCB
 526:Libraries/uC-OSIII/os_task.c ****     p_tcb->TaskState = (OS_STATE)OS_TASK_STATE_DEL;         /* Indicate that the task was deleted  
 991              		.loc 1 526 0
 992 0766 7B68     		ldr	r3, [r7, #4]
 993 0768 4FF0FF02 		mov	r2, #255
 994 076c 83F8C220 		strb	r2, [r3, #194]
 527:Libraries/uC-OSIII/os_task.c **** 
 528:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_EXIT_NO_SCHED();
 995              		.loc 1 528 0
 996 0770 FFF7FEFF 		bl	CPU_SR_Save
 997 0774 F860     		str	r0, [r7, #12]
 998 0776 FFF7FEFF 		bl	CPU_IntDisMeasStart
 999 077a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1000 077e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1001 0782 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1002 0784 03F1FF33 		add	r3, r3, #-1
 1003 0788 DAB2     		uxtb	r2, r3
 1004 078a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1005 078e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1006 0792 1A70     		strb	r2, [r3, #0]
 1007 0794 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1008 0798 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1009 079c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1010 079e 002B     		cmp	r3, #0
 1011 07a0 01D1     		bne	.L70
 1012              		.loc 1 528 0 is_stmt 0 discriminator 1
 1013 07a2 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 1014              	.L70:
 1015              		.loc 1 528 0 discriminator 2
 1016 07a6 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1017 07aa F868     		ldr	r0, [r7, #12]
 1018 07ac FFF7FEFF 		bl	CPU_SR_Restore
 529:Libraries/uC-OSIII/os_task.c ****     OSSched();                                              /* Find new highest priority task      
 1019              		.loc 1 529 0 is_stmt 1 discriminator 2
 1020 07b0 FFF7FEFF 		bl	OSSched
 530:Libraries/uC-OSIII/os_task.c **** 
 531:Libraries/uC-OSIII/os_task.c ****     *p_err = OS_ERR_NONE;
 1021              		.loc 1 531 0 discriminator 2
 1022 07b4 3B68     		ldr	r3, [r7, #0]
 1023 07b6 4FF00002 		mov	r2, #0
 1024 07ba 1A80     		strh	r2, [r3, #0]	@ movhi
 1025              	.L49:
 532:Libraries/uC-OSIII/os_task.c **** }
 1026              		.loc 1 532 0
 1027 07bc 07F11007 		add	r7, r7, #16
 1028 07c0 BD46     		mov	sp, r7
 1029 07c2 80BD     		pop	{r7, pc}
 1030              		.cfi_endproc
 1031              	.LFE2:
 1033              		.align	2
 1034              		.global	OSTaskQFlush
 1035              		.thumb
 1036              		.thumb_func
 1038              	OSTaskQFlush:
 1039              	.LFB3:
 533:Libraries/uC-OSIII/os_task.c **** #endif
 534:Libraries/uC-OSIII/os_task.c **** 
 535:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
 536:Libraries/uC-OSIII/os_task.c **** /*
 537:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 538:Libraries/uC-OSIII/os_task.c **** *                                                    FLUSH TASK's QUEUE
 539:Libraries/uC-OSIII/os_task.c **** *
 540:Libraries/uC-OSIII/os_task.c **** * Description: This function is used to flush the task's internal message queue.
 541:Libraries/uC-OSIII/os_task.c **** *
 542:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb       is a pointer to the task's OS_TCB.  Specifying a NULL pointer indicates 
 543:Libraries/uC-OSIII/os_task.c **** *                          flush the message queue of the calling task.
 544:Libraries/uC-OSIII/os_task.c **** *
 545:Libraries/uC-OSIII/os_task.c **** *              p_err       is a pointer to a variable that will contain an error code returned by t
 546:Libraries/uC-OSIII/os_task.c **** *
 547:Libraries/uC-OSIII/os_task.c **** *                              OS_ERR_NONE           upon success
 548:Libraries/uC-OSIII/os_task.c **** *                              OS_ERR_FLUSH_ISR      if you called this function from an ISR
 549:Libraries/uC-OSIII/os_task.c **** *
 550:Libraries/uC-OSIII/os_task.c **** * Returns     : The number of entries freed from the queue
 551:Libraries/uC-OSIII/os_task.c **** *
 552:Libraries/uC-OSIII/os_task.c **** * Note(s)     : 1) You should use this function with great care because, when to flush the queue, y
 553:Libraries/uC-OSIII/os_task.c **** *                  references to what the queue entries are pointing to and thus, you could cause '
 554:Libraries/uC-OSIII/os_task.c **** *                  other words, the data you are pointing to that's being referenced by the queue e
 555:Libraries/uC-OSIII/os_task.c **** *                  likely, need to be de-allocated (i.e. freed).
 556:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 557:Libraries/uC-OSIII/os_task.c **** */
 558:Libraries/uC-OSIII/os_task.c **** 
 559:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_Q_EN > 0u
 560:Libraries/uC-OSIII/os_task.c **** OS_MSG_QTY  OSTaskQFlush (OS_TCB  *p_tcb,
 561:Libraries/uC-OSIII/os_task.c ****                           OS_ERR  *p_err)
 562:Libraries/uC-OSIII/os_task.c **** {
 1040              		.loc 1 562 0
 1041              		.cfi_startproc
 1042              		@ args = 0, pretend = 0, frame = 16
 1043              		@ frame_needed = 1, uses_anonymous_args = 0
 1044 07c4 80B5     		push	{r7, lr}
 1045              	.LCFI9:
 1046              		.cfi_def_cfa_offset 8
 1047              		.cfi_offset 14, -4
 1048              		.cfi_offset 7, -8
 1049 07c6 84B0     		sub	sp, sp, #16
 1050              	.LCFI10:
 1051              		.cfi_def_cfa_offset 24
 1052 07c8 00AF     		add	r7, sp, #0
 1053              	.LCFI11:
 1054              		.cfi_def_cfa_register 7
 1055 07ca 7860     		str	r0, [r7, #4]
 1056 07cc 3960     		str	r1, [r7, #0]
 563:Libraries/uC-OSIII/os_task.c ****     OS_MSG_QTY  entries;
 564:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 1057              		.loc 1 564 0
 1058 07ce 4FF00003 		mov	r3, #0
 1059 07d2 FB60     		str	r3, [r7, #12]
 565:Libraries/uC-OSIII/os_task.c **** 
 566:Libraries/uC-OSIII/os_task.c **** 
 567:Libraries/uC-OSIII/os_task.c **** 
 568:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
 569:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
 570:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 571:Libraries/uC-OSIII/os_task.c ****     }
 572:Libraries/uC-OSIII/os_task.c **** #endif
 573:Libraries/uC-OSIII/os_task.c **** 
 574:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u
 575:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* Can't flush a message queue from an 
 1060              		.loc 1 575 0
 1061 07d4 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 1062 07d8 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 1063 07dc 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1064 07de 002B     		cmp	r3, #0
 1065 07e0 06D0     		beq	.L76
 576:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_FLUSH_ISR;
 1066              		.loc 1 576 0
 1067 07e2 3B68     		ldr	r3, [r7, #0]
 1068 07e4 4FF46C52 		mov	r2, #15104
 1069 07e8 1A80     		strh	r2, [r3, #0]	@ movhi
 577:Libraries/uC-OSIII/os_task.c ****         return ((OS_MSG_QTY)0);
 1070              		.loc 1 577 0
 1071 07ea 4FF00003 		mov	r3, #0
 1072 07ee 74E0     		b	.L77
 1073              	.L76:
 578:Libraries/uC-OSIII/os_task.c ****     }
 579:Libraries/uC-OSIII/os_task.c **** #endif
 580:Libraries/uC-OSIII/os_task.c **** 
 581:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                             /* Flush message queue of calling task?
 1074              		.loc 1 581 0
 1075 07f0 7B68     		ldr	r3, [r7, #4]
 1076 07f2 002B     		cmp	r3, #0
 1077 07f4 0FD1     		bne	.L78
 582:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_ENTER();
 1078              		.loc 1 582 0
 1079 07f6 FFF7FEFF 		bl	CPU_SR_Save
 1080 07fa F860     		str	r0, [r7, #12]
 1081 07fc FFF7FEFF 		bl	CPU_IntDisMeasStart
 583:Libraries/uC-OSIII/os_task.c ****         p_tcb = OSTCBCurPtr;
 1082              		.loc 1 583 0
 1083 0800 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1084 0804 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1085 0808 1B68     		ldr	r3, [r3, #0]
 1086 080a 7B60     		str	r3, [r7, #4]
 584:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_EXIT();
 1087              		.loc 1 584 0
 1088 080c FFF7FEFF 		bl	CPU_IntDisMeasStop
 1089 0810 F868     		ldr	r0, [r7, #12]
 1090 0812 FFF7FEFF 		bl	CPU_SR_Restore
 1091              	.L78:
 585:Libraries/uC-OSIII/os_task.c ****     }
 586:Libraries/uC-OSIII/os_task.c **** 
 587:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_ENTER();
 1092              		.loc 1 587 0
 1093 0816 FFF7FEFF 		bl	CPU_SR_Save
 1094 081a F860     		str	r0, [r7, #12]
 1095 081c FFF7FEFF 		bl	CPU_IntDisMeasStart
 1096 0820 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1097 0824 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1098 0828 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1099 082a 03F10103 		add	r3, r3, #1
 1100 082e DAB2     		uxtb	r2, r3
 1101 0830 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1102 0834 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1103 0838 1A70     		strb	r2, [r3, #0]
 1104 083a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1105 083e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1106 0842 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1107 0844 012B     		cmp	r3, #1
 1108 0846 01D1     		bne	.L79
 1109              		.loc 1 587 0 is_stmt 0 discriminator 1
 1110 0848 FFF7FEFF 		bl	OS_SchedLockTimeMeasStart
 1111              	.L79:
 1112              		.loc 1 587 0 discriminator 2
 1113 084c FFF7FEFF 		bl	CPU_IntDisMeasStop
 1114 0850 F868     		ldr	r0, [r7, #12]
 1115 0852 FFF7FEFF 		bl	CPU_SR_Restore
 588:Libraries/uC-OSIII/os_task.c ****     entries = OS_MsgQFreeAll(&p_tcb->MsgQ);                 /* Return all OS_MSGs to the OS_MSG poo
 1116              		.loc 1 588 0 is_stmt 1 discriminator 2
 1117 0856 7B68     		ldr	r3, [r7, #4]
 1118 0858 03F14403 		add	r3, r3, #68
 1119 085c 1846     		mov	r0, r3
 1120 085e FFF7FEFF 		bl	OS_MsgQFreeAll
 1121 0862 0346     		mov	r3, r0
 1122 0864 7B81     		strh	r3, [r7, #10]	@ movhi
 589:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_EXIT();
 1123              		.loc 1 589 0 discriminator 2
 1124 0866 FFF7FEFF 		bl	CPU_SR_Save
 1125 086a F860     		str	r0, [r7, #12]
 1126 086c FFF7FEFF 		bl	CPU_IntDisMeasStart
 1127 0870 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1128 0874 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1129 0878 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1130 087a 03F1FF33 		add	r3, r3, #-1
 1131 087e DAB2     		uxtb	r2, r3
 1132 0880 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1133 0884 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1134 0888 1A70     		strb	r2, [r3, #0]
 1135 088a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1136 088e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1137 0892 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1138 0894 002B     		cmp	r3, #0
 1139 0896 16D1     		bne	.L80
 1140              		.loc 1 589 0 is_stmt 0 discriminator 1
 1141 0898 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 1142 089c 40F20003 		movw	r3, #:lower16:OSIntQNbrEntries
 1143 08a0 C0F20003 		movt	r3, #:upper16:OSIntQNbrEntries
 1144 08a4 1B88     		ldrh	r3, [r3, #0]
 1145 08a6 002B     		cmp	r3, #0
 1146 08a8 07D0     		beq	.L81
 1147              		.loc 1 589 0 discriminator 3
 1148 08aa FFF7FEFF 		bl	CPU_IntDisMeasStop
 1149 08ae F868     		ldr	r0, [r7, #12]
 1150 08b0 FFF7FEFF 		bl	CPU_SR_Restore
 1151 08b4 FFF7FEFF 		bl	OS_Sched0
 1152 08b8 0AE0     		b	.L82
 1153              	.L81:
 1154              		.loc 1 589 0 discriminator 4
 1155 08ba FFF7FEFF 		bl	CPU_IntDisMeasStop
 1156 08be F868     		ldr	r0, [r7, #12]
 1157 08c0 FFF7FEFF 		bl	CPU_SR_Restore
 1158 08c4 04E0     		b	.L82
 1159              	.L80:
 1160              		.loc 1 589 0 discriminator 2
 1161 08c6 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1162 08ca F868     		ldr	r0, [r7, #12]
 1163 08cc FFF7FEFF 		bl	CPU_SR_Restore
 1164              	.L82:
 590:Libraries/uC-OSIII/os_task.c ****     *p_err  = OS_ERR_NONE;
 1165              		.loc 1 590 0 is_stmt 1
 1166 08d0 3B68     		ldr	r3, [r7, #0]
 1167 08d2 4FF00002 		mov	r2, #0
 1168 08d6 1A80     		strh	r2, [r3, #0]	@ movhi
 591:Libraries/uC-OSIII/os_task.c ****     return (entries);
 1169              		.loc 1 591 0
 1170 08d8 7B89     		ldrh	r3, [r7, #10]
 1171              	.L77:
 592:Libraries/uC-OSIII/os_task.c **** }
 1172              		.loc 1 592 0
 1173 08da 1846     		mov	r0, r3
 1174 08dc 07F11007 		add	r7, r7, #16
 1175 08e0 BD46     		mov	sp, r7
 1176 08e2 80BD     		pop	{r7, pc}
 1177              		.cfi_endproc
 1178              	.LFE3:
 1180              		.align	2
 1181              		.global	OSTaskQPend
 1182              		.thumb
 1183              		.thumb_func
 1185              	OSTaskQPend:
 1186              	.LFB4:
 593:Libraries/uC-OSIII/os_task.c **** #endif
 594:Libraries/uC-OSIII/os_task.c **** 
 595:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
 596:Libraries/uC-OSIII/os_task.c **** /*
 597:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 598:Libraries/uC-OSIII/os_task.c **** *                                                  WAIT FOR A MESSAGE
 599:Libraries/uC-OSIII/os_task.c **** *
 600:Libraries/uC-OSIII/os_task.c **** * Description: This function causes the current task to wait for a message to be posted to it.
 601:Libraries/uC-OSIII/os_task.c **** *
 602:Libraries/uC-OSIII/os_task.c **** * Arguments  : timeout       is an optional timeout period (in clock ticks).  If non-zero, your tas
 603:Libraries/uC-OSIII/os_task.c **** *                            message to arrive up to the amount of time specified by this argument.
 604:Libraries/uC-OSIII/os_task.c **** *                            If you specify 0, however, your task will wait forever or, until a mes
 605:Libraries/uC-OSIII/os_task.c **** *
 606:Libraries/uC-OSIII/os_task.c **** *              opt           determines whether the user wants to block if the task's queue is empt
 607:Libraries/uC-OSIII/os_task.c **** *
 608:Libraries/uC-OSIII/os_task.c **** *                                OS_OPT_PEND_BLOCKING
 609:Libraries/uC-OSIII/os_task.c **** *                                OS_OPT_PEND_NON_BLOCKING
 610:Libraries/uC-OSIII/os_task.c **** *
 611:Libraries/uC-OSIII/os_task.c **** *              p_msg_size    is a pointer to a variable that will receive the size of the message
 612:Libraries/uC-OSIII/os_task.c **** *
 613:Libraries/uC-OSIII/os_task.c **** *              p_ts          is a pointer to a variable that will receive the timestamp of when the
 614:Libraries/uC-OSIII/os_task.c **** *                            received.  If you pass a NULL pointer (i.e. (CPU_TS *)0) then you will
 615:Libraries/uC-OSIII/os_task.c **** *                            timestamp.  In other words, passing a NULL pointer is valid and indica
 616:Libraries/uC-OSIII/os_task.c **** *                            need the timestamp.
 617:Libraries/uC-OSIII/os_task.c **** *
 618:Libraries/uC-OSIII/os_task.c **** *              p_err         is a pointer to where an error message will be deposited.  Possible er
 619:Libraries/uC-OSIII/os_task.c **** *                            messages are:
 620:Libraries/uC-OSIII/os_task.c **** *
 621:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_NONE               The call was successful and your task re
 622:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_PEND_ABORT
 623:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_PEND_ISR           If you called this function from an ISR 
 624:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_PEND_WOULD_BLOCK   If you specified non-blocking but the qu
 625:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_Q_EMPTY
 626:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_SCHED_LOCKED       If the scheduler is locked
 627:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_TIMEOUT            A message was not received within the sp
 628:Libraries/uC-OSIII/os_task.c **** *                                                          would lead to a suspension.
 629:Libraries/uC-OSIII/os_task.c **** *
 630:Libraries/uC-OSIII/os_task.c **** * Returns    : A pointer to the message received or a NULL pointer upon error.
 631:Libraries/uC-OSIII/os_task.c **** *
 632:Libraries/uC-OSIII/os_task.c **** * Note(s)    : 1) It is possible to receive NULL pointers when there are no errors.
 633:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 634:Libraries/uC-OSIII/os_task.c **** */
 635:Libraries/uC-OSIII/os_task.c **** 
 636:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_Q_EN > 0u
 637:Libraries/uC-OSIII/os_task.c **** void  *OSTaskQPend (OS_TICK        timeout,
 638:Libraries/uC-OSIII/os_task.c ****                     OS_OPT         opt,
 639:Libraries/uC-OSIII/os_task.c ****                     OS_MSG_SIZE   *p_msg_size,
 640:Libraries/uC-OSIII/os_task.c ****                     CPU_TS        *p_ts,
 641:Libraries/uC-OSIII/os_task.c ****                     OS_ERR        *p_err)
 642:Libraries/uC-OSIII/os_task.c **** {
 1187              		.loc 1 642 0
 1188              		.cfi_startproc
 1189              		@ args = 4, pretend = 0, frame = 32
 1190              		@ frame_needed = 1, uses_anonymous_args = 0
 1191 08e4 90B5     		push	{r4, r7, lr}
 1192              	.LCFI12:
 1193              		.cfi_def_cfa_offset 12
 1194              		.cfi_offset 14, -4
 1195              		.cfi_offset 7, -8
 1196              		.cfi_offset 4, -12
 1197 08e6 89B0     		sub	sp, sp, #36
 1198              	.LCFI13:
 1199              		.cfi_def_cfa_offset 48
 1200 08e8 00AF     		add	r7, sp, #0
 1201              	.LCFI14:
 1202              		.cfi_def_cfa_register 7
 1203 08ea F860     		str	r0, [r7, #12]
 1204 08ec 7A60     		str	r2, [r7, #4]
 1205 08ee 3B60     		str	r3, [r7, #0]
 1206 08f0 0B46     		mov	r3, r1	@ movhi
 1207 08f2 7B81     		strh	r3, [r7, #10]	@ movhi
 643:Libraries/uC-OSIII/os_task.c ****     OS_MSG_Q     *p_msg_q;
 644:Libraries/uC-OSIII/os_task.c ****     void         *p_void;
 645:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 1208              		.loc 1 645 0
 1209 08f4 4FF00003 		mov	r3, #0
 1210 08f8 BB61     		str	r3, [r7, #24]
 646:Libraries/uC-OSIII/os_task.c **** 
 647:Libraries/uC-OSIII/os_task.c **** 
 648:Libraries/uC-OSIII/os_task.c **** 
 649:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
 650:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
 651:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 652:Libraries/uC-OSIII/os_task.c ****     }
 653:Libraries/uC-OSIII/os_task.c **** #endif
 654:Libraries/uC-OSIII/os_task.c **** 
 655:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u
 656:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* Can't Pend from an ISR              
 1211              		.loc 1 656 0
 1212 08fa 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 1213 08fe C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 1214 0902 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1215 0904 002B     		cmp	r3, #0
 1216 0906 06D0     		beq	.L84
 657:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PEND_ISR;
 1217              		.loc 1 657 0
 1218 0908 3B6B     		ldr	r3, [r7, #48]
 1219 090a 46F2AE12 		movw	r2, #25006
 1220 090e 1A80     		strh	r2, [r3, #0]	@ movhi
 658:Libraries/uC-OSIII/os_task.c ****         return ((void *)0);
 1221              		.loc 1 658 0
 1222 0910 4FF00003 		mov	r3, #0
 1223 0914 5AE1     		b	.L85
 1224              	.L84:
 659:Libraries/uC-OSIII/os_task.c ****     }
 660:Libraries/uC-OSIII/os_task.c **** #endif
 661:Libraries/uC-OSIII/os_task.c **** 
 662:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_ARG_CHK_EN > 0u                                  /* ---------------- VALIDATE ARGUMENTS 
 663:Libraries/uC-OSIII/os_task.c ****     if (p_msg_size == (OS_MSG_SIZE *)0) {                   /* User must supply a valid destination
 1225              		.loc 1 663 0
 1226 0916 7B68     		ldr	r3, [r7, #4]
 1227 0918 002B     		cmp	r3, #0
 1228 091a 06D1     		bne	.L86
 664:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PTR_INVALID;
 1229              		.loc 1 664 0
 1230 091c 3B6B     		ldr	r3, [r7, #48]
 1231 091e 46F2D522 		movw	r2, #25301
 1232 0922 1A80     		strh	r2, [r3, #0]	@ movhi
 665:Libraries/uC-OSIII/os_task.c ****         return ((void *)0);
 1233              		.loc 1 665 0
 1234 0924 4FF00003 		mov	r3, #0
 1235 0928 50E1     		b	.L85
 1236              	.L86:
 666:Libraries/uC-OSIII/os_task.c ****     }
 667:Libraries/uC-OSIII/os_task.c ****     switch (opt) {                                          /* User must supply a valid option     
 1237              		.loc 1 667 0
 1238 092a 7B89     		ldrh	r3, [r7, #10]
 1239 092c 002B     		cmp	r3, #0
 1240 092e 09D0     		beq	.L105
 1241 0930 B3F5004F 		cmp	r3, #32768
 1242 0934 06D0     		beq	.L105
 668:Libraries/uC-OSIII/os_task.c ****         case OS_OPT_PEND_BLOCKING:
 669:Libraries/uC-OSIII/os_task.c ****         case OS_OPT_PEND_NON_BLOCKING:
 670:Libraries/uC-OSIII/os_task.c ****              break;
 671:Libraries/uC-OSIII/os_task.c **** 
 672:Libraries/uC-OSIII/os_task.c ****         default:
 673:Libraries/uC-OSIII/os_task.c ****              *p_err = OS_ERR_OPT_INVALID;
 1243              		.loc 1 673 0
 1244 0936 3B6B     		ldr	r3, [r7, #48]
 1245 0938 45F62562 		movw	r2, #24101
 1246 093c 1A80     		strh	r2, [r3, #0]	@ movhi
 674:Libraries/uC-OSIII/os_task.c ****              return ((void *)0);
 1247              		.loc 1 674 0
 1248 093e 4FF00003 		mov	r3, #0
 1249 0942 43E1     		b	.L85
 1250              	.L105:
 670:Libraries/uC-OSIII/os_task.c ****              break;
 1251              		.loc 1 670 0
 1252 0944 00BF     		nop
 1253              	.L89:
 675:Libraries/uC-OSIII/os_task.c ****     }
 676:Libraries/uC-OSIII/os_task.c **** #endif
 677:Libraries/uC-OSIII/os_task.c **** 
 678:Libraries/uC-OSIII/os_task.c ****     if (p_ts != (CPU_TS *)0) {
 1254              		.loc 1 678 0
 1255 0946 3B68     		ldr	r3, [r7, #0]
 1256 0948 002B     		cmp	r3, #0
 1257 094a 03D0     		beq	.L90
 679:Libraries/uC-OSIII/os_task.c ****         *p_ts = (CPU_TS  )0;                                /* Initialize the returned timestamp   
 1258              		.loc 1 679 0
 1259 094c 3B68     		ldr	r3, [r7, #0]
 1260 094e 4FF00002 		mov	r2, #0
 1261 0952 1A60     		str	r2, [r3, #0]
 1262              	.L90:
 680:Libraries/uC-OSIII/os_task.c ****     }
 681:Libraries/uC-OSIII/os_task.c **** 
 682:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_ENTER();
 1263              		.loc 1 682 0
 1264 0954 FFF7FEFF 		bl	CPU_SR_Save
 1265 0958 B861     		str	r0, [r7, #24]
 1266 095a FFF7FEFF 		bl	CPU_IntDisMeasStart
 683:Libraries/uC-OSIII/os_task.c ****     p_msg_q = &OSTCBCurPtr->MsgQ;                           /* Any message waiting in the message q
 1267              		.loc 1 683 0
 1268 095e 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1269 0962 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1270 0966 1B68     		ldr	r3, [r3, #0]
 1271 0968 03F14403 		add	r3, r3, #68
 1272 096c 7B61     		str	r3, [r7, #20]
 684:Libraries/uC-OSIII/os_task.c ****     p_void  = OS_MsgQGet(p_msg_q,
 1273              		.loc 1 684 0
 1274 096e 7869     		ldr	r0, [r7, #20]
 1275 0970 7968     		ldr	r1, [r7, #4]
 1276 0972 3A68     		ldr	r2, [r7, #0]
 1277 0974 3B6B     		ldr	r3, [r7, #48]
 1278 0976 FFF7FEFF 		bl	OS_MsgQGet
 1279 097a F861     		str	r0, [r7, #28]
 685:Libraries/uC-OSIII/os_task.c ****                          p_msg_size,
 686:Libraries/uC-OSIII/os_task.c ****                          p_ts,
 687:Libraries/uC-OSIII/os_task.c ****                          p_err);
 688:Libraries/uC-OSIII/os_task.c ****     if (*p_err == OS_ERR_NONE) {
 1280              		.loc 1 688 0
 1281 097c 3B6B     		ldr	r3, [r7, #48]
 1282 097e 1B88     		ldrh	r3, [r3, #0]
 1283 0980 002B     		cmp	r3, #0
 1284 0982 2FD1     		bne	.L91
 689:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_PROFILE_EN > 0u
 690:Libraries/uC-OSIII/os_task.c ****         if (p_ts != (CPU_TS *)0) {
 1285              		.loc 1 690 0
 1286 0984 3B68     		ldr	r3, [r7, #0]
 1287 0986 002B     		cmp	r3, #0
 1288 0988 25D0     		beq	.L92
 691:Libraries/uC-OSIII/os_task.c ****             OSTCBCurPtr->MsgQPendTime = OS_TS_GET() - *p_ts;
 1289              		.loc 1 691 0
 1290 098a 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1291 098e C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1292 0992 1C68     		ldr	r4, [r3, #0]
 1293 0994 FFF7FEFF 		bl	CPU_TS_TmrRd
 1294 0998 0246     		mov	r2, r0
 1295 099a 3B68     		ldr	r3, [r7, #0]
 1296 099c 1B68     		ldr	r3, [r3, #0]
 1297 099e D31A     		subs	r3, r2, r3
 1298 09a0 6365     		str	r3, [r4, #84]
 692:Libraries/uC-OSIII/os_task.c ****             if (OSTCBCurPtr->MsgQPendTime > OSTCBCurPtr->MsgQPendTimeMax) {
 1299              		.loc 1 692 0
 1300 09a2 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1301 09a6 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1302 09aa 1B68     		ldr	r3, [r3, #0]
 1303 09ac 5A6D     		ldr	r2, [r3, #84]
 1304 09ae 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1305 09b2 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1306 09b6 1B68     		ldr	r3, [r3, #0]
 1307 09b8 9B6D     		ldr	r3, [r3, #88]
 1308 09ba 9A42     		cmp	r2, r3
 1309 09bc 0BD9     		bls	.L92
 693:Libraries/uC-OSIII/os_task.c ****                 OSTCBCurPtr->MsgQPendTimeMax = OSTCBCurPtr->MsgQPendTime;
 1310              		.loc 1 693 0
 1311 09be 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1312 09c2 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1313 09c6 1A68     		ldr	r2, [r3, #0]
 1314 09c8 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1315 09cc C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1316 09d0 1B68     		ldr	r3, [r3, #0]
 1317 09d2 5B6D     		ldr	r3, [r3, #84]
 1318 09d4 9365     		str	r3, [r2, #88]
 1319              	.L92:
 694:Libraries/uC-OSIII/os_task.c ****             }
 695:Libraries/uC-OSIII/os_task.c ****         }
 696:Libraries/uC-OSIII/os_task.c **** #endif
 697:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_EXIT();
 1320              		.loc 1 697 0
 1321 09d6 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1322 09da B869     		ldr	r0, [r7, #24]
 1323 09dc FFF7FEFF 		bl	CPU_SR_Restore
 698:Libraries/uC-OSIII/os_task.c ****         return (p_void);                                    /* Yes, Return oldest message received 
 1324              		.loc 1 698 0
 1325 09e0 FB69     		ldr	r3, [r7, #28]
 1326 09e2 F3E0     		b	.L85
 1327              	.L91:
 699:Libraries/uC-OSIII/os_task.c ****     }
 700:Libraries/uC-OSIII/os_task.c **** 
 701:Libraries/uC-OSIII/os_task.c ****     if ((opt & OS_OPT_PEND_NON_BLOCKING) != (OS_OPT)0) {    /* Caller wants to block if not availab
 1328              		.loc 1 701 0
 1329 09e4 7B89     		ldrh	r3, [r7, #10]
 1330 09e6 1BB2     		sxth	r3, r3
 1331 09e8 002B     		cmp	r3, #0
 1332 09ea 0BDA     		bge	.L93
 702:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PEND_WOULD_BLOCK;                   /* No                                  
 1333              		.loc 1 702 0
 1334 09ec 3B6B     		ldr	r3, [r7, #48]
 1335 09ee 46F2B012 		movw	r2, #25008
 1336 09f2 1A80     		strh	r2, [r3, #0]	@ movhi
 703:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_EXIT();
 1337              		.loc 1 703 0
 1338 09f4 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1339 09f8 B869     		ldr	r0, [r7, #24]
 1340 09fa FFF7FEFF 		bl	CPU_SR_Restore
 704:Libraries/uC-OSIII/os_task.c ****         return ((void *)0);
 1341              		.loc 1 704 0
 1342 09fe 4FF00003 		mov	r3, #0
 1343 0a02 E3E0     		b	.L85
 1344              	.L93:
 705:Libraries/uC-OSIII/os_task.c ****     } else {                                                /* Yes                                 
 706:Libraries/uC-OSIII/os_task.c ****         if (OSSchedLockNestingCtr > (OS_NESTING_CTR)0) {    /*     Can't block when the scheduler i
 1345              		.loc 1 706 0
 1346 0a04 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1347 0a08 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1348 0a0c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1349 0a0e 002B     		cmp	r3, #0
 1350 0a10 0BD0     		beq	.L94
 707:Libraries/uC-OSIII/os_task.c ****             CPU_CRITICAL_EXIT();
 1351              		.loc 1 707 0
 1352 0a12 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1353 0a16 B869     		ldr	r0, [r7, #24]
 1354 0a18 FFF7FEFF 		bl	CPU_SR_Restore
 708:Libraries/uC-OSIII/os_task.c ****             *p_err = OS_ERR_SCHED_LOCKED;
 1355              		.loc 1 708 0
 1356 0a1c 3B6B     		ldr	r3, [r7, #48]
 1357 0a1e 46F66252 		movw	r2, #28002
 1358 0a22 1A80     		strh	r2, [r3, #0]	@ movhi
 709:Libraries/uC-OSIII/os_task.c ****             return ((void *)0);
 1359              		.loc 1 709 0
 1360 0a24 4FF00003 		mov	r3, #0
 1361 0a28 D0E0     		b	.L85
 1362              	.L94:
 710:Libraries/uC-OSIII/os_task.c ****         }
 711:Libraries/uC-OSIII/os_task.c ****     }
 712:Libraries/uC-OSIII/os_task.c **** 
 713:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_ENTER_CPU_CRITICAL_EXIT();                  /* Lock the scheduler/re-enable interru
 1363              		.loc 1 713 0
 1364 0a2a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1365 0a2e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1366 0a32 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1367 0a34 03F10103 		add	r3, r3, #1
 1368 0a38 DAB2     		uxtb	r2, r3
 1369 0a3a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1370 0a3e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1371 0a42 1A70     		strb	r2, [r3, #0]
 1372 0a44 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1373 0a48 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1374 0a4c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1375 0a4e 012B     		cmp	r3, #1
 1376 0a50 01D1     		bne	.L95
 1377              		.loc 1 713 0 is_stmt 0 discriminator 1
 1378 0a52 FFF7FEFF 		bl	OS_SchedLockTimeMeasStart
 1379              	.L95:
 1380              		.loc 1 713 0 discriminator 2
 1381 0a56 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1382 0a5a B869     		ldr	r0, [r7, #24]
 1383 0a5c FFF7FEFF 		bl	CPU_SR_Restore
 714:Libraries/uC-OSIII/os_task.c ****     OS_Pend((OS_PEND_DATA *)0,                              /* Block task pending on Message       
 1384              		.loc 1 714 0 is_stmt 1 discriminator 2
 1385 0a60 4FF00000 		mov	r0, #0
 1386 0a64 4FF00001 		mov	r1, #0
 1387 0a68 4FF00202 		mov	r2, #2
 1388 0a6c FB68     		ldr	r3, [r7, #12]
 1389 0a6e FFF7FEFF 		bl	OS_Pend
 715:Libraries/uC-OSIII/os_task.c ****             (OS_PEND_OBJ  *)0,
 716:Libraries/uC-OSIII/os_task.c ****             (OS_STATE      )OS_TASK_PEND_ON_TASK_Q,
 717:Libraries/uC-OSIII/os_task.c ****             (OS_TICK       )timeout);
 718:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_EXIT_NO_SCHED();
 1390              		.loc 1 718 0 discriminator 2
 1391 0a72 FFF7FEFF 		bl	CPU_SR_Save
 1392 0a76 B861     		str	r0, [r7, #24]
 1393 0a78 FFF7FEFF 		bl	CPU_IntDisMeasStart
 1394 0a7c 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1395 0a80 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1396 0a84 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1397 0a86 03F1FF33 		add	r3, r3, #-1
 1398 0a8a DAB2     		uxtb	r2, r3
 1399 0a8c 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1400 0a90 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1401 0a94 1A70     		strb	r2, [r3, #0]
 1402 0a96 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1403 0a9a C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1404 0a9e 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1405 0aa0 002B     		cmp	r3, #0
 1406 0aa2 01D1     		bne	.L96
 1407              		.loc 1 718 0 is_stmt 0 discriminator 1
 1408 0aa4 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 1409              	.L96:
 1410              		.loc 1 718 0 discriminator 2
 1411 0aa8 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1412 0aac B869     		ldr	r0, [r7, #24]
 1413 0aae FFF7FEFF 		bl	CPU_SR_Restore
 719:Libraries/uC-OSIII/os_task.c **** 
 720:Libraries/uC-OSIII/os_task.c ****     OSSched();                                              /* Find the next highest priority task 
 1414              		.loc 1 720 0 is_stmt 1 discriminator 2
 1415 0ab2 FFF7FEFF 		bl	OSSched
 721:Libraries/uC-OSIII/os_task.c **** 
 722:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_ENTER();
 1416              		.loc 1 722 0 discriminator 2
 1417 0ab6 FFF7FEFF 		bl	CPU_SR_Save
 1418 0aba B861     		str	r0, [r7, #24]
 1419 0abc FFF7FEFF 		bl	CPU_IntDisMeasStart
 723:Libraries/uC-OSIII/os_task.c ****     switch (OSTCBCurPtr->PendStatus) {
 1420              		.loc 1 723 0 discriminator 2
 1421 0ac0 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1422 0ac4 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1423 0ac8 1B68     		ldr	r3, [r3, #0]
 1424 0aca 93F8C130 		ldrb	r3, [r3, #193]	@ zero_extendqisi2
 1425 0ace 002B     		cmp	r3, #0
 1426 0ad0 02D0     		beq	.L98
 1427 0ad2 012B     		cmp	r3, #1
 1428 0ad4 4AD0     		beq	.L99
 1429              		.loc 1 723 0 is_stmt 0
 1430 0ad6 5CE0     		b	.L104
 1431              	.L98:
 724:Libraries/uC-OSIII/os_task.c ****         case OS_STATUS_PEND_OK:                             /* Extract message from TCB (Put there 
 725:Libraries/uC-OSIII/os_task.c ****              p_void      = OSTCBCurPtr->MsgPtr;
 1432              		.loc 1 725 0 is_stmt 1
 1433 0ad8 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1434 0adc C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1435 0ae0 1B68     		ldr	r3, [r3, #0]
 1436 0ae2 DB6B     		ldr	r3, [r3, #60]
 1437 0ae4 FB61     		str	r3, [r7, #28]
 726:Libraries/uC-OSIII/os_task.c ****              *p_msg_size = OSTCBCurPtr->MsgSize;
 1438              		.loc 1 726 0
 1439 0ae6 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1440 0aea C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1441 0aee 1B68     		ldr	r3, [r3, #0]
 1442 0af0 B3F84020 		ldrh	r2, [r3, #64]
 1443 0af4 7B68     		ldr	r3, [r7, #4]
 1444 0af6 1A80     		strh	r2, [r3, #0]	@ movhi
 727:Libraries/uC-OSIII/os_task.c ****              if (p_ts != (CPU_TS *)0) {
 1445              		.loc 1 727 0
 1446 0af8 3B68     		ldr	r3, [r7, #0]
 1447 0afa 002B     		cmp	r3, #0
 1448 0afc 31D0     		beq	.L100
 728:Libraries/uC-OSIII/os_task.c ****                 *p_ts  = OSTCBCurPtr->TS;
 1449              		.loc 1 728 0
 1450 0afe 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1451 0b02 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1452 0b06 1B68     		ldr	r3, [r3, #0]
 1453 0b08 9A6B     		ldr	r2, [r3, #56]
 1454 0b0a 3B68     		ldr	r3, [r7, #0]
 1455 0b0c 1A60     		str	r2, [r3, #0]
 729:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_PROFILE_EN > 0u
 730:Libraries/uC-OSIII/os_task.c ****                 OSTCBCurPtr->MsgQPendTime = OS_TS_GET() - OSTCBCurPtr->TS;
 1456              		.loc 1 730 0
 1457 0b0e 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1458 0b12 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1459 0b16 1C68     		ldr	r4, [r3, #0]
 1460 0b18 FFF7FEFF 		bl	CPU_TS_TmrRd
 1461 0b1c 0246     		mov	r2, r0
 1462 0b1e 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1463 0b22 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1464 0b26 1B68     		ldr	r3, [r3, #0]
 1465 0b28 9B6B     		ldr	r3, [r3, #56]
 1466 0b2a D31A     		subs	r3, r2, r3
 1467 0b2c 6365     		str	r3, [r4, #84]
 731:Libraries/uC-OSIII/os_task.c ****                 if (OSTCBCurPtr->MsgQPendTime > OSTCBCurPtr->MsgQPendTimeMax) {
 1468              		.loc 1 731 0
 1469 0b2e 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1470 0b32 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1471 0b36 1B68     		ldr	r3, [r3, #0]
 1472 0b38 5A6D     		ldr	r2, [r3, #84]
 1473 0b3a 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1474 0b3e C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1475 0b42 1B68     		ldr	r3, [r3, #0]
 1476 0b44 9B6D     		ldr	r3, [r3, #88]
 1477 0b46 9A42     		cmp	r2, r3
 1478 0b48 0BD9     		bls	.L100
 732:Libraries/uC-OSIII/os_task.c ****                     OSTCBCurPtr->MsgQPendTimeMax = OSTCBCurPtr->MsgQPendTime;
 1479              		.loc 1 732 0
 1480 0b4a 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1481 0b4e C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1482 0b52 1A68     		ldr	r2, [r3, #0]
 1483 0b54 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1484 0b58 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1485 0b5c 1B68     		ldr	r3, [r3, #0]
 1486 0b5e 5B6D     		ldr	r3, [r3, #84]
 1487 0b60 9365     		str	r3, [r2, #88]
 1488              	.L100:
 733:Libraries/uC-OSIII/os_task.c ****                 }
 734:Libraries/uC-OSIII/os_task.c **** #endif
 735:Libraries/uC-OSIII/os_task.c ****              }
 736:Libraries/uC-OSIII/os_task.c ****              *p_err = OS_ERR_NONE;
 1489              		.loc 1 736 0
 1490 0b62 3B6B     		ldr	r3, [r7, #48]
 1491 0b64 4FF00002 		mov	r2, #0
 1492 0b68 1A80     		strh	r2, [r3, #0]	@ movhi
 737:Libraries/uC-OSIII/os_task.c ****              break;
 1493              		.loc 1 737 0
 1494 0b6a 29E0     		b	.L101
 1495              	.L99:
 738:Libraries/uC-OSIII/os_task.c **** 
 739:Libraries/uC-OSIII/os_task.c ****         case OS_STATUS_PEND_ABORT:                          /* Indicate that we aborted            
 740:Libraries/uC-OSIII/os_task.c ****              p_void      = (void      *)0;
 1496              		.loc 1 740 0
 1497 0b6c 4FF00003 		mov	r3, #0
 1498 0b70 FB61     		str	r3, [r7, #28]
 741:Libraries/uC-OSIII/os_task.c ****              *p_msg_size = (OS_MSG_SIZE)0;
 1499              		.loc 1 741 0
 1500 0b72 7B68     		ldr	r3, [r7, #4]
 1501 0b74 4FF00002 		mov	r2, #0
 1502 0b78 1A80     		strh	r2, [r3, #0]	@ movhi
 742:Libraries/uC-OSIII/os_task.c ****              if (p_ts != (CPU_TS *)0) {
 1503              		.loc 1 742 0
 1504 0b7a 3B68     		ldr	r3, [r7, #0]
 1505 0b7c 002B     		cmp	r3, #0
 1506 0b7e 03D0     		beq	.L102
 743:Libraries/uC-OSIII/os_task.c ****                 *p_ts  = (CPU_TS  )0;
 1507              		.loc 1 743 0
 1508 0b80 3B68     		ldr	r3, [r7, #0]
 1509 0b82 4FF00002 		mov	r2, #0
 1510 0b86 1A60     		str	r2, [r3, #0]
 1511              	.L102:
 744:Libraries/uC-OSIII/os_task.c ****              }
 745:Libraries/uC-OSIII/os_task.c ****              *p_err =  OS_ERR_PEND_ABORT;
 1512              		.loc 1 745 0
 1513 0b88 3B6B     		ldr	r3, [r7, #48]
 1514 0b8a 46F2A912 		movw	r2, #25001
 1515 0b8e 1A80     		strh	r2, [r3, #0]	@ movhi
 746:Libraries/uC-OSIII/os_task.c ****              break;
 1516              		.loc 1 746 0
 1517 0b90 16E0     		b	.L101
 1518              	.L104:
 747:Libraries/uC-OSIII/os_task.c **** 
 748:Libraries/uC-OSIII/os_task.c ****         case OS_STATUS_PEND_TIMEOUT:                        /* Indicate that we didn't get event wi
 749:Libraries/uC-OSIII/os_task.c ****         default:
 750:Libraries/uC-OSIII/os_task.c ****              p_void      = (void      *)0;
 1519              		.loc 1 750 0
 1520 0b92 4FF00003 		mov	r3, #0
 1521 0b96 FB61     		str	r3, [r7, #28]
 751:Libraries/uC-OSIII/os_task.c ****              *p_msg_size = (OS_MSG_SIZE)0;
 1522              		.loc 1 751 0
 1523 0b98 7B68     		ldr	r3, [r7, #4]
 1524 0b9a 4FF00002 		mov	r2, #0
 1525 0b9e 1A80     		strh	r2, [r3, #0]	@ movhi
 752:Libraries/uC-OSIII/os_task.c ****              if (p_ts != (CPU_TS *)0) {
 1526              		.loc 1 752 0
 1527 0ba0 3B68     		ldr	r3, [r7, #0]
 1528 0ba2 002B     		cmp	r3, #0
 1529 0ba4 07D0     		beq	.L103
 753:Libraries/uC-OSIII/os_task.c ****                 *p_ts  =  OSTCBCurPtr->TS;
 1530              		.loc 1 753 0
 1531 0ba6 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1532 0baa C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1533 0bae 1B68     		ldr	r3, [r3, #0]
 1534 0bb0 9A6B     		ldr	r2, [r3, #56]
 1535 0bb2 3B68     		ldr	r3, [r7, #0]
 1536 0bb4 1A60     		str	r2, [r3, #0]
 1537              	.L103:
 754:Libraries/uC-OSIII/os_task.c ****              }
 755:Libraries/uC-OSIII/os_task.c ****              *p_err =  OS_ERR_TIMEOUT;
 1538              		.loc 1 755 0
 1539 0bb6 3B6B     		ldr	r3, [r7, #48]
 1540 0bb8 47F2D922 		movw	r2, #29401
 1541 0bbc 1A80     		strh	r2, [r3, #0]	@ movhi
 756:Libraries/uC-OSIII/os_task.c ****              break;
 1542              		.loc 1 756 0
 1543 0bbe 00BF     		nop
 1544              	.L101:
 757:Libraries/uC-OSIII/os_task.c ****     }
 758:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_EXIT();
 1545              		.loc 1 758 0
 1546 0bc0 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1547 0bc4 B869     		ldr	r0, [r7, #24]
 1548 0bc6 FFF7FEFF 		bl	CPU_SR_Restore
 759:Libraries/uC-OSIII/os_task.c ****     return (p_void);                                        /* Return received message             
 1549              		.loc 1 759 0
 1550 0bca FB69     		ldr	r3, [r7, #28]
 1551              	.L85:
 760:Libraries/uC-OSIII/os_task.c **** }
 1552              		.loc 1 760 0
 1553 0bcc 1846     		mov	r0, r3
 1554 0bce 07F12407 		add	r7, r7, #36
 1555 0bd2 BD46     		mov	sp, r7
 1556 0bd4 90BD     		pop	{r4, r7, pc}
 1557              		.cfi_endproc
 1558              	.LFE4:
 1560 0bd6 00BF     		.align	2
 1561              		.global	OSTaskQPendAbort
 1562              		.thumb
 1563              		.thumb_func
 1565              	OSTaskQPendAbort:
 1566              	.LFB5:
 761:Libraries/uC-OSIII/os_task.c **** #endif
 762:Libraries/uC-OSIII/os_task.c **** 
 763:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
 764:Libraries/uC-OSIII/os_task.c **** /*
 765:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 766:Libraries/uC-OSIII/os_task.c **** *                                              ABORT WAITING FOR A MESSAGE
 767:Libraries/uC-OSIII/os_task.c **** *
 768:Libraries/uC-OSIII/os_task.c **** * Description: This function aborts & readies the task specified.  This function should be used to 
 769:Libraries/uC-OSIII/os_task.c **** *              for a message, rather than to normally post the message to the task via OSTaskQPost(
 770:Libraries/uC-OSIII/os_task.c **** *
 771:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb     is a pointer to the task to pend abort
 772:Libraries/uC-OSIII/os_task.c **** *
 773:Libraries/uC-OSIII/os_task.c **** *              opt       provides options for this function:
 774:Libraries/uC-OSIII/os_task.c **** *
 775:Libraries/uC-OSIII/os_task.c **** *                            OS_OPT_POST_NONE         No option specified
 776:Libraries/uC-OSIII/os_task.c **** *                            OS_OPT_POST_NO_SCHED     Indicates that the scheduler will not be call
 777:Libraries/uC-OSIII/os_task.c **** *
 778:Libraries/uC-OSIII/os_task.c **** *              p_err     is a pointer to a variable that will contain an error code returned by thi
 779:Libraries/uC-OSIII/os_task.c **** *
 780:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_NONE              If the task was readied and informed of the a
 781:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_PEND_ABORT_ISR    If you called this function from an ISR
 782:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_PEND_ABORT_NONE   If task was not pending on a message and thus
 783:Libraries/uC-OSIII/os_task.c **** *                                                     abort.
 784:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_PEND_ABORT_SELF   If you passed a NULL pointer for 'p_tcb'
 785:Libraries/uC-OSIII/os_task.c **** *
 786:Libraries/uC-OSIII/os_task.c **** * Returns    : == DEF_FALSE   if task was not waiting for a message, or upon error.
 787:Libraries/uC-OSIII/os_task.c **** *              == DEF_TRUE    if task was waiting for a message and was readied and informed.
 788:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 789:Libraries/uC-OSIII/os_task.c **** */
 790:Libraries/uC-OSIII/os_task.c **** 
 791:Libraries/uC-OSIII/os_task.c **** #if (OS_CFG_TASK_Q_EN > 0u) && (OS_CFG_TASK_Q_PEND_ABORT_EN > 0u)
 792:Libraries/uC-OSIII/os_task.c **** CPU_BOOLEAN  OSTaskQPendAbort (OS_TCB  *p_tcb,
 793:Libraries/uC-OSIII/os_task.c ****                                OS_OPT   opt,
 794:Libraries/uC-OSIII/os_task.c ****                                OS_ERR  *p_err)
 795:Libraries/uC-OSIII/os_task.c **** {
 1567              		.loc 1 795 0
 1568              		.cfi_startproc
 1569              		@ args = 0, pretend = 0, frame = 24
 1570              		@ frame_needed = 1, uses_anonymous_args = 0
 1571 0bd8 80B5     		push	{r7, lr}
 1572              	.LCFI15:
 1573              		.cfi_def_cfa_offset 8
 1574              		.cfi_offset 14, -4
 1575              		.cfi_offset 7, -8
 1576 0bda 86B0     		sub	sp, sp, #24
 1577              	.LCFI16:
 1578              		.cfi_def_cfa_offset 32
 1579 0bdc 00AF     		add	r7, sp, #0
 1580              	.LCFI17:
 1581              		.cfi_def_cfa_register 7
 1582 0bde F860     		str	r0, [r7, #12]
 1583 0be0 0B46     		mov	r3, r1
 1584 0be2 7A60     		str	r2, [r7, #4]
 1585 0be4 7B81     		strh	r3, [r7, #10]	@ movhi
 796:Libraries/uC-OSIII/os_task.c ****     CPU_TS         ts;
 797:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 1586              		.loc 1 797 0
 1587 0be6 4FF00003 		mov	r3, #0
 1588 0bea 7B61     		str	r3, [r7, #20]
 798:Libraries/uC-OSIII/os_task.c **** 
 799:Libraries/uC-OSIII/os_task.c **** 
 800:Libraries/uC-OSIII/os_task.c **** 
 801:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
 802:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
 803:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 804:Libraries/uC-OSIII/os_task.c ****     }
 805:Libraries/uC-OSIII/os_task.c **** #endif
 806:Libraries/uC-OSIII/os_task.c **** 
 807:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u
 808:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* See if called from ISR ...          
 1589              		.loc 1 808 0
 1590 0bec 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 1591 0bf0 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 1592 0bf4 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1593 0bf6 002B     		cmp	r3, #0
 1594 0bf8 06D0     		beq	.L107
 809:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PEND_ABORT_ISR;                     /* ... can't Pend Abort from an ISR    
 1595              		.loc 1 809 0
 1596 0bfa 7B68     		ldr	r3, [r7, #4]
 1597 0bfc 46F2AA12 		movw	r2, #25002
 1598 0c00 1A80     		strh	r2, [r3, #0]	@ movhi
 810:Libraries/uC-OSIII/os_task.c ****         return (DEF_FALSE);
 1599              		.loc 1 810 0
 1600 0c02 4FF00003 		mov	r3, #0
 1601 0c06 7CE0     		b	.L108
 1602              	.L107:
 811:Libraries/uC-OSIII/os_task.c ****     }
 812:Libraries/uC-OSIII/os_task.c **** #endif
 813:Libraries/uC-OSIII/os_task.c **** 
 814:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_ENTER();
 1603              		.loc 1 814 0
 1604 0c08 FFF7FEFF 		bl	CPU_SR_Save
 1605 0c0c 7861     		str	r0, [r7, #20]
 1606 0c0e FFF7FEFF 		bl	CPU_IntDisMeasStart
 815:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_ARG_CHK_EN > 0u
 816:Libraries/uC-OSIII/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                           /* Pend abort self?                    
 1607              		.loc 1 816 0
 1608 0c12 FB68     		ldr	r3, [r7, #12]
 1609 0c14 002B     		cmp	r3, #0
 1610 0c16 07D0     		beq	.L109
 817:Libraries/uC-OSIII/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
 1611              		.loc 1 817 0 discriminator 1
 1612 0c18 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1613 0c1c C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1614 0c20 1B68     		ldr	r3, [r3, #0]
 816:Libraries/uC-OSIII/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                           /* Pend abort self?                    
 1615              		.loc 1 816 0 discriminator 1
 1616 0c22 FA68     		ldr	r2, [r7, #12]
 1617 0c24 9A42     		cmp	r2, r3
 1618 0c26 0BD1     		bne	.L110
 1619              	.L109:
 818:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_EXIT();
 1620              		.loc 1 818 0
 1621 0c28 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1622 0c2c 7869     		ldr	r0, [r7, #20]
 1623 0c2e FFF7FEFF 		bl	CPU_SR_Restore
 819:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PEND_ABORT_SELF;                    /* ... doesn't make sense              
 1624              		.loc 1 819 0
 1625 0c32 7B68     		ldr	r3, [r7, #4]
 1626 0c34 46F2AC12 		movw	r2, #25004
 1627 0c38 1A80     		strh	r2, [r3, #0]	@ movhi
 820:Libraries/uC-OSIII/os_task.c ****         return (DEF_FALSE);
 1628              		.loc 1 820 0
 1629 0c3a 4FF00003 		mov	r3, #0
 1630 0c3e 60E0     		b	.L108
 1631              	.L110:
 821:Libraries/uC-OSIII/os_task.c ****     }
 822:Libraries/uC-OSIII/os_task.c **** #endif
 823:Libraries/uC-OSIII/os_task.c **** 
 824:Libraries/uC-OSIII/os_task.c ****     if (p_tcb->PendOn != OS_TASK_PEND_ON_TASK_Q) {          /* Is task waiting for a message?      
 1632              		.loc 1 824 0
 1633 0c40 FB68     		ldr	r3, [r7, #12]
 1634 0c42 93F8C030 		ldrb	r3, [r3, #192]	@ zero_extendqisi2
 1635 0c46 022B     		cmp	r3, #2
 1636 0c48 0BD0     		beq	.L111
 825:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_EXIT();                                /* No                                  
 1637              		.loc 1 825 0
 1638 0c4a FFF7FEFF 		bl	CPU_IntDisMeasStop
 1639 0c4e 7869     		ldr	r0, [r7, #20]
 1640 0c50 FFF7FEFF 		bl	CPU_SR_Restore
 826:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PEND_ABORT_NONE;
 1641              		.loc 1 826 0
 1642 0c54 7B68     		ldr	r3, [r7, #4]
 1643 0c56 46F2AB12 		movw	r2, #25003
 1644 0c5a 1A80     		strh	r2, [r3, #0]	@ movhi
 827:Libraries/uC-OSIII/os_task.c ****         return (DEF_FALSE);
 1645              		.loc 1 827 0
 1646 0c5c 4FF00003 		mov	r3, #0
 1647 0c60 4FE0     		b	.L108
 1648              	.L111:
 828:Libraries/uC-OSIII/os_task.c ****     }
 829:Libraries/uC-OSIII/os_task.c **** 
 830:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_ENTER_CPU_CRITICAL_EXIT();
 1649              		.loc 1 830 0
 1650 0c62 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1651 0c66 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1652 0c6a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1653 0c6c 03F10103 		add	r3, r3, #1
 1654 0c70 DAB2     		uxtb	r2, r3
 1655 0c72 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1656 0c76 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1657 0c7a 1A70     		strb	r2, [r3, #0]
 1658 0c7c 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1659 0c80 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1660 0c84 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1661 0c86 012B     		cmp	r3, #1
 1662 0c88 01D1     		bne	.L112
 1663              		.loc 1 830 0 is_stmt 0 discriminator 1
 1664 0c8a FFF7FEFF 		bl	OS_SchedLockTimeMeasStart
 1665              	.L112:
 1666              		.loc 1 830 0 discriminator 2
 1667 0c8e FFF7FEFF 		bl	CPU_IntDisMeasStop
 1668 0c92 7869     		ldr	r0, [r7, #20]
 1669 0c94 FFF7FEFF 		bl	CPU_SR_Restore
 831:Libraries/uC-OSIII/os_task.c ****     ts = OS_TS_GET();                                       /* Get timestamp of when the abort occu
 1670              		.loc 1 831 0 is_stmt 1 discriminator 2
 1671 0c98 FFF7FEFF 		bl	CPU_TS_TmrRd
 1672 0c9c 3861     		str	r0, [r7, #16]
 832:Libraries/uC-OSIII/os_task.c ****     OS_PendAbort((OS_PEND_OBJ *)0,                          /* Abort the pend                      
 1673              		.loc 1 832 0 discriminator 2
 1674 0c9e 4FF00000 		mov	r0, #0
 1675 0ca2 F968     		ldr	r1, [r7, #12]
 1676 0ca4 3A69     		ldr	r2, [r7, #16]
 1677 0ca6 FFF7FEFF 		bl	OS_PendAbort
 833:Libraries/uC-OSIII/os_task.c ****                  p_tcb,
 834:Libraries/uC-OSIII/os_task.c ****                  ts);
 835:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_EXIT_NO_SCHED();
 1678              		.loc 1 835 0 discriminator 2
 1679 0caa FFF7FEFF 		bl	CPU_SR_Save
 1680 0cae 7861     		str	r0, [r7, #20]
 1681 0cb0 FFF7FEFF 		bl	CPU_IntDisMeasStart
 1682 0cb4 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1683 0cb8 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1684 0cbc 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1685 0cbe 03F1FF33 		add	r3, r3, #-1
 1686 0cc2 DAB2     		uxtb	r2, r3
 1687 0cc4 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1688 0cc8 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1689 0ccc 1A70     		strb	r2, [r3, #0]
 1690 0cce 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1691 0cd2 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1692 0cd6 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1693 0cd8 002B     		cmp	r3, #0
 1694 0cda 01D1     		bne	.L113
 1695              		.loc 1 835 0 is_stmt 0 discriminator 1
 1696 0cdc FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 1697              	.L113:
 1698              		.loc 1 835 0 discriminator 2
 1699 0ce0 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1700 0ce4 7869     		ldr	r0, [r7, #20]
 1701 0ce6 FFF7FEFF 		bl	CPU_SR_Restore
 836:Libraries/uC-OSIII/os_task.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == (OS_OPT)0) {
 1702              		.loc 1 836 0 is_stmt 1 discriminator 2
 1703 0cea 7B89     		ldrh	r3, [r7, #10]
 1704 0cec 1BB2     		sxth	r3, r3
 1705 0cee 002B     		cmp	r3, #0
 1706 0cf0 01DB     		blt	.L114
 837:Libraries/uC-OSIII/os_task.c ****         OSSched();                                          /* Run the scheduler                   
 1707              		.loc 1 837 0
 1708 0cf2 FFF7FEFF 		bl	OSSched
 1709              	.L114:
 838:Libraries/uC-OSIII/os_task.c ****     }
 839:Libraries/uC-OSIII/os_task.c ****     *p_err = OS_ERR_NONE;
 1710              		.loc 1 839 0
 1711 0cf6 7B68     		ldr	r3, [r7, #4]
 1712 0cf8 4FF00002 		mov	r2, #0
 1713 0cfc 1A80     		strh	r2, [r3, #0]	@ movhi
 840:Libraries/uC-OSIII/os_task.c ****     return (DEF_TRUE);
 1714              		.loc 1 840 0
 1715 0cfe 4FF00103 		mov	r3, #1
 1716              	.L108:
 841:Libraries/uC-OSIII/os_task.c **** }
 1717              		.loc 1 841 0
 1718 0d02 1846     		mov	r0, r3
 1719 0d04 07F11807 		add	r7, r7, #24
 1720 0d08 BD46     		mov	sp, r7
 1721 0d0a 80BD     		pop	{r7, pc}
 1722              		.cfi_endproc
 1723              	.LFE5:
 1725              		.align	2
 1726              		.global	OSTaskQPost
 1727              		.thumb
 1728              		.thumb_func
 1730              	OSTaskQPost:
 1731              	.LFB6:
 842:Libraries/uC-OSIII/os_task.c **** #endif
 843:Libraries/uC-OSIII/os_task.c **** 
 844:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
 845:Libraries/uC-OSIII/os_task.c **** /*
 846:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 847:Libraries/uC-OSIII/os_task.c **** *                                               POST MESSAGE TO A TASK
 848:Libraries/uC-OSIII/os_task.c **** *
 849:Libraries/uC-OSIII/os_task.c **** * Description: This function sends a message to a task
 850:Libraries/uC-OSIII/os_task.c **** *
 851:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb      is a pointer to the TCB of the task receiving a message.  If you specify 
 852:Libraries/uC-OSIII/os_task.c **** *                         the message will be posted to the task's queue of the calling task.  In o
 853:Libraries/uC-OSIII/os_task.c **** *                         posting a message to yourself.
 854:Libraries/uC-OSIII/os_task.c **** *
 855:Libraries/uC-OSIII/os_task.c **** *              p_void     is a pointer to the message to send.
 856:Libraries/uC-OSIII/os_task.c **** *
 857:Libraries/uC-OSIII/os_task.c **** *              msg_size   is the size of the message sent (in #bytes)
 858:Libraries/uC-OSIII/os_task.c **** *
 859:Libraries/uC-OSIII/os_task.c **** *              opt        specifies whether the post will be FIFO or LIFO:
 860:Libraries/uC-OSIII/os_task.c **** *
 861:Libraries/uC-OSIII/os_task.c **** *                             OS_OPT_POST_FIFO       Post at the end   of the queue
 862:Libraries/uC-OSIII/os_task.c **** *                             OS_OPT_POST_LIFO       Post at the front of the queue
 863:Libraries/uC-OSIII/os_task.c **** *
 864:Libraries/uC-OSIII/os_task.c **** *                             OS_OPT_POST_NO_SCHED   Do not run the scheduler after the post
 865:Libraries/uC-OSIII/os_task.c **** *
 866:Libraries/uC-OSIII/os_task.c **** *                          Note(s): 1) OS_OPT_POST_NO_SCHED can be added with one of the other opti
 867:Libraries/uC-OSIII/os_task.c **** *
 868:Libraries/uC-OSIII/os_task.c **** *
 869:Libraries/uC-OSIII/os_task.c **** *              p_err      is a pointer to a variable that will hold the error code associated
 870:Libraries/uC-OSIII/os_task.c **** *                         with the outcome of this call.  Errors can be:
 871:Libraries/uC-OSIII/os_task.c **** *
 872:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_NONE            The call was successful and the message was se
 873:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_Q_MAX           If the queue is full
 874:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_MSG_POOL_EMPTY  If there are no more OS_MSGs available from th
 875:Libraries/uC-OSIII/os_task.c **** *
 876:Libraries/uC-OSIII/os_task.c **** * Returns    : none
 877:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 878:Libraries/uC-OSIII/os_task.c **** */
 879:Libraries/uC-OSIII/os_task.c **** 
 880:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_Q_EN > 0u
 881:Libraries/uC-OSIII/os_task.c **** void  OSTaskQPost (OS_TCB      *p_tcb,
 882:Libraries/uC-OSIII/os_task.c ****                    void        *p_void,
 883:Libraries/uC-OSIII/os_task.c ****                    OS_MSG_SIZE  msg_size,
 884:Libraries/uC-OSIII/os_task.c ****                    OS_OPT       opt,
 885:Libraries/uC-OSIII/os_task.c ****                    OS_ERR      *p_err)
 886:Libraries/uC-OSIII/os_task.c **** {
 1732              		.loc 1 886 0
 1733              		.cfi_startproc
 1734              		@ args = 4, pretend = 0, frame = 24
 1735              		@ frame_needed = 1, uses_anonymous_args = 0
 1736 0d0c 80B5     		push	{r7, lr}
 1737              	.LCFI18:
 1738              		.cfi_def_cfa_offset 8
 1739              		.cfi_offset 14, -4
 1740              		.cfi_offset 7, -8
 1741 0d0e 8AB0     		sub	sp, sp, #40
 1742              	.LCFI19:
 1743              		.cfi_def_cfa_offset 48
 1744 0d10 04AF     		add	r7, sp, #16
 1745              	.LCFI20:
 1746              		.cfi_def_cfa 7, 32
 1747 0d12 F860     		str	r0, [r7, #12]
 1748 0d14 B960     		str	r1, [r7, #8]
 1749 0d16 FA80     		strh	r2, [r7, #6]	@ movhi
 1750 0d18 BB80     		strh	r3, [r7, #4]	@ movhi
 887:Libraries/uC-OSIII/os_task.c ****     CPU_TS   ts;
 888:Libraries/uC-OSIII/os_task.c **** 
 889:Libraries/uC-OSIII/os_task.c **** 
 890:Libraries/uC-OSIII/os_task.c **** 
 891:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
 892:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
 893:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 894:Libraries/uC-OSIII/os_task.c ****     }
 895:Libraries/uC-OSIII/os_task.c **** #endif
 896:Libraries/uC-OSIII/os_task.c **** 
 897:Libraries/uC-OSIII/os_task.c ****     ts = OS_TS_GET();                                       /* Get timestamp                       
 1751              		.loc 1 897 0
 1752 0d1a FFF7FEFF 		bl	CPU_TS_TmrRd
 1753 0d1e 7861     		str	r0, [r7, #20]
 898:Libraries/uC-OSIII/os_task.c **** 
 899:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_ISR_POST_DEFERRED_EN > 0u
 900:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {
 1754              		.loc 1 900 0
 1755 0d20 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 1756 0d24 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 1757 0d28 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1758 0d2a 002B     		cmp	r3, #0
 1759 0d2c 12D0     		beq	.L116
 901:Libraries/uC-OSIII/os_task.c ****         OS_IntQPost((OS_OBJ_TYPE)OS_OBJ_TYPE_TASK_MSG,      /* Post to ISR queue                   
 1760              		.loc 1 901 0
 1761 0d2e FB88     		ldrh	r3, [r7, #6]
 1762 0d30 4FF00002 		mov	r2, #0
 1763 0d34 0092     		str	r2, [sp, #0]
 1764 0d36 BA88     		ldrh	r2, [r7, #4]
 1765 0d38 0192     		str	r2, [sp, #4]
 1766 0d3a 7A69     		ldr	r2, [r7, #20]
 1767 0d3c 0292     		str	r2, [sp, #8]
 1768 0d3e 3A6A     		ldr	r2, [r7, #32]
 1769 0d40 0392     		str	r2, [sp, #12]
 1770 0d42 44F65450 		movw	r0, #19796
 1771 0d46 C4F25370 		movt	r0, 18259
 1772 0d4a F968     		ldr	r1, [r7, #12]
 1773 0d4c BA68     		ldr	r2, [r7, #8]
 1774 0d4e FFF7FEFF 		bl	OS_IntQPost
 902:Libraries/uC-OSIII/os_task.c ****                     (void      *)p_tcb,
 903:Libraries/uC-OSIII/os_task.c ****                     (void      *)p_void,
 904:Libraries/uC-OSIII/os_task.c ****                     (OS_MSG_SIZE)msg_size,
 905:Libraries/uC-OSIII/os_task.c ****                     (OS_FLAGS   )0,
 906:Libraries/uC-OSIII/os_task.c ****                     (OS_OPT     )opt,
 907:Libraries/uC-OSIII/os_task.c ****                     (CPU_TS     )ts,
 908:Libraries/uC-OSIII/os_task.c ****                     (OS_ERR    *)p_err);
 909:Libraries/uC-OSIII/os_task.c ****         return;
 1775              		.loc 1 909 0
 1776 0d52 09E0     		b	.L115
 1777              	.L116:
 910:Libraries/uC-OSIII/os_task.c ****     }
 911:Libraries/uC-OSIII/os_task.c **** #endif
 912:Libraries/uC-OSIII/os_task.c **** 
 913:Libraries/uC-OSIII/os_task.c ****     OS_TaskQPost(p_tcb,
 1778              		.loc 1 913 0
 1779 0d54 FA88     		ldrh	r2, [r7, #6]
 1780 0d56 BB88     		ldrh	r3, [r7, #4]
 1781 0d58 7969     		ldr	r1, [r7, #20]
 1782 0d5a 0091     		str	r1, [sp, #0]
 1783 0d5c 396A     		ldr	r1, [r7, #32]
 1784 0d5e 0191     		str	r1, [sp, #4]
 1785 0d60 F868     		ldr	r0, [r7, #12]
 1786 0d62 B968     		ldr	r1, [r7, #8]
 1787 0d64 FFF7FEFF 		bl	OS_TaskQPost
 1788              	.L115:
 914:Libraries/uC-OSIII/os_task.c ****                  p_void,
 915:Libraries/uC-OSIII/os_task.c ****                  msg_size,
 916:Libraries/uC-OSIII/os_task.c ****                  opt,
 917:Libraries/uC-OSIII/os_task.c ****                  ts,
 918:Libraries/uC-OSIII/os_task.c ****                  p_err);
 919:Libraries/uC-OSIII/os_task.c **** }
 1789              		.loc 1 919 0
 1790 0d68 07F11807 		add	r7, r7, #24
 1791 0d6c BD46     		mov	sp, r7
 1792 0d6e 80BD     		pop	{r7, pc}
 1793              		.cfi_endproc
 1794              	.LFE6:
 1796              		.align	2
 1797              		.global	OSTaskRegGet
 1798              		.thumb
 1799              		.thumb_func
 1801              	OSTaskRegGet:
 1802              	.LFB7:
 920:Libraries/uC-OSIII/os_task.c **** #endif
 921:Libraries/uC-OSIII/os_task.c **** 
 922:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
 923:Libraries/uC-OSIII/os_task.c **** /*
 924:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 925:Libraries/uC-OSIII/os_task.c **** *                                       GET THE CURRENT VALUE OF A TASK REGISTER
 926:Libraries/uC-OSIII/os_task.c **** *
 927:Libraries/uC-OSIII/os_task.c **** * Description: This function is called to obtain the current value of a task register.  Task regist
 928:Libraries/uC-OSIII/os_task.c **** *              specific and can be used to store task specific values such as 'error numbers' (i.e.
 929:Libraries/uC-OSIII/os_task.c **** *              etc.
 930:Libraries/uC-OSIII/os_task.c **** *
 931:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb     is a pointer to the OS_TCB of the task you want to read the register from.
 932:Libraries/uC-OSIII/os_task.c **** *                        NULL pointer then you will get the register of the current task.
 933:Libraries/uC-OSIII/os_task.c **** *
 934:Libraries/uC-OSIII/os_task.c **** *              id        is the 'id' of the desired task variable.  Note that the 'id' must be less
 935:Libraries/uC-OSIII/os_task.c **** *                        OS_CFG_TASK_REG_TBL_SIZE
 936:Libraries/uC-OSIII/os_task.c **** *
 937:Libraries/uC-OSIII/os_task.c **** *              p_err     is a pointer to a variable that will hold an error code related to this ca
 938:Libraries/uC-OSIII/os_task.c **** *
 939:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_NONE            if the call was successful
 940:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_REG_ID_INVALID  if the 'id' is not between 0 and OS_CFG_TASK_RE
 941:Libraries/uC-OSIII/os_task.c **** *
 942:Libraries/uC-OSIII/os_task.c **** * Returns    : The current value of the task's register or 0 if an error is detected.
 943:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 944:Libraries/uC-OSIII/os_task.c **** */
 945:Libraries/uC-OSIII/os_task.c **** 
 946:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_REG_TBL_SIZE > 0u
 947:Libraries/uC-OSIII/os_task.c **** OS_REG  OSTaskRegGet (OS_TCB     *p_tcb,
 948:Libraries/uC-OSIII/os_task.c ****                       OS_REG_ID   id,
 949:Libraries/uC-OSIII/os_task.c ****                       OS_ERR     *p_err)
 950:Libraries/uC-OSIII/os_task.c **** {
 1803              		.loc 1 950 0
 1804              		.cfi_startproc
 1805              		@ args = 0, pretend = 0, frame = 24
 1806              		@ frame_needed = 1, uses_anonymous_args = 0
 1807 0d70 80B5     		push	{r7, lr}
 1808              	.LCFI21:
 1809              		.cfi_def_cfa_offset 8
 1810              		.cfi_offset 14, -4
 1811              		.cfi_offset 7, -8
 1812 0d72 86B0     		sub	sp, sp, #24
 1813              	.LCFI22:
 1814              		.cfi_def_cfa_offset 32
 1815 0d74 00AF     		add	r7, sp, #0
 1816              	.LCFI23:
 1817              		.cfi_def_cfa_register 7
 1818 0d76 F860     		str	r0, [r7, #12]
 1819 0d78 0B46     		mov	r3, r1
 1820 0d7a 7A60     		str	r2, [r7, #4]
 1821 0d7c FB72     		strb	r3, [r7, #11]
 951:Libraries/uC-OSIII/os_task.c ****     OS_REG     value;
 952:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 1822              		.loc 1 952 0
 1823 0d7e 4FF00003 		mov	r3, #0
 1824 0d82 7B61     		str	r3, [r7, #20]
 953:Libraries/uC-OSIII/os_task.c **** 
 954:Libraries/uC-OSIII/os_task.c **** 
 955:Libraries/uC-OSIII/os_task.c **** 
 956:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
 957:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
 958:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 959:Libraries/uC-OSIII/os_task.c ****     }
 960:Libraries/uC-OSIII/os_task.c **** #endif
 961:Libraries/uC-OSIII/os_task.c **** 
 962:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_ARG_CHK_EN > 0u
 963:Libraries/uC-OSIII/os_task.c ****     if (id >= OS_CFG_TASK_REG_TBL_SIZE) {
 1825              		.loc 1 963 0
 1826 0d84 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1827 0d86 002B     		cmp	r3, #0
 1828 0d88 06D0     		beq	.L119
 964:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_REG_ID_INVALID;
 1829              		.loc 1 964 0
 1830 0d8a 7B68     		ldr	r3, [r7, #4]
 1831 0d8c 46F67912 		movw	r2, #27001
 1832 0d90 1A80     		strh	r2, [r3, #0]	@ movhi
 965:Libraries/uC-OSIII/os_task.c ****         return ((OS_REG)0);
 1833              		.loc 1 965 0
 1834 0d92 4FF00003 		mov	r3, #0
 1835 0d96 1EE0     		b	.L120
 1836              	.L119:
 966:Libraries/uC-OSIII/os_task.c ****     }
 967:Libraries/uC-OSIII/os_task.c **** #endif
 968:Libraries/uC-OSIII/os_task.c **** 
 969:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_ENTER();
 1837              		.loc 1 969 0
 1838 0d98 FFF7FEFF 		bl	CPU_SR_Save
 1839 0d9c 7861     		str	r0, [r7, #20]
 1840 0d9e FFF7FEFF 		bl	CPU_IntDisMeasStart
 970:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 1841              		.loc 1 970 0
 1842 0da2 FB68     		ldr	r3, [r7, #12]
 1843 0da4 002B     		cmp	r3, #0
 1844 0da6 05D1     		bne	.L121
 971:Libraries/uC-OSIII/os_task.c ****         p_tcb = OSTCBCurPtr;
 1845              		.loc 1 971 0
 1846 0da8 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1847 0dac C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1848 0db0 1B68     		ldr	r3, [r3, #0]
 1849 0db2 FB60     		str	r3, [r7, #12]
 1850              	.L121:
 972:Libraries/uC-OSIII/os_task.c ****     }
 973:Libraries/uC-OSIII/os_task.c ****     value  = p_tcb->RegTbl[id];
 1851              		.loc 1 973 0
 1852 0db4 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 1853 0db6 FB68     		ldr	r3, [r7, #12]
 1854 0db8 02F11A02 		add	r2, r2, #26
 1855 0dbc 53F82230 		ldr	r3, [r3, r2, lsl #2]
 1856 0dc0 3B61     		str	r3, [r7, #16]
 974:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_EXIT();
 1857              		.loc 1 974 0
 1858 0dc2 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1859 0dc6 7869     		ldr	r0, [r7, #20]
 1860 0dc8 FFF7FEFF 		bl	CPU_SR_Restore
 975:Libraries/uC-OSIII/os_task.c ****     *p_err = OS_ERR_NONE;
 1861              		.loc 1 975 0
 1862 0dcc 7B68     		ldr	r3, [r7, #4]
 1863 0dce 4FF00002 		mov	r2, #0
 1864 0dd2 1A80     		strh	r2, [r3, #0]	@ movhi
 976:Libraries/uC-OSIII/os_task.c ****     return ((OS_REG)value);
 1865              		.loc 1 976 0
 1866 0dd4 3B69     		ldr	r3, [r7, #16]
 1867              	.L120:
 977:Libraries/uC-OSIII/os_task.c **** }
 1868              		.loc 1 977 0
 1869 0dd6 1846     		mov	r0, r3
 1870 0dd8 07F11807 		add	r7, r7, #24
 1871 0ddc BD46     		mov	sp, r7
 1872 0dde 80BD     		pop	{r7, pc}
 1873              		.cfi_endproc
 1874              	.LFE7:
 1876              		.align	2
 1877              		.global	OSTaskRegSet
 1878              		.thumb
 1879              		.thumb_func
 1881              	OSTaskRegSet:
 1882              	.LFB8:
 978:Libraries/uC-OSIII/os_task.c **** #endif
 979:Libraries/uC-OSIII/os_task.c **** 
 980:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
 981:Libraries/uC-OSIII/os_task.c **** /*
 982:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
 983:Libraries/uC-OSIII/os_task.c **** *                                       SET THE CURRENT VALUE OF A TASK REGISTER
 984:Libraries/uC-OSIII/os_task.c **** *
 985:Libraries/uC-OSIII/os_task.c **** * Description: This function is called to change the current value of a task register.  Task regist
 986:Libraries/uC-OSIII/os_task.c **** *              specific and can be used to store task specific values such as 'error numbers' (i.e.
 987:Libraries/uC-OSIII/os_task.c **** *              etc.
 988:Libraries/uC-OSIII/os_task.c **** *
 989:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb     is a pointer to the OS_TCB of the task you want to set the register for.  
 990:Libraries/uC-OSIII/os_task.c **** *                        pointer then you will change the register of the current task.
 991:Libraries/uC-OSIII/os_task.c **** *
 992:Libraries/uC-OSIII/os_task.c **** *              id        is the 'id' of the desired task register.  Note that the 'id' must be less
 993:Libraries/uC-OSIII/os_task.c **** *                        OS_CFG_TASK_REG_TBL_SIZE
 994:Libraries/uC-OSIII/os_task.c **** *
 995:Libraries/uC-OSIII/os_task.c **** *              value     is the desired value for the task register.
 996:Libraries/uC-OSIII/os_task.c **** *
 997:Libraries/uC-OSIII/os_task.c **** *              p_err     is a pointer to a variable that will hold an error code related to this ca
 998:Libraries/uC-OSIII/os_task.c **** *
 999:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_NONE            if the call was successful
1000:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_REG_ID_INVALID  if the 'id' is not between 0 and OS_CFG_TASK_RE
1001:Libraries/uC-OSIII/os_task.c **** *
1002:Libraries/uC-OSIII/os_task.c **** * Returns    : none
1003:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1004:Libraries/uC-OSIII/os_task.c **** */
1005:Libraries/uC-OSIII/os_task.c **** 
1006:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_REG_TBL_SIZE > 0u
1007:Libraries/uC-OSIII/os_task.c **** void  OSTaskRegSet (OS_TCB    *p_tcb,
1008:Libraries/uC-OSIII/os_task.c ****                     OS_REG_ID  id,
1009:Libraries/uC-OSIII/os_task.c ****                     OS_REG     value,
1010:Libraries/uC-OSIII/os_task.c ****                     OS_ERR    *p_err)
1011:Libraries/uC-OSIII/os_task.c **** {
 1883              		.loc 1 1011 0
 1884              		.cfi_startproc
 1885              		@ args = 0, pretend = 0, frame = 24
 1886              		@ frame_needed = 1, uses_anonymous_args = 0
 1887 0de0 80B5     		push	{r7, lr}
 1888              	.LCFI24:
 1889              		.cfi_def_cfa_offset 8
 1890              		.cfi_offset 14, -4
 1891              		.cfi_offset 7, -8
 1892 0de2 86B0     		sub	sp, sp, #24
 1893              	.LCFI25:
 1894              		.cfi_def_cfa_offset 32
 1895 0de4 00AF     		add	r7, sp, #0
 1896              	.LCFI26:
 1897              		.cfi_def_cfa_register 7
 1898 0de6 F860     		str	r0, [r7, #12]
 1899 0de8 7A60     		str	r2, [r7, #4]
 1900 0dea 3B60     		str	r3, [r7, #0]
 1901 0dec 0B46     		mov	r3, r1
 1902 0dee FB72     		strb	r3, [r7, #11]
1012:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 1903              		.loc 1 1012 0
 1904 0df0 4FF00003 		mov	r3, #0
 1905 0df4 7B61     		str	r3, [r7, #20]
1013:Libraries/uC-OSIII/os_task.c **** 
1014:Libraries/uC-OSIII/os_task.c **** 
1015:Libraries/uC-OSIII/os_task.c **** 
1016:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1017:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
1018:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1019:Libraries/uC-OSIII/os_task.c ****     }
1020:Libraries/uC-OSIII/os_task.c **** #endif
1021:Libraries/uC-OSIII/os_task.c **** 
1022:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_ARG_CHK_EN > 0u
1023:Libraries/uC-OSIII/os_task.c ****     if (id >= OS_CFG_TASK_REG_TBL_SIZE) {
 1906              		.loc 1 1023 0
 1907 0df6 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1908 0df8 002B     		cmp	r3, #0
 1909 0dfa 04D0     		beq	.L123
1024:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_REG_ID_INVALID;
 1910              		.loc 1 1024 0
 1911 0dfc 3B68     		ldr	r3, [r7, #0]
 1912 0dfe 46F67912 		movw	r2, #27001
 1913 0e02 1A80     		strh	r2, [r3, #0]	@ movhi
1025:Libraries/uC-OSIII/os_task.c ****         return;
 1914              		.loc 1 1025 0
 1915 0e04 1DE0     		b	.L122
 1916              	.L123:
1026:Libraries/uC-OSIII/os_task.c ****     }
1027:Libraries/uC-OSIII/os_task.c **** #endif
1028:Libraries/uC-OSIII/os_task.c **** 
1029:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_ENTER();
 1917              		.loc 1 1029 0
 1918 0e06 FFF7FEFF 		bl	CPU_SR_Save
 1919 0e0a 7861     		str	r0, [r7, #20]
 1920 0e0c FFF7FEFF 		bl	CPU_IntDisMeasStart
1030:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 1921              		.loc 1 1030 0
 1922 0e10 FB68     		ldr	r3, [r7, #12]
 1923 0e12 002B     		cmp	r3, #0
 1924 0e14 05D1     		bne	.L125
1031:Libraries/uC-OSIII/os_task.c ****         p_tcb = OSTCBCurPtr;
 1925              		.loc 1 1031 0
 1926 0e16 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 1927 0e1a C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 1928 0e1e 1B68     		ldr	r3, [r3, #0]
 1929 0e20 FB60     		str	r3, [r7, #12]
 1930              	.L125:
1032:Libraries/uC-OSIII/os_task.c ****     }
1033:Libraries/uC-OSIII/os_task.c ****     p_tcb->RegTbl[id] = value;
 1931              		.loc 1 1033 0
 1932 0e22 FA7A     		ldrb	r2, [r7, #11]	@ zero_extendqisi2
 1933 0e24 FB68     		ldr	r3, [r7, #12]
 1934 0e26 02F11A02 		add	r2, r2, #26
 1935 0e2a 7968     		ldr	r1, [r7, #4]
 1936 0e2c 43F82210 		str	r1, [r3, r2, lsl #2]
1034:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_EXIT();
 1937              		.loc 1 1034 0
 1938 0e30 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1939 0e34 7869     		ldr	r0, [r7, #20]
 1940 0e36 FFF7FEFF 		bl	CPU_SR_Restore
1035:Libraries/uC-OSIII/os_task.c ****     *p_err            = OS_ERR_NONE;
 1941              		.loc 1 1035 0
 1942 0e3a 3B68     		ldr	r3, [r7, #0]
 1943 0e3c 4FF00002 		mov	r2, #0
 1944 0e40 1A80     		strh	r2, [r3, #0]	@ movhi
 1945              	.L122:
1036:Libraries/uC-OSIII/os_task.c **** }
 1946              		.loc 1 1036 0
 1947 0e42 07F11807 		add	r7, r7, #24
 1948 0e46 BD46     		mov	sp, r7
 1949 0e48 80BD     		pop	{r7, pc}
 1950              		.cfi_endproc
 1951              	.LFE8:
 1953 0e4a 00BF     		.align	2
 1954              		.global	OSTaskResume
 1955              		.thumb
 1956              		.thumb_func
 1958              	OSTaskResume:
 1959              	.LFB9:
1037:Libraries/uC-OSIII/os_task.c **** #endif
1038:Libraries/uC-OSIII/os_task.c **** 
1039:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
1040:Libraries/uC-OSIII/os_task.c **** /*
1041:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1042:Libraries/uC-OSIII/os_task.c **** *                                               RESUME A SUSPENDED TASK
1043:Libraries/uC-OSIII/os_task.c **** *
1044:Libraries/uC-OSIII/os_task.c **** * Description: This function is called to resume a previously suspended task.  This is the only cal
1045:Libraries/uC-OSIII/os_task.c **** *              explicit task suspension.
1046:Libraries/uC-OSIII/os_task.c **** *
1047:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb      Is a pointer to the task's OS_TCB to resume
1048:Libraries/uC-OSIII/os_task.c **** *
1049:Libraries/uC-OSIII/os_task.c **** *              p_err      Is a pointer to a variable that will contain an error code returned by th
1050:Libraries/uC-OSIII/os_task.c **** *
1051:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_NONE                  if the requested task is resumed
1052:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_STATE_INVALID         if the task is in an invalid state
1053:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_TASK_RESUME_ISR       if you called this function from an ISR
1054:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_TASK_RESUME_SELF      You cannot resume 'self'
1055:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_TASK_NOT_SUSPENDED    if the task to resume has not been suspe
1056:Libraries/uC-OSIII/os_task.c **** *
1057:Libraries/uC-OSIII/os_task.c **** * Returns    : none
1058:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1059:Libraries/uC-OSIII/os_task.c **** */
1060:Libraries/uC-OSIII/os_task.c **** 
1061:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_SUSPEND_EN > 0u
1062:Libraries/uC-OSIII/os_task.c **** void  OSTaskResume (OS_TCB  *p_tcb,
1063:Libraries/uC-OSIII/os_task.c ****                     OS_ERR  *p_err)
1064:Libraries/uC-OSIII/os_task.c **** {
 1960              		.loc 1 1064 0
 1961              		.cfi_startproc
 1962              		@ args = 0, pretend = 0, frame = 16
 1963              		@ frame_needed = 1, uses_anonymous_args = 0
 1964 0e4c 80B5     		push	{r7, lr}
 1965              	.LCFI27:
 1966              		.cfi_def_cfa_offset 8
 1967              		.cfi_offset 14, -4
 1968              		.cfi_offset 7, -8
 1969 0e4e 84B0     		sub	sp, sp, #16
 1970              	.LCFI28:
 1971              		.cfi_def_cfa_offset 24
 1972 0e50 00AF     		add	r7, sp, #0
 1973              	.LCFI29:
 1974              		.cfi_def_cfa_register 7
 1975 0e52 7860     		str	r0, [r7, #4]
 1976 0e54 3960     		str	r1, [r7, #0]
1065:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 1977              		.loc 1 1065 0
 1978 0e56 4FF00003 		mov	r3, #0
 1979 0e5a FB60     		str	r3, [r7, #12]
1066:Libraries/uC-OSIII/os_task.c **** 
1067:Libraries/uC-OSIII/os_task.c **** 
1068:Libraries/uC-OSIII/os_task.c **** 
1069:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1070:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
1071:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1072:Libraries/uC-OSIII/os_task.c ****     }
1073:Libraries/uC-OSIII/os_task.c **** #endif
1074:Libraries/uC-OSIII/os_task.c **** 
1075:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u
1076:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* Not allowed to call from an ISR     
 1980              		.loc 1 1076 0
 1981 0e5c 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 1982 0e60 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 1983 0e64 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1984 0e66 002B     		cmp	r3, #0
 1985 0e68 04D0     		beq	.L127
1077:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_TASK_RESUME_ISR;
 1986              		.loc 1 1077 0
 1987 0e6a 3B68     		ldr	r3, [r7, #0]
 1988 0e6c 47F25512 		movw	r2, #29013
 1989 0e70 1A80     		strh	r2, [r3, #0]	@ movhi
1078:Libraries/uC-OSIII/os_task.c ****         return;
 1990              		.loc 1 1078 0
 1991 0e72 EAE0     		b	.L126
 1992              	.L127:
1079:Libraries/uC-OSIII/os_task.c ****     }
1080:Libraries/uC-OSIII/os_task.c **** #endif
1081:Libraries/uC-OSIII/os_task.c **** 
1082:Libraries/uC-OSIII/os_task.c **** 
1083:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_ENTER();
 1993              		.loc 1 1083 0
 1994 0e74 FFF7FEFF 		bl	CPU_SR_Save
 1995 0e78 F860     		str	r0, [r7, #12]
 1996 0e7a FFF7FEFF 		bl	CPU_IntDisMeasStart
1084:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_ARG_CHK_EN > 0u
1085:Libraries/uC-OSIII/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                           /* We cannot resume 'self'             
 1997              		.loc 1 1085 0
 1998 0e7e 7B68     		ldr	r3, [r7, #4]
 1999 0e80 002B     		cmp	r3, #0
 2000 0e82 07D0     		beq	.L129
1086:Libraries/uC-OSIII/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
 2001              		.loc 1 1086 0 discriminator 1
 2002 0e84 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2003 0e88 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2004 0e8c 1B68     		ldr	r3, [r3, #0]
1085:Libraries/uC-OSIII/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                           /* We cannot resume 'self'             
 2005              		.loc 1 1085 0 discriminator 1
 2006 0e8e 7A68     		ldr	r2, [r7, #4]
 2007 0e90 9A42     		cmp	r2, r3
 2008 0e92 09D1     		bne	.L130
 2009              	.L129:
1087:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_EXIT();
 2010              		.loc 1 1087 0
 2011 0e94 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2012 0e98 F868     		ldr	r0, [r7, #12]
 2013 0e9a FFF7FEFF 		bl	CPU_SR_Restore
1088:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_TASK_RESUME_SELF;
 2014              		.loc 1 1088 0
 2015 0e9e 3B68     		ldr	r3, [r7, #0]
 2016 0ea0 47F25712 		movw	r2, #29015
 2017 0ea4 1A80     		strh	r2, [r3, #0]	@ movhi
1089:Libraries/uC-OSIII/os_task.c ****         return;
 2018              		.loc 1 1089 0
 2019 0ea6 D0E0     		b	.L126
 2020              	.L130:
1090:Libraries/uC-OSIII/os_task.c ****     }
1091:Libraries/uC-OSIII/os_task.c **** #endif
1092:Libraries/uC-OSIII/os_task.c **** 
1093:Libraries/uC-OSIII/os_task.c ****     *p_err  = OS_ERR_NONE;
 2021              		.loc 1 1093 0
 2022 0ea8 3B68     		ldr	r3, [r7, #0]
 2023 0eaa 4FF00002 		mov	r2, #0
 2024 0eae 1A80     		strh	r2, [r3, #0]	@ movhi
1094:Libraries/uC-OSIII/os_task.c ****     switch (p_tcb->TaskState) {
 2025              		.loc 1 1094 0
 2026 0eb0 7B68     		ldr	r3, [r7, #4]
 2027 0eb2 93F8C230 		ldrb	r3, [r3, #194]	@ zero_extendqisi2
 2028 0eb6 072B     		cmp	r3, #7
 2029 0eb8 00F2BB80 		bhi	.L131
 2030 0ebc 01A2     		adr	r2, .L137
 2031 0ebe 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 2032 0ec2 00BF     		.align	2
 2033              	.L137:
 2034 0ec4 E50E0000 		.word	.L132+1
 2035 0ec8 E50E0000 		.word	.L132+1
 2036 0ecc E50E0000 		.word	.L132+1
 2037 0ed0 E50E0000 		.word	.L132+1
 2038 0ed4 F90E0000 		.word	.L133+1
 2039 0ed8 9D0F0000 		.word	.L134+1
 2040 0edc CF0F0000 		.word	.L135+1
 2041 0ee0 01100000 		.word	.L136+1
 2042              	.L132:
1095:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_RDY:
1096:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_DLY:
1097:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND:
1098:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
1099:Libraries/uC-OSIII/os_task.c ****              CPU_CRITICAL_EXIT();
 2043              		.loc 1 1099 0
 2044 0ee4 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2045 0ee8 F868     		ldr	r0, [r7, #12]
 2046 0eea FFF7FEFF 		bl	CPU_SR_Restore
1100:Libraries/uC-OSIII/os_task.c ****              *p_err = OS_ERR_TASK_NOT_SUSPENDED;
 2047              		.loc 1 1100 0
 2048 0eee 3B68     		ldr	r3, [r7, #0]
 2049 0ef0 47F25312 		movw	r2, #29011
 2050 0ef4 1A80     		strh	r2, [r3, #0]	@ movhi
1101:Libraries/uC-OSIII/os_task.c ****              break;
 2051              		.loc 1 1101 0
 2052 0ef6 A6E0     		b	.L138
 2053              	.L133:
1102:Libraries/uC-OSIII/os_task.c **** 
1103:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_SUSPENDED:
1104:Libraries/uC-OSIII/os_task.c ****              OS_CRITICAL_ENTER_CPU_CRITICAL_EXIT();
 2054              		.loc 1 1104 0
 2055 0ef8 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2056 0efc C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2057 0f00 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2058 0f02 03F10103 		add	r3, r3, #1
 2059 0f06 DAB2     		uxtb	r2, r3
 2060 0f08 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2061 0f0c C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2062 0f10 1A70     		strb	r2, [r3, #0]
 2063 0f12 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2064 0f16 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2065 0f1a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2066 0f1c 012B     		cmp	r3, #1
 2067 0f1e 01D1     		bne	.L139
 2068              		.loc 1 1104 0 is_stmt 0 discriminator 1
 2069 0f20 FFF7FEFF 		bl	OS_SchedLockTimeMeasStart
 2070              	.L139:
 2071              		.loc 1 1104 0 discriminator 2
 2072 0f24 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2073 0f28 F868     		ldr	r0, [r7, #12]
 2074 0f2a FFF7FEFF 		bl	CPU_SR_Restore
1105:Libraries/uC-OSIII/os_task.c ****              p_tcb->SuspendCtr--;
 2075              		.loc 1 1105 0 is_stmt 1 discriminator 2
 2076 0f2e 7B68     		ldr	r3, [r7, #4]
 2077 0f30 93F87830 		ldrb	r3, [r3, #120]	@ zero_extendqisi2
 2078 0f34 03F1FF33 		add	r3, r3, #-1
 2079 0f38 DAB2     		uxtb	r2, r3
 2080 0f3a 7B68     		ldr	r3, [r7, #4]
 2081 0f3c 83F87820 		strb	r2, [r3, #120]
1106:Libraries/uC-OSIII/os_task.c ****              if (p_tcb->SuspendCtr == (OS_NESTING_CTR)0) {
 2082              		.loc 1 1106 0 discriminator 2
 2083 0f40 7B68     		ldr	r3, [r7, #4]
 2084 0f42 93F87830 		ldrb	r3, [r3, #120]	@ zero_extendqisi2
 2085 0f46 002B     		cmp	r3, #0
 2086 0f48 07D1     		bne	.L140
1107:Libraries/uC-OSIII/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_RDY;
 2087              		.loc 1 1107 0
 2088 0f4a 7B68     		ldr	r3, [r7, #4]
 2089 0f4c 4FF00002 		mov	r2, #0
 2090 0f50 83F8C220 		strb	r2, [r3, #194]
1108:Libraries/uC-OSIII/os_task.c ****                  OS_TaskRdy(p_tcb);
 2091              		.loc 1 1108 0
 2092 0f54 7868     		ldr	r0, [r7, #4]
 2093 0f56 FFF7FEFF 		bl	OS_TaskRdy
 2094              	.L140:
1109:Libraries/uC-OSIII/os_task.c ****              }
1110:Libraries/uC-OSIII/os_task.c ****              OS_CRITICAL_EXIT_NO_SCHED();
 2095              		.loc 1 1110 0
 2096 0f5a FFF7FEFF 		bl	CPU_SR_Save
 2097 0f5e F860     		str	r0, [r7, #12]
 2098 0f60 FFF7FEFF 		bl	CPU_IntDisMeasStart
 2099 0f64 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2100 0f68 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2101 0f6c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2102 0f6e 03F1FF33 		add	r3, r3, #-1
 2103 0f72 DAB2     		uxtb	r2, r3
 2104 0f74 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2105 0f78 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2106 0f7c 1A70     		strb	r2, [r3, #0]
 2107 0f7e 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2108 0f82 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2109 0f86 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2110 0f88 002B     		cmp	r3, #0
 2111 0f8a 01D1     		bne	.L141
 2112              		.loc 1 1110 0 is_stmt 0 discriminator 1
 2113 0f8c FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 2114              	.L141:
 2115              		.loc 1 1110 0 discriminator 2
 2116 0f90 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2117 0f94 F868     		ldr	r0, [r7, #12]
 2118 0f96 FFF7FEFF 		bl	CPU_SR_Restore
1111:Libraries/uC-OSIII/os_task.c ****              break;
 2119              		.loc 1 1111 0 is_stmt 1 discriminator 2
 2120 0f9a 54E0     		b	.L138
 2121              	.L134:
1112:Libraries/uC-OSIII/os_task.c **** 
1113:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_DLY_SUSPENDED:
1114:Libraries/uC-OSIII/os_task.c ****              p_tcb->SuspendCtr--;
 2122              		.loc 1 1114 0
 2123 0f9c 7B68     		ldr	r3, [r7, #4]
 2124 0f9e 93F87830 		ldrb	r3, [r3, #120]	@ zero_extendqisi2
 2125 0fa2 03F1FF33 		add	r3, r3, #-1
 2126 0fa6 DAB2     		uxtb	r2, r3
 2127 0fa8 7B68     		ldr	r3, [r7, #4]
 2128 0faa 83F87820 		strb	r2, [r3, #120]
1115:Libraries/uC-OSIII/os_task.c ****              if (p_tcb->SuspendCtr == (OS_NESTING_CTR)0) {
 2129              		.loc 1 1115 0
 2130 0fae 7B68     		ldr	r3, [r7, #4]
 2131 0fb0 93F87830 		ldrb	r3, [r3, #120]	@ zero_extendqisi2
 2132 0fb4 002B     		cmp	r3, #0
 2133 0fb6 04D1     		bne	.L142
1116:Libraries/uC-OSIII/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_DLY;
 2134              		.loc 1 1116 0
 2135 0fb8 7B68     		ldr	r3, [r7, #4]
 2136 0fba 4FF00102 		mov	r2, #1
 2137 0fbe 83F8C220 		strb	r2, [r3, #194]
 2138              	.L142:
1117:Libraries/uC-OSIII/os_task.c ****              }
1118:Libraries/uC-OSIII/os_task.c ****              CPU_CRITICAL_EXIT();
 2139              		.loc 1 1118 0
 2140 0fc2 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2141 0fc6 F868     		ldr	r0, [r7, #12]
 2142 0fc8 FFF7FEFF 		bl	CPU_SR_Restore
1119:Libraries/uC-OSIII/os_task.c ****              break;
 2143              		.loc 1 1119 0
 2144 0fcc 3BE0     		b	.L138
 2145              	.L135:
1120:Libraries/uC-OSIII/os_task.c **** 
1121:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
1122:Libraries/uC-OSIII/os_task.c ****              p_tcb->SuspendCtr--;
 2146              		.loc 1 1122 0
 2147 0fce 7B68     		ldr	r3, [r7, #4]
 2148 0fd0 93F87830 		ldrb	r3, [r3, #120]	@ zero_extendqisi2
 2149 0fd4 03F1FF33 		add	r3, r3, #-1
 2150 0fd8 DAB2     		uxtb	r2, r3
 2151 0fda 7B68     		ldr	r3, [r7, #4]
 2152 0fdc 83F87820 		strb	r2, [r3, #120]
1123:Libraries/uC-OSIII/os_task.c ****              if (p_tcb->SuspendCtr == (OS_NESTING_CTR)0) {
 2153              		.loc 1 1123 0
 2154 0fe0 7B68     		ldr	r3, [r7, #4]
 2155 0fe2 93F87830 		ldrb	r3, [r3, #120]	@ zero_extendqisi2
 2156 0fe6 002B     		cmp	r3, #0
 2157 0fe8 04D1     		bne	.L143
1124:Libraries/uC-OSIII/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_PEND;
 2158              		.loc 1 1124 0
 2159 0fea 7B68     		ldr	r3, [r7, #4]
 2160 0fec 4FF00202 		mov	r2, #2
 2161 0ff0 83F8C220 		strb	r2, [r3, #194]
 2162              	.L143:
1125:Libraries/uC-OSIII/os_task.c ****              }
1126:Libraries/uC-OSIII/os_task.c ****              CPU_CRITICAL_EXIT();
 2163              		.loc 1 1126 0
 2164 0ff4 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2165 0ff8 F868     		ldr	r0, [r7, #12]
 2166 0ffa FFF7FEFF 		bl	CPU_SR_Restore
1127:Libraries/uC-OSIII/os_task.c ****              break;
 2167              		.loc 1 1127 0
 2168 0ffe 22E0     		b	.L138
 2169              	.L136:
1128:Libraries/uC-OSIII/os_task.c **** 
1129:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
1130:Libraries/uC-OSIII/os_task.c ****              p_tcb->SuspendCtr--;
 2170              		.loc 1 1130 0
 2171 1000 7B68     		ldr	r3, [r7, #4]
 2172 1002 93F87830 		ldrb	r3, [r3, #120]	@ zero_extendqisi2
 2173 1006 03F1FF33 		add	r3, r3, #-1
 2174 100a DAB2     		uxtb	r2, r3
 2175 100c 7B68     		ldr	r3, [r7, #4]
 2176 100e 83F87820 		strb	r2, [r3, #120]
1131:Libraries/uC-OSIII/os_task.c ****              if (p_tcb->SuspendCtr == (OS_NESTING_CTR)0) {
 2177              		.loc 1 1131 0
 2178 1012 7B68     		ldr	r3, [r7, #4]
 2179 1014 93F87830 		ldrb	r3, [r3, #120]	@ zero_extendqisi2
 2180 1018 002B     		cmp	r3, #0
 2181 101a 04D1     		bne	.L144
1132:Libraries/uC-OSIII/os_task.c ****                  p_tcb->TaskState = OS_TASK_STATE_PEND_TIMEOUT;
 2182              		.loc 1 1132 0
 2183 101c 7B68     		ldr	r3, [r7, #4]
 2184 101e 4FF00302 		mov	r2, #3
 2185 1022 83F8C220 		strb	r2, [r3, #194]
 2186              	.L144:
1133:Libraries/uC-OSIII/os_task.c ****              }
1134:Libraries/uC-OSIII/os_task.c ****              CPU_CRITICAL_EXIT();
 2187              		.loc 1 1134 0
 2188 1026 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2189 102a F868     		ldr	r0, [r7, #12]
 2190 102c FFF7FEFF 		bl	CPU_SR_Restore
1135:Libraries/uC-OSIII/os_task.c ****              break;
 2191              		.loc 1 1135 0
 2192 1030 09E0     		b	.L138
 2193              	.L131:
1136:Libraries/uC-OSIII/os_task.c **** 
1137:Libraries/uC-OSIII/os_task.c ****         default:
1138:Libraries/uC-OSIII/os_task.c ****              CPU_CRITICAL_EXIT();
 2194              		.loc 1 1138 0
 2195 1032 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2196 1036 F868     		ldr	r0, [r7, #12]
 2197 1038 FFF7FEFF 		bl	CPU_SR_Restore
1139:Libraries/uC-OSIII/os_task.c ****              *p_err = OS_ERR_STATE_INVALID;
 2198              		.loc 1 1139 0
 2199 103c 3B68     		ldr	r3, [r7, #0]
 2200 103e 46F62A62 		movw	r2, #28202
 2201 1042 1A80     		strh	r2, [r3, #0]	@ movhi
1140:Libraries/uC-OSIII/os_task.c ****              return;
 2202              		.loc 1 1140 0
 2203 1044 01E0     		b	.L126
 2204              	.L138:
1141:Libraries/uC-OSIII/os_task.c ****     }
1142:Libraries/uC-OSIII/os_task.c **** 
1143:Libraries/uC-OSIII/os_task.c ****     OSSched();
 2205              		.loc 1 1143 0
 2206 1046 FFF7FEFF 		bl	OSSched
 2207              	.L126:
1144:Libraries/uC-OSIII/os_task.c **** }
 2208              		.loc 1 1144 0
 2209 104a 07F11007 		add	r7, r7, #16
 2210 104e BD46     		mov	sp, r7
 2211 1050 80BD     		pop	{r7, pc}
 2212              		.cfi_endproc
 2213              	.LFE9:
 2215 1052 00BF     		.align	2
 2216              		.global	OSTaskSemPend
 2217              		.thumb
 2218              		.thumb_func
 2220              	OSTaskSemPend:
 2221              	.LFB10:
1145:Libraries/uC-OSIII/os_task.c **** #endif
1146:Libraries/uC-OSIII/os_task.c **** 
1147:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
1148:Libraries/uC-OSIII/os_task.c **** /*
1149:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1150:Libraries/uC-OSIII/os_task.c **** *                                              WAIT FOR A TASK SEMAPHORE
1151:Libraries/uC-OSIII/os_task.c **** *
1152:Libraries/uC-OSIII/os_task.c **** * Description: This function is called to block the current task until a signal is sent by another 
1153:Libraries/uC-OSIII/os_task.c **** *
1154:Libraries/uC-OSIII/os_task.c **** * Arguments  : timeout       is the amount of time you are will to wait for the signal
1155:Libraries/uC-OSIII/os_task.c **** *
1156:Libraries/uC-OSIII/os_task.c **** *              opt           determines whether the user wants to block if a semaphore post was not
1157:Libraries/uC-OSIII/os_task.c **** *
1158:Libraries/uC-OSIII/os_task.c **** *                                OS_OPT_PEND_BLOCKING
1159:Libraries/uC-OSIII/os_task.c **** *                                OS_OPT_PEND_NON_BLOCKING
1160:Libraries/uC-OSIII/os_task.c **** *
1161:Libraries/uC-OSIII/os_task.c **** *              p_ts          is a pointer to a variable that will receive the timestamp of when the
1162:Libraries/uC-OSIII/os_task.c **** *                            or pend aborted.  If you pass a NULL pointer (i.e. (CPU_TS *)0) then y
1163:Libraries/uC-OSIII/os_task.c **** *                            timestamp.  In other words, passing a NULL pointer is valid and indica
1164:Libraries/uC-OSIII/os_task.c **** *                            need the timestamp.
1165:Libraries/uC-OSIII/os_task.c **** *
1166:Libraries/uC-OSIII/os_task.c **** *              p_err         is a pointer to an error code that will be set by this function
1167:Libraries/uC-OSIII/os_task.c **** *
1168:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_NONE               The call was successful and your task re
1169:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_PEND_ABORT
1170:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_PEND_ISR           If you called this function from an ISR 
1171:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_PEND_WOULD_BLOCK   If you specified non-blocking but no sig
1172:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_SCHED_LOCKED       If the scheduler is locked
1173:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_STATUS_INVALID     If the pend status is invalid
1174:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_TIMEOUT            A message was not received within the sp
1175:Libraries/uC-OSIII/os_task.c **** *                                                          would lead to a suspension.
1176:Libraries/uC-OSIII/os_task.c **** *
1177:Libraries/uC-OSIII/os_task.c **** * Returns    : The current count of signals the task received, 0 if none.
1178:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1179:Libraries/uC-OSIII/os_task.c **** */
1180:Libraries/uC-OSIII/os_task.c **** 
1181:Libraries/uC-OSIII/os_task.c **** OS_SEM_CTR  OSTaskSemPend (OS_TICK   timeout,
1182:Libraries/uC-OSIII/os_task.c ****                            OS_OPT    opt,
1183:Libraries/uC-OSIII/os_task.c ****                            CPU_TS   *p_ts,
1184:Libraries/uC-OSIII/os_task.c ****                            OS_ERR   *p_err)
1185:Libraries/uC-OSIII/os_task.c **** {
 2222              		.loc 1 1185 0
 2223              		.cfi_startproc
 2224              		@ args = 0, pretend = 0, frame = 24
 2225              		@ frame_needed = 1, uses_anonymous_args = 0
 2226 1054 90B5     		push	{r4, r7, lr}
 2227              	.LCFI30:
 2228              		.cfi_def_cfa_offset 12
 2229              		.cfi_offset 14, -4
 2230              		.cfi_offset 7, -8
 2231              		.cfi_offset 4, -12
 2232 1056 87B0     		sub	sp, sp, #28
 2233              	.LCFI31:
 2234              		.cfi_def_cfa_offset 40
 2235 1058 00AF     		add	r7, sp, #0
 2236              	.LCFI32:
 2237              		.cfi_def_cfa_register 7
 2238 105a F860     		str	r0, [r7, #12]
 2239 105c 7A60     		str	r2, [r7, #4]
 2240 105e 3B60     		str	r3, [r7, #0]
 2241 1060 0B46     		mov	r3, r1	@ movhi
 2242 1062 7B81     		strh	r3, [r7, #10]	@ movhi
1186:Libraries/uC-OSIII/os_task.c ****     OS_SEM_CTR    ctr;
1187:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 2243              		.loc 1 1187 0
 2244 1064 4FF00003 		mov	r3, #0
 2245 1068 7B61     		str	r3, [r7, #20]
1188:Libraries/uC-OSIII/os_task.c **** 
1189:Libraries/uC-OSIII/os_task.c **** 
1190:Libraries/uC-OSIII/os_task.c **** 
1191:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1192:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
1193:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1194:Libraries/uC-OSIII/os_task.c ****     }
1195:Libraries/uC-OSIII/os_task.c **** #endif
1196:Libraries/uC-OSIII/os_task.c **** 
1197:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u
1198:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* Not allowed to call from an ISR     
 2246              		.loc 1 1198 0
 2247 106a 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 2248 106e C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 2249 1072 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2250 1074 002B     		cmp	r3, #0
 2251 1076 06D0     		beq	.L146
1199:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PEND_ISR;
 2252              		.loc 1 1199 0
 2253 1078 3B68     		ldr	r3, [r7, #0]
 2254 107a 46F2AE12 		movw	r2, #25006
 2255 107e 1A80     		strh	r2, [r3, #0]	@ movhi
1200:Libraries/uC-OSIII/os_task.c ****         return ((OS_SEM_CTR)0);
 2256              		.loc 1 1200 0
 2257 1080 4FF00003 		mov	r3, #0
 2258 1084 46E1     		b	.L147
 2259              	.L146:
1201:Libraries/uC-OSIII/os_task.c ****     }
1202:Libraries/uC-OSIII/os_task.c **** #endif
1203:Libraries/uC-OSIII/os_task.c **** 
1204:Libraries/uC-OSIII/os_task.c ****     if (p_ts != (CPU_TS *)0) {
 2260              		.loc 1 1204 0
 2261 1086 7B68     		ldr	r3, [r7, #4]
 2262 1088 002B     		cmp	r3, #0
 2263 108a 03D0     		beq	.L148
1205:Libraries/uC-OSIII/os_task.c ****        *p_ts  = (CPU_TS  )0;                                /* Initialize the returned timestamp   
 2264              		.loc 1 1205 0
 2265 108c 7B68     		ldr	r3, [r7, #4]
 2266 108e 4FF00002 		mov	r2, #0
 2267 1092 1A60     		str	r2, [r3, #0]
 2268              	.L148:
1206:Libraries/uC-OSIII/os_task.c ****     }
1207:Libraries/uC-OSIII/os_task.c **** 
1208:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_ENTER();
 2269              		.loc 1 1208 0
 2270 1094 FFF7FEFF 		bl	CPU_SR_Save
 2271 1098 7861     		str	r0, [r7, #20]
 2272 109a FFF7FEFF 		bl	CPU_IntDisMeasStart
1209:Libraries/uC-OSIII/os_task.c ****     if (OSTCBCurPtr->SemCtr > (OS_SEM_CTR)0) {              /* See if task already been signaled   
 2273              		.loc 1 1209 0
 2274 109e 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2275 10a2 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2276 10a6 1B68     		ldr	r3, [r3, #0]
 2277 10a8 DB6E     		ldr	r3, [r3, #108]
 2278 10aa 002B     		cmp	r3, #0
 2279 10ac 4FD0     		beq	.L149
1210:Libraries/uC-OSIII/os_task.c ****         OSTCBCurPtr->SemCtr--;
 2280              		.loc 1 1210 0
 2281 10ae 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2282 10b2 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2283 10b6 1B68     		ldr	r3, [r3, #0]
 2284 10b8 DA6E     		ldr	r2, [r3, #108]
 2285 10ba 02F1FF32 		add	r2, r2, #-1
 2286 10be DA66     		str	r2, [r3, #108]
1211:Libraries/uC-OSIII/os_task.c ****         ctr    = OSTCBCurPtr->SemCtr;
 2287              		.loc 1 1211 0
 2288 10c0 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2289 10c4 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2290 10c8 1B68     		ldr	r3, [r3, #0]
 2291 10ca DB6E     		ldr	r3, [r3, #108]
 2292 10cc 3B61     		str	r3, [r7, #16]
1212:Libraries/uC-OSIII/os_task.c ****         if (p_ts != (CPU_TS *)0) {
 2293              		.loc 1 1212 0
 2294 10ce 7B68     		ldr	r3, [r7, #4]
 2295 10d0 002B     		cmp	r3, #0
 2296 10d2 07D0     		beq	.L150
1213:Libraries/uC-OSIII/os_task.c ****            *p_ts  = OSTCBCurPtr->TS;
 2297              		.loc 1 1213 0
 2298 10d4 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2299 10d8 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2300 10dc 1B68     		ldr	r3, [r3, #0]
 2301 10de 9A6B     		ldr	r2, [r3, #56]
 2302 10e0 7B68     		ldr	r3, [r7, #4]
 2303 10e2 1A60     		str	r2, [r3, #0]
 2304              	.L150:
1214:Libraries/uC-OSIII/os_task.c ****         }
1215:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_PROFILE_EN > 0u
1216:Libraries/uC-OSIII/os_task.c ****         OSTCBCurPtr->SemPendTime = OS_TS_GET() - OSTCBCurPtr->TS;
 2305              		.loc 1 1216 0
 2306 10e4 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2307 10e8 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2308 10ec 1C68     		ldr	r4, [r3, #0]
 2309 10ee FFF7FEFF 		bl	CPU_TS_TmrRd
 2310 10f2 0246     		mov	r2, r0
 2311 10f4 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2312 10f8 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2313 10fc 1B68     		ldr	r3, [r3, #0]
 2314 10fe 9B6B     		ldr	r3, [r3, #56]
 2315 1100 D31A     		subs	r3, r2, r3
 2316 1102 2367     		str	r3, [r4, #112]
1217:Libraries/uC-OSIII/os_task.c ****         if (OSTCBCurPtr->SemPendTime > OSTCBCurPtr->SemPendTimeMax) {
 2317              		.loc 1 1217 0
 2318 1104 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2319 1108 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2320 110c 1B68     		ldr	r3, [r3, #0]
 2321 110e 1A6F     		ldr	r2, [r3, #112]
 2322 1110 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2323 1114 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2324 1118 1B68     		ldr	r3, [r3, #0]
 2325 111a 5B6F     		ldr	r3, [r3, #116]
 2326 111c 9A42     		cmp	r2, r3
 2327 111e 0BD9     		bls	.L151
1218:Libraries/uC-OSIII/os_task.c ****             OSTCBCurPtr->SemPendTimeMax = OSTCBCurPtr->SemPendTime;
 2328              		.loc 1 1218 0
 2329 1120 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2330 1124 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2331 1128 1A68     		ldr	r2, [r3, #0]
 2332 112a 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2333 112e C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2334 1132 1B68     		ldr	r3, [r3, #0]
 2335 1134 1B6F     		ldr	r3, [r3, #112]
 2336 1136 5367     		str	r3, [r2, #116]
 2337              	.L151:
1219:Libraries/uC-OSIII/os_task.c ****         }
1220:Libraries/uC-OSIII/os_task.c **** #endif
1221:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_EXIT();
 2338              		.loc 1 1221 0
 2339 1138 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2340 113c 7869     		ldr	r0, [r7, #20]
 2341 113e FFF7FEFF 		bl	CPU_SR_Restore
1222:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_NONE;
 2342              		.loc 1 1222 0
 2343 1142 3B68     		ldr	r3, [r7, #0]
 2344 1144 4FF00002 		mov	r2, #0
 2345 1148 1A80     		strh	r2, [r3, #0]	@ movhi
1223:Libraries/uC-OSIII/os_task.c ****         return (ctr);
 2346              		.loc 1 1223 0
 2347 114a 3B69     		ldr	r3, [r7, #16]
 2348 114c E2E0     		b	.L147
 2349              	.L149:
1224:Libraries/uC-OSIII/os_task.c ****     }
1225:Libraries/uC-OSIII/os_task.c **** 
1226:Libraries/uC-OSIII/os_task.c ****     if ((opt & OS_OPT_PEND_NON_BLOCKING) != (OS_OPT)0) {    /* Caller wants to block if not availab
 2350              		.loc 1 1226 0
 2351 114e 7B89     		ldrh	r3, [r7, #10]
 2352 1150 1BB2     		sxth	r3, r3
 2353 1152 002B     		cmp	r3, #0
 2354 1154 0BDA     		bge	.L152
1227:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_EXIT();
 2355              		.loc 1 1227 0
 2356 1156 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2357 115a 7869     		ldr	r0, [r7, #20]
 2358 115c FFF7FEFF 		bl	CPU_SR_Restore
1228:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PEND_WOULD_BLOCK;                   /* No                                  
 2359              		.loc 1 1228 0
 2360 1160 3B68     		ldr	r3, [r7, #0]
 2361 1162 46F2B012 		movw	r2, #25008
 2362 1166 1A80     		strh	r2, [r3, #0]	@ movhi
1229:Libraries/uC-OSIII/os_task.c ****         return ((OS_SEM_CTR)0);
 2363              		.loc 1 1229 0
 2364 1168 4FF00003 		mov	r3, #0
 2365 116c D2E0     		b	.L147
 2366              	.L152:
1230:Libraries/uC-OSIII/os_task.c ****     } else {                                                /* Yes                                 
1231:Libraries/uC-OSIII/os_task.c ****         if (OSSchedLockNestingCtr > (OS_NESTING_CTR)0) {    /* Can't pend when the scheduler is loc
 2367              		.loc 1 1231 0
 2368 116e 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2369 1172 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2370 1176 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2371 1178 002B     		cmp	r3, #0
 2372 117a 0BD0     		beq	.L153
1232:Libraries/uC-OSIII/os_task.c ****             CPU_CRITICAL_EXIT();
 2373              		.loc 1 1232 0
 2374 117c FFF7FEFF 		bl	CPU_IntDisMeasStop
 2375 1180 7869     		ldr	r0, [r7, #20]
 2376 1182 FFF7FEFF 		bl	CPU_SR_Restore
1233:Libraries/uC-OSIII/os_task.c ****             *p_err = OS_ERR_SCHED_LOCKED;
 2377              		.loc 1 1233 0
 2378 1186 3B68     		ldr	r3, [r7, #0]
 2379 1188 46F66252 		movw	r2, #28002
 2380 118c 1A80     		strh	r2, [r3, #0]	@ movhi
1234:Libraries/uC-OSIII/os_task.c ****             return ((OS_SEM_CTR)0);
 2381              		.loc 1 1234 0
 2382 118e 4FF00003 		mov	r3, #0
 2383 1192 BFE0     		b	.L147
 2384              	.L153:
1235:Libraries/uC-OSIII/os_task.c ****         }
1236:Libraries/uC-OSIII/os_task.c ****     }
1237:Libraries/uC-OSIII/os_task.c **** 
1238:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_ENTER_CPU_CRITICAL_EXIT();                  /* Lock the scheduler/re-enable interru
 2385              		.loc 1 1238 0
 2386 1194 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2387 1198 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2388 119c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2389 119e 03F10103 		add	r3, r3, #1
 2390 11a2 DAB2     		uxtb	r2, r3
 2391 11a4 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2392 11a8 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2393 11ac 1A70     		strb	r2, [r3, #0]
 2394 11ae 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2395 11b2 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2396 11b6 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2397 11b8 012B     		cmp	r3, #1
 2398 11ba 01D1     		bne	.L154
 2399              		.loc 1 1238 0 is_stmt 0 discriminator 1
 2400 11bc FFF7FEFF 		bl	OS_SchedLockTimeMeasStart
 2401              	.L154:
 2402              		.loc 1 1238 0 discriminator 2
 2403 11c0 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2404 11c4 7869     		ldr	r0, [r7, #20]
 2405 11c6 FFF7FEFF 		bl	CPU_SR_Restore
1239:Libraries/uC-OSIII/os_task.c ****     OS_Pend((OS_PEND_DATA *)0,                              /* Block task pending on Signal        
 2406              		.loc 1 1239 0 is_stmt 1 discriminator 2
 2407 11ca 4FF00000 		mov	r0, #0
 2408 11ce 4FF00001 		mov	r1, #0
 2409 11d2 4FF00702 		mov	r2, #7
 2410 11d6 FB68     		ldr	r3, [r7, #12]
 2411 11d8 FFF7FEFF 		bl	OS_Pend
1240:Libraries/uC-OSIII/os_task.c ****             (OS_PEND_OBJ  *)0,
1241:Libraries/uC-OSIII/os_task.c ****             (OS_STATE      )OS_TASK_PEND_ON_TASK_SEM,
1242:Libraries/uC-OSIII/os_task.c ****             (OS_TICK       )timeout);
1243:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_EXIT_NO_SCHED();
 2412              		.loc 1 1243 0 discriminator 2
 2413 11dc FFF7FEFF 		bl	CPU_SR_Save
 2414 11e0 7861     		str	r0, [r7, #20]
 2415 11e2 FFF7FEFF 		bl	CPU_IntDisMeasStart
 2416 11e6 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2417 11ea C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2418 11ee 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2419 11f0 03F1FF33 		add	r3, r3, #-1
 2420 11f4 DAB2     		uxtb	r2, r3
 2421 11f6 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2422 11fa C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2423 11fe 1A70     		strb	r2, [r3, #0]
 2424 1200 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2425 1204 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2426 1208 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2427 120a 002B     		cmp	r3, #0
 2428 120c 01D1     		bne	.L155
 2429              		.loc 1 1243 0 is_stmt 0 discriminator 1
 2430 120e FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 2431              	.L155:
 2432              		.loc 1 1243 0 discriminator 2
 2433 1212 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2434 1216 7869     		ldr	r0, [r7, #20]
 2435 1218 FFF7FEFF 		bl	CPU_SR_Restore
1244:Libraries/uC-OSIII/os_task.c **** 
1245:Libraries/uC-OSIII/os_task.c ****     OSSched();                                              /* Find next highest priority task read
 2436              		.loc 1 1245 0 is_stmt 1 discriminator 2
 2437 121c FFF7FEFF 		bl	OSSched
1246:Libraries/uC-OSIII/os_task.c **** 
1247:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_ENTER();
 2438              		.loc 1 1247 0 discriminator 2
 2439 1220 FFF7FEFF 		bl	CPU_SR_Save
 2440 1224 7861     		str	r0, [r7, #20]
 2441 1226 FFF7FEFF 		bl	CPU_IntDisMeasStart
1248:Libraries/uC-OSIII/os_task.c ****     switch (OSTCBCurPtr->PendStatus) {                      /* See if we timed-out or aborted      
 2442              		.loc 1 1248 0 discriminator 2
 2443 122a 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2444 122e C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2445 1232 1B68     		ldr	r3, [r3, #0]
 2446 1234 93F8C130 		ldrb	r3, [r3, #193]	@ zero_extendqisi2
 2447 1238 012B     		cmp	r3, #1
 2448 123a 3DD0     		beq	.L158
 2449 123c 032B     		cmp	r3, #3
 2450 123e 4BD0     		beq	.L159
 2451 1240 002B     		cmp	r3, #0
 2452 1242 55D1     		bne	.L164
 2453              	.L157:
1249:Libraries/uC-OSIII/os_task.c ****         case OS_STATUS_PEND_OK:
1250:Libraries/uC-OSIII/os_task.c ****              if (p_ts != (CPU_TS *)0) {
 2454              		.loc 1 1250 0
 2455 1244 7B68     		ldr	r3, [r7, #4]
 2456 1246 002B     		cmp	r3, #0
 2457 1248 31D0     		beq	.L160
1251:Libraries/uC-OSIII/os_task.c ****                 *p_ts                    =  OSTCBCurPtr->TS;
 2458              		.loc 1 1251 0
 2459 124a 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2460 124e C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2461 1252 1B68     		ldr	r3, [r3, #0]
 2462 1254 9A6B     		ldr	r2, [r3, #56]
 2463 1256 7B68     		ldr	r3, [r7, #4]
 2464 1258 1A60     		str	r2, [r3, #0]
1252:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_PROFILE_EN > 0u
1253:Libraries/uC-OSIII/os_task.c ****                 OSTCBCurPtr->SemPendTime = OS_TS_GET() - OSTCBCurPtr->TS;
 2465              		.loc 1 1253 0
 2466 125a 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2467 125e C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2468 1262 1C68     		ldr	r4, [r3, #0]
 2469 1264 FFF7FEFF 		bl	CPU_TS_TmrRd
 2470 1268 0246     		mov	r2, r0
 2471 126a 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2472 126e C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2473 1272 1B68     		ldr	r3, [r3, #0]
 2474 1274 9B6B     		ldr	r3, [r3, #56]
 2475 1276 D31A     		subs	r3, r2, r3
 2476 1278 2367     		str	r3, [r4, #112]
1254:Libraries/uC-OSIII/os_task.c ****                 if (OSTCBCurPtr->SemPendTime > OSTCBCurPtr->SemPendTimeMax) {
 2477              		.loc 1 1254 0
 2478 127a 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2479 127e C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2480 1282 1B68     		ldr	r3, [r3, #0]
 2481 1284 1A6F     		ldr	r2, [r3, #112]
 2482 1286 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2483 128a C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2484 128e 1B68     		ldr	r3, [r3, #0]
 2485 1290 5B6F     		ldr	r3, [r3, #116]
 2486 1292 9A42     		cmp	r2, r3
 2487 1294 0BD9     		bls	.L160
1255:Libraries/uC-OSIII/os_task.c ****                     OSTCBCurPtr->SemPendTimeMax = OSTCBCurPtr->SemPendTime;
 2488              		.loc 1 1255 0
 2489 1296 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2490 129a C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2491 129e 1A68     		ldr	r2, [r3, #0]
 2492 12a0 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2493 12a4 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2494 12a8 1B68     		ldr	r3, [r3, #0]
 2495 12aa 1B6F     		ldr	r3, [r3, #112]
 2496 12ac 5367     		str	r3, [r2, #116]
 2497              	.L160:
1256:Libraries/uC-OSIII/os_task.c ****                 }
1257:Libraries/uC-OSIII/os_task.c **** #endif
1258:Libraries/uC-OSIII/os_task.c ****              }
1259:Libraries/uC-OSIII/os_task.c ****              *p_err = OS_ERR_NONE;
 2498              		.loc 1 1259 0
 2499 12ae 3B68     		ldr	r3, [r7, #0]
 2500 12b0 4FF00002 		mov	r2, #0
 2501 12b4 1A80     		strh	r2, [r3, #0]	@ movhi
1260:Libraries/uC-OSIII/os_task.c ****              break;
 2502              		.loc 1 1260 0
 2503 12b6 20E0     		b	.L161
 2504              	.L158:
1261:Libraries/uC-OSIII/os_task.c **** 
1262:Libraries/uC-OSIII/os_task.c ****         case OS_STATUS_PEND_ABORT:
1263:Libraries/uC-OSIII/os_task.c ****              if (p_ts != (CPU_TS *)0) {
 2505              		.loc 1 1263 0
 2506 12b8 7B68     		ldr	r3, [r7, #4]
 2507 12ba 002B     		cmp	r3, #0
 2508 12bc 07D0     		beq	.L162
1264:Libraries/uC-OSIII/os_task.c ****                 *p_ts  =  OSTCBCurPtr->TS;
 2509              		.loc 1 1264 0
 2510 12be 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2511 12c2 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2512 12c6 1B68     		ldr	r3, [r3, #0]
 2513 12c8 9A6B     		ldr	r2, [r3, #56]
 2514 12ca 7B68     		ldr	r3, [r7, #4]
 2515 12cc 1A60     		str	r2, [r3, #0]
 2516              	.L162:
1265:Libraries/uC-OSIII/os_task.c ****              }
1266:Libraries/uC-OSIII/os_task.c ****              *p_err = OS_ERR_PEND_ABORT;                    /* Indicate that we aborted            
 2517              		.loc 1 1266 0
 2518 12ce 3B68     		ldr	r3, [r7, #0]
 2519 12d0 46F2A912 		movw	r2, #25001
 2520 12d4 1A80     		strh	r2, [r3, #0]	@ movhi
1267:Libraries/uC-OSIII/os_task.c ****              break;
 2521              		.loc 1 1267 0
 2522 12d6 10E0     		b	.L161
 2523              	.L159:
1268:Libraries/uC-OSIII/os_task.c **** 
1269:Libraries/uC-OSIII/os_task.c ****         case OS_STATUS_PEND_TIMEOUT:
1270:Libraries/uC-OSIII/os_task.c ****              if (p_ts != (CPU_TS *)0) {
 2524              		.loc 1 1270 0
 2525 12d8 7B68     		ldr	r3, [r7, #4]
 2526 12da 002B     		cmp	r3, #0
 2527 12dc 03D0     		beq	.L163
1271:Libraries/uC-OSIII/os_task.c ****                 *p_ts  = (CPU_TS  )0;
 2528              		.loc 1 1271 0
 2529 12de 7B68     		ldr	r3, [r7, #4]
 2530 12e0 4FF00002 		mov	r2, #0
 2531 12e4 1A60     		str	r2, [r3, #0]
 2532              	.L163:
1272:Libraries/uC-OSIII/os_task.c ****              }
1273:Libraries/uC-OSIII/os_task.c ****              *p_err = OS_ERR_TIMEOUT;                       /* Indicate that we didn't get event wi
 2533              		.loc 1 1273 0
 2534 12e6 3B68     		ldr	r3, [r7, #0]
 2535 12e8 47F2D922 		movw	r2, #29401
 2536 12ec 1A80     		strh	r2, [r3, #0]	@ movhi
1274:Libraries/uC-OSIII/os_task.c ****              break;
 2537              		.loc 1 1274 0
 2538 12ee 04E0     		b	.L161
 2539              	.L164:
1275:Libraries/uC-OSIII/os_task.c **** 
1276:Libraries/uC-OSIII/os_task.c ****         default:
1277:Libraries/uC-OSIII/os_task.c ****              *p_err = OS_ERR_STATUS_INVALID;
 2540              		.loc 1 1277 0
 2541 12f0 3B68     		ldr	r3, [r7, #0]
 2542 12f2 46F62B62 		movw	r2, #28203
 2543 12f6 1A80     		strh	r2, [r3, #0]	@ movhi
1278:Libraries/uC-OSIII/os_task.c ****              break;
 2544              		.loc 1 1278 0
 2545 12f8 00BF     		nop
 2546              	.L161:
1279:Libraries/uC-OSIII/os_task.c ****     }
1280:Libraries/uC-OSIII/os_task.c ****     ctr = OSTCBCurPtr->SemCtr;
 2547              		.loc 1 1280 0
 2548 12fa 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2549 12fe C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2550 1302 1B68     		ldr	r3, [r3, #0]
 2551 1304 DB6E     		ldr	r3, [r3, #108]
 2552 1306 3B61     		str	r3, [r7, #16]
1281:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_EXIT();
 2553              		.loc 1 1281 0
 2554 1308 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2555 130c 7869     		ldr	r0, [r7, #20]
 2556 130e FFF7FEFF 		bl	CPU_SR_Restore
1282:Libraries/uC-OSIII/os_task.c ****     return (ctr);
 2557              		.loc 1 1282 0
 2558 1312 3B69     		ldr	r3, [r7, #16]
 2559              	.L147:
1283:Libraries/uC-OSIII/os_task.c **** }
 2560              		.loc 1 1283 0
 2561 1314 1846     		mov	r0, r3
 2562 1316 07F11C07 		add	r7, r7, #28
 2563 131a BD46     		mov	sp, r7
 2564 131c 90BD     		pop	{r4, r7, pc}
 2565              		.cfi_endproc
 2566              	.LFE10:
 2568 131e 00BF     		.align	2
 2569              		.global	OSTaskSemPendAbort
 2570              		.thumb
 2571              		.thumb_func
 2573              	OSTaskSemPendAbort:
 2574              	.LFB11:
1284:Libraries/uC-OSIII/os_task.c **** 
1285:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
1286:Libraries/uC-OSIII/os_task.c **** /*
1287:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1288:Libraries/uC-OSIII/os_task.c **** *                                               ABORT WAITING FOR A SIGNAL
1289:Libraries/uC-OSIII/os_task.c **** *
1290:Libraries/uC-OSIII/os_task.c **** * Description: This function aborts & readies the task specified.  This function should be used to 
1291:Libraries/uC-OSIII/os_task.c **** *              for a signal, rather than to normally post the signal to the task via OSTaskSemPost(
1292:Libraries/uC-OSIII/os_task.c **** *
1293:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb     is a pointer to the task to pend abort
1294:Libraries/uC-OSIII/os_task.c **** *
1295:Libraries/uC-OSIII/os_task.c **** *              opt       provides options for this function:
1296:Libraries/uC-OSIII/os_task.c **** *
1297:Libraries/uC-OSIII/os_task.c **** *                            OS_OPT_POST_NONE         No option selected
1298:Libraries/uC-OSIII/os_task.c **** *                            OS_OPT_POST_NO_SCHED     Indicates that the scheduler will not be call
1299:Libraries/uC-OSIII/os_task.c **** *
1300:Libraries/uC-OSIII/os_task.c **** *              p_err     is a pointer to a variable that will contain an error code returned by thi
1301:Libraries/uC-OSIII/os_task.c **** *
1302:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_NONE              If the task was readied and informed of the a
1303:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_PEND_ABORT_ISR    If you tried calling this function from an IS
1304:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_PEND_ABORT_NONE   If the task was not waiting for a signal
1305:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_PEND_ABORT_SELF   If you attempted to pend abort the calling ta
1306:Libraries/uC-OSIII/os_task.c **** *                                                     possible since the calling task cannot be pen
1307:Libraries/uC-OSIII/os_task.c **** *                                                     running.
1308:Libraries/uC-OSIII/os_task.c **** *
1309:Libraries/uC-OSIII/os_task.c **** * Returns    : == DEF_FALSE   if task was not waiting for a message, or upon error.
1310:Libraries/uC-OSIII/os_task.c **** *              == DEF_TRUE    if task was waiting for a message and was readied and informed.
1311:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1312:Libraries/uC-OSIII/os_task.c **** */
1313:Libraries/uC-OSIII/os_task.c **** 
1314:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_SEM_PEND_ABORT_EN > 0u
1315:Libraries/uC-OSIII/os_task.c **** CPU_BOOLEAN  OSTaskSemPendAbort (OS_TCB  *p_tcb,
1316:Libraries/uC-OSIII/os_task.c ****                                  OS_OPT   opt,
1317:Libraries/uC-OSIII/os_task.c ****                                  OS_ERR  *p_err)
1318:Libraries/uC-OSIII/os_task.c **** {
 2575              		.loc 1 1318 0
 2576              		.cfi_startproc
 2577              		@ args = 0, pretend = 0, frame = 24
 2578              		@ frame_needed = 1, uses_anonymous_args = 0
 2579 1320 80B5     		push	{r7, lr}
 2580              	.LCFI33:
 2581              		.cfi_def_cfa_offset 8
 2582              		.cfi_offset 14, -4
 2583              		.cfi_offset 7, -8
 2584 1322 86B0     		sub	sp, sp, #24
 2585              	.LCFI34:
 2586              		.cfi_def_cfa_offset 32
 2587 1324 00AF     		add	r7, sp, #0
 2588              	.LCFI35:
 2589              		.cfi_def_cfa_register 7
 2590 1326 F860     		str	r0, [r7, #12]
 2591 1328 0B46     		mov	r3, r1
 2592 132a 7A60     		str	r2, [r7, #4]
 2593 132c 7B81     		strh	r3, [r7, #10]	@ movhi
1319:Libraries/uC-OSIII/os_task.c ****     CPU_TS         ts;
1320:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 2594              		.loc 1 1320 0
 2595 132e 4FF00003 		mov	r3, #0
 2596 1332 7B61     		str	r3, [r7, #20]
1321:Libraries/uC-OSIII/os_task.c **** 
1322:Libraries/uC-OSIII/os_task.c **** 
1323:Libraries/uC-OSIII/os_task.c **** 
1324:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1325:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
1326:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1327:Libraries/uC-OSIII/os_task.c ****     }
1328:Libraries/uC-OSIII/os_task.c **** #endif
1329:Libraries/uC-OSIII/os_task.c **** 
1330:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u
1331:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* See if called from ISR ...          
 2597              		.loc 1 1331 0
 2598 1334 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 2599 1338 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 2600 133c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2601 133e 002B     		cmp	r3, #0
 2602 1340 06D0     		beq	.L166
1332:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PEND_ABORT_ISR;                     /* ... can't Pend Abort from an ISR    
 2603              		.loc 1 1332 0
 2604 1342 7B68     		ldr	r3, [r7, #4]
 2605 1344 46F2AA12 		movw	r2, #25002
 2606 1348 1A80     		strh	r2, [r3, #0]	@ movhi
1333:Libraries/uC-OSIII/os_task.c ****         return (DEF_FALSE);
 2607              		.loc 1 1333 0
 2608 134a 4FF00003 		mov	r3, #0
 2609 134e 86E0     		b	.L167
 2610              	.L166:
1334:Libraries/uC-OSIII/os_task.c ****     }
1335:Libraries/uC-OSIII/os_task.c **** #endif
1336:Libraries/uC-OSIII/os_task.c **** 
1337:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_ENTER();
 2611              		.loc 1 1337 0
 2612 1350 FFF7FEFF 		bl	CPU_SR_Save
 2613 1354 7861     		str	r0, [r7, #20]
 2614 1356 FFF7FEFF 		bl	CPU_IntDisMeasStart
1338:Libraries/uC-OSIII/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                           /* Pend abort self?                    
 2615              		.loc 1 1338 0
 2616 135a FB68     		ldr	r3, [r7, #12]
 2617 135c 002B     		cmp	r3, #0
 2618 135e 07D0     		beq	.L168
1339:Libraries/uC-OSIII/os_task.c ****         (p_tcb == OSTCBCurPtr)) {
 2619              		.loc 1 1339 0 discriminator 1
 2620 1360 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2621 1364 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2622 1368 1B68     		ldr	r3, [r3, #0]
1338:Libraries/uC-OSIII/os_task.c ****     if ((p_tcb == (OS_TCB *)0) ||                           /* Pend abort self?                    
 2623              		.loc 1 1338 0 discriminator 1
 2624 136a FA68     		ldr	r2, [r7, #12]
 2625 136c 9A42     		cmp	r2, r3
 2626 136e 0BD1     		bne	.L169
 2627              	.L168:
1340:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_EXIT();                                /* ... doesn't make sense!             
 2628              		.loc 1 1340 0
 2629 1370 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2630 1374 7869     		ldr	r0, [r7, #20]
 2631 1376 FFF7FEFF 		bl	CPU_SR_Restore
1341:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PEND_ABORT_SELF;
 2632              		.loc 1 1341 0
 2633 137a 7B68     		ldr	r3, [r7, #4]
 2634 137c 46F2AC12 		movw	r2, #25004
 2635 1380 1A80     		strh	r2, [r3, #0]	@ movhi
1342:Libraries/uC-OSIII/os_task.c ****         return (DEF_FALSE);
 2636              		.loc 1 1342 0
 2637 1382 4FF00003 		mov	r3, #0
 2638 1386 6AE0     		b	.L167
 2639              	.L169:
1343:Libraries/uC-OSIII/os_task.c ****     }
1344:Libraries/uC-OSIII/os_task.c **** 
1345:Libraries/uC-OSIII/os_task.c ****     if (p_tcb->PendOn != OS_TASK_PEND_ON_TASK_SEM) {        /* Is task waiting for a signal?       
 2640              		.loc 1 1345 0
 2641 1388 FB68     		ldr	r3, [r7, #12]
 2642 138a 93F8C030 		ldrb	r3, [r3, #192]	@ zero_extendqisi2
 2643 138e 072B     		cmp	r3, #7
 2644 1390 0BD0     		beq	.L170
1346:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_EXIT();
 2645              		.loc 1 1346 0
 2646 1392 FFF7FEFF 		bl	CPU_IntDisMeasStop
 2647 1396 7869     		ldr	r0, [r7, #20]
 2648 1398 FFF7FEFF 		bl	CPU_SR_Restore
1347:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PEND_ABORT_NONE;
 2649              		.loc 1 1347 0
 2650 139c 7B68     		ldr	r3, [r7, #4]
 2651 139e 46F2AB12 		movw	r2, #25003
 2652 13a2 1A80     		strh	r2, [r3, #0]	@ movhi
1348:Libraries/uC-OSIII/os_task.c ****         return (DEF_FALSE);
 2653              		.loc 1 1348 0
 2654 13a4 4FF00003 		mov	r3, #0
 2655 13a8 59E0     		b	.L167
 2656              	.L170:
1349:Libraries/uC-OSIII/os_task.c ****     }
1350:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_EXIT();
 2657              		.loc 1 1350 0
 2658 13aa FFF7FEFF 		bl	CPU_IntDisMeasStop
 2659 13ae 7869     		ldr	r0, [r7, #20]
 2660 13b0 FFF7FEFF 		bl	CPU_SR_Restore
1351:Libraries/uC-OSIII/os_task.c **** 
1352:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_ENTER();
 2661              		.loc 1 1352 0
 2662 13b4 FFF7FEFF 		bl	CPU_SR_Save
 2663 13b8 7861     		str	r0, [r7, #20]
 2664 13ba FFF7FEFF 		bl	CPU_IntDisMeasStart
 2665 13be 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2666 13c2 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2667 13c6 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2668 13c8 03F10103 		add	r3, r3, #1
 2669 13cc DAB2     		uxtb	r2, r3
 2670 13ce 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2671 13d2 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2672 13d6 1A70     		strb	r2, [r3, #0]
 2673 13d8 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2674 13dc C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2675 13e0 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2676 13e2 012B     		cmp	r3, #1
 2677 13e4 01D1     		bne	.L171
 2678              		.loc 1 1352 0 is_stmt 0 discriminator 1
 2679 13e6 FFF7FEFF 		bl	OS_SchedLockTimeMeasStart
 2680              	.L171:
 2681              		.loc 1 1352 0 discriminator 2
 2682 13ea FFF7FEFF 		bl	CPU_IntDisMeasStop
 2683 13ee 7869     		ldr	r0, [r7, #20]
 2684 13f0 FFF7FEFF 		bl	CPU_SR_Restore
1353:Libraries/uC-OSIII/os_task.c ****     ts = OS_TS_GET();
 2685              		.loc 1 1353 0 is_stmt 1 discriminator 2
 2686 13f4 FFF7FEFF 		bl	CPU_TS_TmrRd
 2687 13f8 3861     		str	r0, [r7, #16]
1354:Libraries/uC-OSIII/os_task.c ****     OS_PendAbort((OS_PEND_OBJ *)0,
 2688              		.loc 1 1354 0 discriminator 2
 2689 13fa 4FF00000 		mov	r0, #0
 2690 13fe F968     		ldr	r1, [r7, #12]
 2691 1400 3A69     		ldr	r2, [r7, #16]
 2692 1402 FFF7FEFF 		bl	OS_PendAbort
1355:Libraries/uC-OSIII/os_task.c ****                  p_tcb,
1356:Libraries/uC-OSIII/os_task.c ****                  ts);
1357:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_EXIT_NO_SCHED();
 2693              		.loc 1 1357 0 discriminator 2
 2694 1406 FFF7FEFF 		bl	CPU_SR_Save
 2695 140a 7861     		str	r0, [r7, #20]
 2696 140c FFF7FEFF 		bl	CPU_IntDisMeasStart
 2697 1410 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2698 1414 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2699 1418 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2700 141a 03F1FF33 		add	r3, r3, #-1
 2701 141e DAB2     		uxtb	r2, r3
 2702 1420 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2703 1424 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2704 1428 1A70     		strb	r2, [r3, #0]
 2705 142a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 2706 142e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 2707 1432 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2708 1434 002B     		cmp	r3, #0
 2709 1436 01D1     		bne	.L172
 2710              		.loc 1 1357 0 is_stmt 0 discriminator 1
 2711 1438 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 2712              	.L172:
 2713              		.loc 1 1357 0 discriminator 2
 2714 143c FFF7FEFF 		bl	CPU_IntDisMeasStop
 2715 1440 7869     		ldr	r0, [r7, #20]
 2716 1442 FFF7FEFF 		bl	CPU_SR_Restore
1358:Libraries/uC-OSIII/os_task.c ****     if ((opt & OS_OPT_POST_NO_SCHED) == (OS_OPT)0) {
 2717              		.loc 1 1358 0 is_stmt 1 discriminator 2
 2718 1446 7B89     		ldrh	r3, [r7, #10]
 2719 1448 1BB2     		sxth	r3, r3
 2720 144a 002B     		cmp	r3, #0
 2721 144c 01DB     		blt	.L173
1359:Libraries/uC-OSIII/os_task.c ****         OSSched();                                          /* Run the scheduler                   
 2722              		.loc 1 1359 0
 2723 144e FFF7FEFF 		bl	OSSched
 2724              	.L173:
1360:Libraries/uC-OSIII/os_task.c ****     }
1361:Libraries/uC-OSIII/os_task.c ****     *p_err = OS_ERR_NONE;
 2725              		.loc 1 1361 0
 2726 1452 7B68     		ldr	r3, [r7, #4]
 2727 1454 4FF00002 		mov	r2, #0
 2728 1458 1A80     		strh	r2, [r3, #0]	@ movhi
1362:Libraries/uC-OSIII/os_task.c ****     return (DEF_TRUE);
 2729              		.loc 1 1362 0
 2730 145a 4FF00103 		mov	r3, #1
 2731              	.L167:
1363:Libraries/uC-OSIII/os_task.c **** }
 2732              		.loc 1 1363 0
 2733 145e 1846     		mov	r0, r3
 2734 1460 07F11807 		add	r7, r7, #24
 2735 1464 BD46     		mov	sp, r7
 2736 1466 80BD     		pop	{r7, pc}
 2737              		.cfi_endproc
 2738              	.LFE11:
 2740              		.align	2
 2741              		.global	OSTaskSemPost
 2742              		.thumb
 2743              		.thumb_func
 2745              	OSTaskSemPost:
 2746              	.LFB12:
1364:Libraries/uC-OSIII/os_task.c **** #endif
1365:Libraries/uC-OSIII/os_task.c **** 
1366:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
1367:Libraries/uC-OSIII/os_task.c **** /*
1368:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1369:Libraries/uC-OSIII/os_task.c **** *                                                    SIGNAL A TASK
1370:Libraries/uC-OSIII/os_task.c **** *
1371:Libraries/uC-OSIII/os_task.c **** * Description: This function is called to signal a task waiting for a signal.
1372:Libraries/uC-OSIII/os_task.c **** *
1373:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb     is the pointer to the TCB of the task to signal.  A NULL pointer indicates
1374:Libraries/uC-OSIII/os_task.c **** *                        a signal to yourself.
1375:Libraries/uC-OSIII/os_task.c **** *
1376:Libraries/uC-OSIII/os_task.c **** *              opt       determines the type of POST performed:
1377:Libraries/uC-OSIII/os_task.c **** *
1378:Libraries/uC-OSIII/os_task.c **** *                             OS_OPT_POST_NONE         No option
1379:Libraries/uC-OSIII/os_task.c **** *                             OS_OPT_POST_NO_SCHED     Do not call the scheduler
1380:Libraries/uC-OSIII/os_task.c **** *
1381:Libraries/uC-OSIII/os_task.c **** *              p_err     is a pointer to an error code returned by this function:
1382:Libraries/uC-OSIII/os_task.c **** *
1383:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_NONE              If the requested task is signaled
1384:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_SEM_OVF           If the post would cause the semaphore count t
1385:Libraries/uC-OSIII/os_task.c **** *
1386:Libraries/uC-OSIII/os_task.c **** * Returns    : The current value of the task's signal counter or 0 if called from an ISR
1387:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1388:Libraries/uC-OSIII/os_task.c **** */
1389:Libraries/uC-OSIII/os_task.c **** 
1390:Libraries/uC-OSIII/os_task.c **** OS_SEM_CTR  OSTaskSemPost (OS_TCB  *p_tcb,
1391:Libraries/uC-OSIII/os_task.c ****                            OS_OPT   opt,
1392:Libraries/uC-OSIII/os_task.c ****                            OS_ERR  *p_err)
1393:Libraries/uC-OSIII/os_task.c **** {
 2747              		.loc 1 1393 0
 2748              		.cfi_startproc
 2749              		@ args = 0, pretend = 0, frame = 24
 2750              		@ frame_needed = 1, uses_anonymous_args = 0
 2751 1468 80B5     		push	{r7, lr}
 2752              	.LCFI36:
 2753              		.cfi_def_cfa_offset 8
 2754              		.cfi_offset 14, -4
 2755              		.cfi_offset 7, -8
 2756 146a 8AB0     		sub	sp, sp, #40
 2757              	.LCFI37:
 2758              		.cfi_def_cfa_offset 48
 2759 146c 04AF     		add	r7, sp, #16
 2760              	.LCFI38:
 2761              		.cfi_def_cfa 7, 32
 2762 146e F860     		str	r0, [r7, #12]
 2763 1470 0B46     		mov	r3, r1
 2764 1472 7A60     		str	r2, [r7, #4]
 2765 1474 7B81     		strh	r3, [r7, #10]	@ movhi
1394:Libraries/uC-OSIII/os_task.c ****     OS_SEM_CTR  ctr;
1395:Libraries/uC-OSIII/os_task.c ****     CPU_TS      ts;
1396:Libraries/uC-OSIII/os_task.c **** 
1397:Libraries/uC-OSIII/os_task.c **** 
1398:Libraries/uC-OSIII/os_task.c **** 
1399:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1400:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
1401:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1402:Libraries/uC-OSIII/os_task.c ****     }
1403:Libraries/uC-OSIII/os_task.c **** #endif
1404:Libraries/uC-OSIII/os_task.c **** 
1405:Libraries/uC-OSIII/os_task.c ****     ts = OS_TS_GET();                                       /* Get timestamp                       
 2766              		.loc 1 1405 0
 2767 1476 FFF7FEFF 		bl	CPU_TS_TmrRd
 2768 147a 7861     		str	r0, [r7, #20]
1406:Libraries/uC-OSIII/os_task.c **** 
1407:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_ISR_POST_DEFERRED_EN > 0u
1408:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* See if called from an ISR           
 2769              		.loc 1 1408 0
 2770 147c 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 2771 1480 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 2772 1484 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2773 1486 002B     		cmp	r3, #0
 2774 1488 17D0     		beq	.L175
1409:Libraries/uC-OSIII/os_task.c ****         OS_IntQPost((OS_OBJ_TYPE)OS_OBJ_TYPE_TASK_SIGNAL,   /* Post to ISR queue                   
 2775              		.loc 1 1409 0
 2776 148a 4FF00003 		mov	r3, #0
 2777 148e 0093     		str	r3, [sp, #0]
 2778 1490 4FF00003 		mov	r3, #0
 2779 1494 0193     		str	r3, [sp, #4]
 2780 1496 7B69     		ldr	r3, [r7, #20]
 2781 1498 0293     		str	r3, [sp, #8]
 2782 149a 7B68     		ldr	r3, [r7, #4]
 2783 149c 0393     		str	r3, [sp, #12]
 2784 149e 45F25430 		movw	r0, #21332
 2785 14a2 C4F24970 		movt	r0, 18249
 2786 14a6 F968     		ldr	r1, [r7, #12]
 2787 14a8 4FF00002 		mov	r2, #0
 2788 14ac 4FF00003 		mov	r3, #0
 2789 14b0 FFF7FEFF 		bl	OS_IntQPost
1410:Libraries/uC-OSIII/os_task.c ****                     (void      *)p_tcb,
1411:Libraries/uC-OSIII/os_task.c ****                     (void      *)0,
1412:Libraries/uC-OSIII/os_task.c ****                     (OS_MSG_SIZE)0,
1413:Libraries/uC-OSIII/os_task.c ****                     (OS_FLAGS   )0,
1414:Libraries/uC-OSIII/os_task.c ****                     (OS_OPT     )0,
1415:Libraries/uC-OSIII/os_task.c ****                     (CPU_TS     )ts,
1416:Libraries/uC-OSIII/os_task.c ****                     (OS_ERR    *)p_err);
1417:Libraries/uC-OSIII/os_task.c ****         return ((OS_SEM_CTR)0);
 2790              		.loc 1 1417 0
 2791 14b4 4FF00003 		mov	r3, #0
 2792 14b8 08E0     		b	.L176
 2793              	.L175:
1418:Libraries/uC-OSIII/os_task.c ****     }
1419:Libraries/uC-OSIII/os_task.c **** #endif
1420:Libraries/uC-OSIII/os_task.c **** 
1421:Libraries/uC-OSIII/os_task.c ****     ctr = OS_TaskSemPost(p_tcb,
 2794              		.loc 1 1421 0
 2795 14ba 7B89     		ldrh	r3, [r7, #10]
 2796 14bc F868     		ldr	r0, [r7, #12]
 2797 14be 1946     		mov	r1, r3
 2798 14c0 7A69     		ldr	r2, [r7, #20]
 2799 14c2 7B68     		ldr	r3, [r7, #4]
 2800 14c4 FFF7FEFF 		bl	OS_TaskSemPost
 2801 14c8 3861     		str	r0, [r7, #16]
1422:Libraries/uC-OSIII/os_task.c ****                          opt,
1423:Libraries/uC-OSIII/os_task.c ****                          ts,
1424:Libraries/uC-OSIII/os_task.c ****                          p_err);
1425:Libraries/uC-OSIII/os_task.c **** 
1426:Libraries/uC-OSIII/os_task.c ****     return (ctr);
 2802              		.loc 1 1426 0
 2803 14ca 3B69     		ldr	r3, [r7, #16]
 2804              	.L176:
1427:Libraries/uC-OSIII/os_task.c **** }
 2805              		.loc 1 1427 0
 2806 14cc 1846     		mov	r0, r3
 2807 14ce 07F11807 		add	r7, r7, #24
 2808 14d2 BD46     		mov	sp, r7
 2809 14d4 80BD     		pop	{r7, pc}
 2810              		.cfi_endproc
 2811              	.LFE12:
 2813 14d6 00BF     		.align	2
 2814              		.global	OSTaskSemSet
 2815              		.thumb
 2816              		.thumb_func
 2818              	OSTaskSemSet:
 2819              	.LFB13:
1428:Libraries/uC-OSIII/os_task.c **** 
1429:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
1430:Libraries/uC-OSIII/os_task.c **** /*
1431:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1432:Libraries/uC-OSIII/os_task.c **** *                                            SET THE SIGNAL COUNTER OF A TASK
1433:Libraries/uC-OSIII/os_task.c **** *
1434:Libraries/uC-OSIII/os_task.c **** * Description: This function is called to clear the signal counter
1435:Libraries/uC-OSIII/os_task.c **** *
1436:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb      is the pointer to the TCB of the task to clear the counter.  If you speci
1437:Libraries/uC-OSIII/os_task.c **** *                         then the signal counter of the current task will be cleared.
1438:Libraries/uC-OSIII/os_task.c **** *
1439:Libraries/uC-OSIII/os_task.c **** *              cnt        is the desired value of the semaphore counter
1440:Libraries/uC-OSIII/os_task.c **** *
1441:Libraries/uC-OSIII/os_task.c **** *              p_err      is a pointer to an error code returned by this function
1442:Libraries/uC-OSIII/os_task.c **** *
1443:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_NONE        if the signal counter of the requested task is cle
1444:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_SET_ISR     if the function was called from an ISR
1445:Libraries/uC-OSIII/os_task.c **** *
1446:Libraries/uC-OSIII/os_task.c **** * Returns    : none
1447:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1448:Libraries/uC-OSIII/os_task.c **** */
1449:Libraries/uC-OSIII/os_task.c **** 
1450:Libraries/uC-OSIII/os_task.c **** OS_SEM_CTR  OSTaskSemSet (OS_TCB      *p_tcb,
1451:Libraries/uC-OSIII/os_task.c ****                           OS_SEM_CTR   cnt,
1452:Libraries/uC-OSIII/os_task.c ****                           OS_ERR      *p_err)
1453:Libraries/uC-OSIII/os_task.c **** {
 2820              		.loc 1 1453 0
 2821              		.cfi_startproc
 2822              		@ args = 0, pretend = 0, frame = 24
 2823              		@ frame_needed = 1, uses_anonymous_args = 0
 2824 14d8 80B5     		push	{r7, lr}
 2825              	.LCFI39:
 2826              		.cfi_def_cfa_offset 8
 2827              		.cfi_offset 14, -4
 2828              		.cfi_offset 7, -8
 2829 14da 86B0     		sub	sp, sp, #24
 2830              	.LCFI40:
 2831              		.cfi_def_cfa_offset 32
 2832 14dc 00AF     		add	r7, sp, #0
 2833              	.LCFI41:
 2834              		.cfi_def_cfa_register 7
 2835 14de F860     		str	r0, [r7, #12]
 2836 14e0 B960     		str	r1, [r7, #8]
 2837 14e2 7A60     		str	r2, [r7, #4]
1454:Libraries/uC-OSIII/os_task.c ****     OS_SEM_CTR  ctr;
1455:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 2838              		.loc 1 1455 0
 2839 14e4 4FF00003 		mov	r3, #0
 2840 14e8 7B61     		str	r3, [r7, #20]
1456:Libraries/uC-OSIII/os_task.c **** 
1457:Libraries/uC-OSIII/os_task.c **** 
1458:Libraries/uC-OSIII/os_task.c **** 
1459:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1460:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
1461:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1462:Libraries/uC-OSIII/os_task.c ****     }
1463:Libraries/uC-OSIII/os_task.c **** #endif
1464:Libraries/uC-OSIII/os_task.c **** 
1465:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u
1466:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* Not allowed to call from an ISR     
 2841              		.loc 1 1466 0
 2842 14ea 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 2843 14ee C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 2844 14f2 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2845 14f4 002B     		cmp	r3, #0
 2846 14f6 06D0     		beq	.L178
1467:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_SET_ISR;
 2847              		.loc 1 1467 0
 2848 14f8 7B68     		ldr	r3, [r7, #4]
 2849 14fa 46F6C652 		movw	r2, #28102
 2850 14fe 1A80     		strh	r2, [r3, #0]	@ movhi
1468:Libraries/uC-OSIII/os_task.c ****         return ((OS_SEM_CTR)0);
 2851              		.loc 1 1468 0
 2852 1500 4FF00003 		mov	r3, #0
 2853 1504 1DE0     		b	.L179
 2854              	.L178:
1469:Libraries/uC-OSIII/os_task.c ****     }
1470:Libraries/uC-OSIII/os_task.c **** #endif
1471:Libraries/uC-OSIII/os_task.c **** 
1472:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_ENTER();
 2855              		.loc 1 1472 0
 2856 1506 FFF7FEFF 		bl	CPU_SR_Save
 2857 150a 7861     		str	r0, [r7, #20]
 2858 150c FFF7FEFF 		bl	CPU_IntDisMeasStart
1473:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 2859              		.loc 1 1473 0
 2860 1510 FB68     		ldr	r3, [r7, #12]
 2861 1512 002B     		cmp	r3, #0
 2862 1514 05D1     		bne	.L180
1474:Libraries/uC-OSIII/os_task.c ****         p_tcb = OSTCBCurPtr;
 2863              		.loc 1 1474 0
 2864 1516 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2865 151a C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2866 151e 1B68     		ldr	r3, [r3, #0]
 2867 1520 FB60     		str	r3, [r7, #12]
 2868              	.L180:
1475:Libraries/uC-OSIII/os_task.c ****     }
1476:Libraries/uC-OSIII/os_task.c ****     ctr           = p_tcb->SemCtr;
 2869              		.loc 1 1476 0
 2870 1522 FB68     		ldr	r3, [r7, #12]
 2871 1524 DB6E     		ldr	r3, [r3, #108]
 2872 1526 3B61     		str	r3, [r7, #16]
1477:Libraries/uC-OSIII/os_task.c ****     p_tcb->SemCtr = (OS_SEM_CTR)cnt;
 2873              		.loc 1 1477 0
 2874 1528 FB68     		ldr	r3, [r7, #12]
 2875 152a BA68     		ldr	r2, [r7, #8]
 2876 152c DA66     		str	r2, [r3, #108]
1478:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_EXIT();
 2877              		.loc 1 1478 0
 2878 152e FFF7FEFF 		bl	CPU_IntDisMeasStop
 2879 1532 7869     		ldr	r0, [r7, #20]
 2880 1534 FFF7FEFF 		bl	CPU_SR_Restore
1479:Libraries/uC-OSIII/os_task.c ****     *p_err        =  OS_ERR_NONE;
 2881              		.loc 1 1479 0
 2882 1538 7B68     		ldr	r3, [r7, #4]
 2883 153a 4FF00002 		mov	r2, #0
 2884 153e 1A80     		strh	r2, [r3, #0]	@ movhi
1480:Libraries/uC-OSIII/os_task.c ****     return (ctr);
 2885              		.loc 1 1480 0
 2886 1540 3B69     		ldr	r3, [r7, #16]
 2887              	.L179:
1481:Libraries/uC-OSIII/os_task.c **** }
 2888              		.loc 1 1481 0
 2889 1542 1846     		mov	r0, r3
 2890 1544 07F11807 		add	r7, r7, #24
 2891 1548 BD46     		mov	sp, r7
 2892 154a 80BD     		pop	{r7, pc}
 2893              		.cfi_endproc
 2894              	.LFE13:
 2896              		.align	2
 2897              		.global	OSTaskStkChk
 2898              		.thumb
 2899              		.thumb_func
 2901              	OSTaskStkChk:
 2902              	.LFB14:
1482:Libraries/uC-OSIII/os_task.c **** 
1483:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
1484:Libraries/uC-OSIII/os_task.c **** /*
1485:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1486:Libraries/uC-OSIII/os_task.c **** *                                                    STACK CHECKING
1487:Libraries/uC-OSIII/os_task.c **** *
1488:Libraries/uC-OSIII/os_task.c **** * Description: This function is called to calculate the amount of free memory left on the specified
1489:Libraries/uC-OSIII/os_task.c **** *
1490:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb       is a pointer to the TCB of the task to check.  If you specify a NULL poi
1491:Libraries/uC-OSIII/os_task.c **** *                          you are specifying that you want to check the stack of the current task.
1492:Libraries/uC-OSIII/os_task.c **** *
1493:Libraries/uC-OSIII/os_task.c **** *              p_free      is a pointer to a variable that will receive the number of free 'entries
1494:Libraries/uC-OSIII/os_task.c **** *
1495:Libraries/uC-OSIII/os_task.c **** *              p_used      is a pointer to a variable that will receive the number of used 'entries
1496:Libraries/uC-OSIII/os_task.c **** *
1497:Libraries/uC-OSIII/os_task.c **** *              p_err       is a pointer to a variable that will contain an error code.
1498:Libraries/uC-OSIII/os_task.c **** *
1499:Libraries/uC-OSIII/os_task.c **** *                              OS_ERR_NONE               upon success
1500:Libraries/uC-OSIII/os_task.c **** *                              OS_ERR_PTR_INVALID        if either 'p_free' or 'p_used' are NULL po
1501:Libraries/uC-OSIII/os_task.c **** *                              OS_ERR_TASK_NOT_EXIST     if the stack pointer of the task is a NULL
1502:Libraries/uC-OSIII/os_task.c **** *                              OS_ERR_TASK_OPT           if you did NOT specified OS_OPT_TASK_STK_C
1503:Libraries/uC-OSIII/os_task.c **** *                                                        was created
1504:Libraries/uC-OSIII/os_task.c **** *                              OS_ERR_TASK_STK_CHK_ISR   you called this function from an ISR
1505:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1506:Libraries/uC-OSIII/os_task.c **** */
1507:Libraries/uC-OSIII/os_task.c **** 
1508:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_STAT_TASK_STK_CHK_EN > 0u
1509:Libraries/uC-OSIII/os_task.c **** void  OSTaskStkChk (OS_TCB       *p_tcb,
1510:Libraries/uC-OSIII/os_task.c ****                     CPU_STK_SIZE *p_free,
1511:Libraries/uC-OSIII/os_task.c ****                     CPU_STK_SIZE *p_used,
1512:Libraries/uC-OSIII/os_task.c ****                     OS_ERR       *p_err)
1513:Libraries/uC-OSIII/os_task.c **** {
 2903              		.loc 1 1513 0
 2904              		.cfi_startproc
 2905              		@ args = 0, pretend = 0, frame = 32
 2906              		@ frame_needed = 1, uses_anonymous_args = 0
 2907 154c 80B5     		push	{r7, lr}
 2908              	.LCFI42:
 2909              		.cfi_def_cfa_offset 8
 2910              		.cfi_offset 14, -4
 2911              		.cfi_offset 7, -8
 2912 154e 88B0     		sub	sp, sp, #32
 2913              	.LCFI43:
 2914              		.cfi_def_cfa_offset 40
 2915 1550 00AF     		add	r7, sp, #0
 2916              	.LCFI44:
 2917              		.cfi_def_cfa_register 7
 2918 1552 F860     		str	r0, [r7, #12]
 2919 1554 B960     		str	r1, [r7, #8]
 2920 1556 7A60     		str	r2, [r7, #4]
 2921 1558 3B60     		str	r3, [r7, #0]
1514:Libraries/uC-OSIII/os_task.c ****     CPU_STK_SIZE  free_stk;
1515:Libraries/uC-OSIII/os_task.c ****     CPU_STK      *p_stk;
1516:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 2922              		.loc 1 1516 0
 2923 155a 4FF00003 		mov	r3, #0
 2924 155e 7B61     		str	r3, [r7, #20]
1517:Libraries/uC-OSIII/os_task.c **** 
1518:Libraries/uC-OSIII/os_task.c **** 
1519:Libraries/uC-OSIII/os_task.c **** 
1520:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1521:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
1522:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1523:Libraries/uC-OSIII/os_task.c ****     }
1524:Libraries/uC-OSIII/os_task.c **** #endif
1525:Libraries/uC-OSIII/os_task.c **** 
1526:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u
1527:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* See if trying to check stack from IS
 2925              		.loc 1 1527 0
 2926 1560 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 2927 1564 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 2928 1568 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2929 156a 002B     		cmp	r3, #0
 2930 156c 04D0     		beq	.L182
1528:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_TASK_STK_CHK_ISR;
 2931              		.loc 1 1528 0
 2932 156e 3B68     		ldr	r3, [r7, #0]
 2933 1570 47F25812 		movw	r2, #29016
 2934 1574 1A80     		strh	r2, [r3, #0]	@ movhi
1529:Libraries/uC-OSIII/os_task.c ****         return;
 2935              		.loc 1 1529 0
 2936 1576 71E0     		b	.L181
 2937              	.L182:
1530:Libraries/uC-OSIII/os_task.c ****     }
1531:Libraries/uC-OSIII/os_task.c **** #endif
1532:Libraries/uC-OSIII/os_task.c **** 
1533:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_ARG_CHK_EN > 0u
1534:Libraries/uC-OSIII/os_task.c ****     if (p_free == (CPU_STK_SIZE*)0) {                       /* User must specify valid destinations
 2938              		.loc 1 1534 0
 2939 1578 BB68     		ldr	r3, [r7, #8]
 2940 157a 002B     		cmp	r3, #0
 2941 157c 04D1     		bne	.L184
1535:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PTR_INVALID;
 2942              		.loc 1 1535 0
 2943 157e 3B68     		ldr	r3, [r7, #0]
 2944 1580 46F2D522 		movw	r2, #25301
 2945 1584 1A80     		strh	r2, [r3, #0]	@ movhi
1536:Libraries/uC-OSIII/os_task.c ****         return;
 2946              		.loc 1 1536 0
 2947 1586 69E0     		b	.L181
 2948              	.L184:
1537:Libraries/uC-OSIII/os_task.c ****     }
1538:Libraries/uC-OSIII/os_task.c **** 
1539:Libraries/uC-OSIII/os_task.c ****     if (p_used == (CPU_STK_SIZE*)0) {
 2949              		.loc 1 1539 0
 2950 1588 7B68     		ldr	r3, [r7, #4]
 2951 158a 002B     		cmp	r3, #0
 2952 158c 04D1     		bne	.L185
1540:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_PTR_INVALID;
 2953              		.loc 1 1540 0
 2954 158e 3B68     		ldr	r3, [r7, #0]
 2955 1590 46F2D522 		movw	r2, #25301
 2956 1594 1A80     		strh	r2, [r3, #0]	@ movhi
1541:Libraries/uC-OSIII/os_task.c ****         return;
 2957              		.loc 1 1541 0
 2958 1596 61E0     		b	.L181
 2959              	.L185:
1542:Libraries/uC-OSIII/os_task.c ****     }
1543:Libraries/uC-OSIII/os_task.c **** #endif
1544:Libraries/uC-OSIII/os_task.c **** 
1545:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_ENTER();
 2960              		.loc 1 1545 0
 2961 1598 FFF7FEFF 		bl	CPU_SR_Save
 2962 159c 7861     		str	r0, [r7, #20]
 2963 159e FFF7FEFF 		bl	CPU_IntDisMeasStart
1546:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                             /* Check the stack of the current task?
 2964              		.loc 1 1546 0
 2965 15a2 FB68     		ldr	r3, [r7, #12]
 2966 15a4 002B     		cmp	r3, #0
 2967 15a6 05D1     		bne	.L186
1547:Libraries/uC-OSIII/os_task.c ****         p_tcb = OSTCBCurPtr;                                /* Yes                                 
 2968              		.loc 1 1547 0
 2969 15a8 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 2970 15ac C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 2971 15b0 1B68     		ldr	r3, [r3, #0]
 2972 15b2 FB60     		str	r3, [r7, #12]
 2973              	.L186:
1548:Libraries/uC-OSIII/os_task.c ****     }
1549:Libraries/uC-OSIII/os_task.c **** 
1550:Libraries/uC-OSIII/os_task.c ****     if (p_tcb->StkPtr == (CPU_STK*)0) {                     /* Make sure task exist                
 2974              		.loc 1 1550 0
 2975 15b4 FB68     		ldr	r3, [r7, #12]
 2976 15b6 1B68     		ldr	r3, [r3, #0]
 2977 15b8 002B     		cmp	r3, #0
 2978 15ba 11D1     		bne	.L187
1551:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_EXIT();
 2979              		.loc 1 1551 0
 2980 15bc FFF7FEFF 		bl	CPU_IntDisMeasStop
 2981 15c0 7869     		ldr	r0, [r7, #20]
 2982 15c2 FFF7FEFF 		bl	CPU_SR_Restore
1552:Libraries/uC-OSIII/os_task.c ****         *p_free = (CPU_STK_SIZE)0;
 2983              		.loc 1 1552 0
 2984 15c6 BB68     		ldr	r3, [r7, #8]
 2985 15c8 4FF00002 		mov	r2, #0
 2986 15cc 1A60     		str	r2, [r3, #0]
1553:Libraries/uC-OSIII/os_task.c ****         *p_used = (CPU_STK_SIZE)0;
 2987              		.loc 1 1553 0
 2988 15ce 7B68     		ldr	r3, [r7, #4]
 2989 15d0 4FF00002 		mov	r2, #0
 2990 15d4 1A60     		str	r2, [r3, #0]
1554:Libraries/uC-OSIII/os_task.c ****         *p_err  = (OS_ERR      )OS_ERR_TASK_NOT_EXIST;
 2991              		.loc 1 1554 0
 2992 15d6 3B68     		ldr	r3, [r7, #0]
 2993 15d8 47F25212 		movw	r2, #29010
 2994 15dc 1A80     		strh	r2, [r3, #0]	@ movhi
1555:Libraries/uC-OSIII/os_task.c ****         return;
 2995              		.loc 1 1555 0
 2996 15de 3DE0     		b	.L181
 2997              	.L187:
1556:Libraries/uC-OSIII/os_task.c ****     }
1557:Libraries/uC-OSIII/os_task.c **** 
1558:Libraries/uC-OSIII/os_task.c ****     if ((p_tcb->Opt & OS_OPT_TASK_STK_CHK) == (OS_OPT)0) {  /* Make sure stack checking option is s
 2998              		.loc 1 1558 0
 2999 15e0 FB68     		ldr	r3, [r7, #12]
 3000 15e2 B3F88830 		ldrh	r3, [r3, #136]
 3001 15e6 03F00103 		and	r3, r3, #1
 3002 15ea 002B     		cmp	r3, #0
 3003 15ec 11D1     		bne	.L188
1559:Libraries/uC-OSIII/os_task.c ****         CPU_CRITICAL_EXIT();
 3004              		.loc 1 1559 0
 3005 15ee FFF7FEFF 		bl	CPU_IntDisMeasStop
 3006 15f2 7869     		ldr	r0, [r7, #20]
 3007 15f4 FFF7FEFF 		bl	CPU_SR_Restore
1560:Libraries/uC-OSIII/os_task.c ****         *p_free = (CPU_STK_SIZE)0;
 3008              		.loc 1 1560 0
 3009 15f8 BB68     		ldr	r3, [r7, #8]
 3010 15fa 4FF00002 		mov	r2, #0
 3011 15fe 1A60     		str	r2, [r3, #0]
1561:Libraries/uC-OSIII/os_task.c ****         *p_used = (CPU_STK_SIZE)0;
 3012              		.loc 1 1561 0
 3013 1600 7B68     		ldr	r3, [r7, #4]
 3014 1602 4FF00002 		mov	r2, #0
 3015 1606 1A60     		str	r2, [r3, #0]
1562:Libraries/uC-OSIII/os_task.c ****         *p_err  = (OS_ERR      )OS_ERR_TASK_OPT;
 3016              		.loc 1 1562 0
 3017 1608 3B68     		ldr	r3, [r7, #0]
 3018 160a 47F25412 		movw	r2, #29012
 3019 160e 1A80     		strh	r2, [r3, #0]	@ movhi
1563:Libraries/uC-OSIII/os_task.c ****         return;
 3020              		.loc 1 1563 0
 3021 1610 24E0     		b	.L181
 3022              	.L188:
1564:Libraries/uC-OSIII/os_task.c ****     }
1565:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_EXIT();
 3023              		.loc 1 1565 0
 3024 1612 FFF7FEFF 		bl	CPU_IntDisMeasStop
 3025 1616 7869     		ldr	r0, [r7, #20]
 3026 1618 FFF7FEFF 		bl	CPU_SR_Restore
1566:Libraries/uC-OSIII/os_task.c **** 
1567:Libraries/uC-OSIII/os_task.c ****     free_stk  = 0u;
 3027              		.loc 1 1567 0
 3028 161c 4FF00003 		mov	r3, #0
 3029 1620 FB61     		str	r3, [r7, #28]
1568:Libraries/uC-OSIII/os_task.c **** #if CPU_CFG_STK_GROWTH == CPU_STK_GROWTH_HI_TO_LO
1569:Libraries/uC-OSIII/os_task.c ****     p_stk = p_tcb->StkBasePtr;                              /* Start at the lowest memory and go up
 3030              		.loc 1 1569 0
 3031 1622 FB68     		ldr	r3, [r7, #12]
 3032 1624 5B6A     		ldr	r3, [r3, #36]
 3033 1626 BB61     		str	r3, [r7, #24]
1570:Libraries/uC-OSIII/os_task.c ****     while (*p_stk == (CPU_STK)0) {                          /* Compute the number of zero entries o
 3034              		.loc 1 1570 0
 3035 1628 07E0     		b	.L189
 3036              	.L190:
1571:Libraries/uC-OSIII/os_task.c ****         p_stk++;
 3037              		.loc 1 1571 0
 3038 162a BB69     		ldr	r3, [r7, #24]
 3039 162c 03F10403 		add	r3, r3, #4
 3040 1630 BB61     		str	r3, [r7, #24]
1572:Libraries/uC-OSIII/os_task.c ****         free_stk++;
 3041              		.loc 1 1572 0
 3042 1632 FB69     		ldr	r3, [r7, #28]
 3043 1634 03F10103 		add	r3, r3, #1
 3044 1638 FB61     		str	r3, [r7, #28]
 3045              	.L189:
1570:Libraries/uC-OSIII/os_task.c ****     while (*p_stk == (CPU_STK)0) {                          /* Compute the number of zero entries o
 3046              		.loc 1 1570 0 discriminator 1
 3047 163a BB69     		ldr	r3, [r7, #24]
 3048 163c 1B68     		ldr	r3, [r3, #0]
 3049 163e 002B     		cmp	r3, #0
 3050 1640 F3D0     		beq	.L190
1573:Libraries/uC-OSIII/os_task.c ****     }
1574:Libraries/uC-OSIII/os_task.c **** #else
1575:Libraries/uC-OSIII/os_task.c ****     p_stk = p_tcb->StkBasePtr + p_tcb->StkSize - 1u;        /* Start at the highest memory and go d
1576:Libraries/uC-OSIII/os_task.c ****     while (*p_stk == (CPU_STK)0) {
1577:Libraries/uC-OSIII/os_task.c ****         free_stk++;
1578:Libraries/uC-OSIII/os_task.c ****         p_stk--;
1579:Libraries/uC-OSIII/os_task.c ****     }
1580:Libraries/uC-OSIII/os_task.c **** #endif
1581:Libraries/uC-OSIII/os_task.c ****     *p_free = free_stk;
 3051              		.loc 1 1581 0
 3052 1642 BB68     		ldr	r3, [r7, #8]
 3053 1644 FA69     		ldr	r2, [r7, #28]
 3054 1646 1A60     		str	r2, [r3, #0]
1582:Libraries/uC-OSIII/os_task.c ****     *p_used = (p_tcb->StkSize - free_stk);                  /* Compute number of entries used on th
 3055              		.loc 1 1582 0
 3056 1648 FB68     		ldr	r3, [r7, #12]
 3057 164a DA6F     		ldr	r2, [r3, #124]
 3058 164c FB69     		ldr	r3, [r7, #28]
 3059 164e D21A     		subs	r2, r2, r3
 3060 1650 7B68     		ldr	r3, [r7, #4]
 3061 1652 1A60     		str	r2, [r3, #0]
1583:Libraries/uC-OSIII/os_task.c ****     *p_err  = OS_ERR_NONE;
 3062              		.loc 1 1583 0
 3063 1654 3B68     		ldr	r3, [r7, #0]
 3064 1656 4FF00002 		mov	r2, #0
 3065 165a 1A80     		strh	r2, [r3, #0]	@ movhi
 3066              	.L181:
1584:Libraries/uC-OSIII/os_task.c **** }
 3067              		.loc 1 1584 0
 3068 165c 07F12007 		add	r7, r7, #32
 3069 1660 BD46     		mov	sp, r7
 3070 1662 80BD     		pop	{r7, pc}
 3071              		.cfi_endproc
 3072              	.LFE14:
 3074              		.align	2
 3075              		.global	OSTaskSuspend
 3076              		.thumb
 3077              		.thumb_func
 3079              	OSTaskSuspend:
 3080              	.LFB15:
1585:Libraries/uC-OSIII/os_task.c **** #endif
1586:Libraries/uC-OSIII/os_task.c **** 
1587:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
1588:Libraries/uC-OSIII/os_task.c **** /*
1589:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1590:Libraries/uC-OSIII/os_task.c **** *                                                   SUSPEND A TASK
1591:Libraries/uC-OSIII/os_task.c **** *
1592:Libraries/uC-OSIII/os_task.c **** * Description: This function is called to suspend a task.  The task can be the calling task if 'p_t
1593:Libraries/uC-OSIII/os_task.c **** *              or the pointer to the TCB of the calling task.
1594:Libraries/uC-OSIII/os_task.c **** *
1595:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb    is a pointer to the TCB to suspend.
1596:Libraries/uC-OSIII/os_task.c **** *                       If p_tcb is a NULL pointer then, suspend the current task.
1597:Libraries/uC-OSIII/os_task.c **** *
1598:Libraries/uC-OSIII/os_task.c **** *              p_err    is a pointer to a variable that will receive an error code from this functi
1599:Libraries/uC-OSIII/os_task.c **** *
1600:Libraries/uC-OSIII/os_task.c **** *                           OS_ERR_NONE                      if the requested task is suspended
1601:Libraries/uC-OSIII/os_task.c **** *                           OS_ERR_SCHED_LOCKED              you can't suspend the current task is 
1602:Libraries/uC-OSIII/os_task.c **** *                                                            locked
1603:Libraries/uC-OSIII/os_task.c **** *                           OS_ERR_TASK_SUSPEND_ISR          if you called this function from an IS
1604:Libraries/uC-OSIII/os_task.c **** *                           OS_ERR_TASK_SUSPEND_IDLE         if you attempted to suspend the idle t
1605:Libraries/uC-OSIII/os_task.c **** *                                                            allowed.
1606:Libraries/uC-OSIII/os_task.c **** *                           OS_ERR_TASK_SUSPEND_INT_HANDLER  if you attempted to suspend the idle t
1607:Libraries/uC-OSIII/os_task.c **** *                                                            allowed.
1608:Libraries/uC-OSIII/os_task.c **** *
1609:Libraries/uC-OSIII/os_task.c **** * Note(s)    : 1) You should use this function with great care.  If you suspend a task that is wait
1610:Libraries/uC-OSIII/os_task.c **** *                 (i.e. a message, a semaphore, a queue ...) you will prevent this task from runnin
1611:Libraries/uC-OSIII/os_task.c **** *                 arrives.
1612:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1613:Libraries/uC-OSIII/os_task.c **** */
1614:Libraries/uC-OSIII/os_task.c **** 
1615:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_SUSPEND_EN > 0u
1616:Libraries/uC-OSIII/os_task.c **** void   OSTaskSuspend (OS_TCB  *p_tcb,
1617:Libraries/uC-OSIII/os_task.c ****                       OS_ERR  *p_err)
1618:Libraries/uC-OSIII/os_task.c **** {
 3081              		.loc 1 1618 0
 3082              		.cfi_startproc
 3083              		@ args = 0, pretend = 0, frame = 16
 3084              		@ frame_needed = 1, uses_anonymous_args = 0
 3085 1664 80B5     		push	{r7, lr}
 3086              	.LCFI45:
 3087              		.cfi_def_cfa_offset 8
 3088              		.cfi_offset 14, -4
 3089              		.cfi_offset 7, -8
 3090 1666 84B0     		sub	sp, sp, #16
 3091              	.LCFI46:
 3092              		.cfi_def_cfa_offset 24
 3093 1668 00AF     		add	r7, sp, #0
 3094              	.LCFI47:
 3095              		.cfi_def_cfa_register 7
 3096 166a 7860     		str	r0, [r7, #4]
 3097 166c 3960     		str	r1, [r7, #0]
1619:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 3098              		.loc 1 1619 0
 3099 166e 4FF00003 		mov	r3, #0
 3100 1672 FB60     		str	r3, [r7, #12]
1620:Libraries/uC-OSIII/os_task.c **** 
1621:Libraries/uC-OSIII/os_task.c **** 
1622:Libraries/uC-OSIII/os_task.c **** 
1623:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1624:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
1625:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1626:Libraries/uC-OSIII/os_task.c ****     }
1627:Libraries/uC-OSIII/os_task.c **** #endif
1628:Libraries/uC-OSIII/os_task.c **** 
1629:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u
1630:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* Not allowed to call from an ISR     
 3101              		.loc 1 1630 0
 3102 1674 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 3103 1678 C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 3104 167c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3105 167e 002B     		cmp	r3, #0
 3106 1680 04D0     		beq	.L192
1631:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_TASK_SUSPEND_ISR;
 3107              		.loc 1 1631 0
 3108 1682 3B68     		ldr	r3, [r7, #0]
 3109 1684 47F25C12 		movw	r2, #29020
 3110 1688 1A80     		strh	r2, [r3, #0]	@ movhi
1632:Libraries/uC-OSIII/os_task.c ****         return;
 3111              		.loc 1 1632 0
 3112 168a EFE0     		b	.L191
 3113              	.L192:
1633:Libraries/uC-OSIII/os_task.c ****     }
1634:Libraries/uC-OSIII/os_task.c **** #endif
1635:Libraries/uC-OSIII/os_task.c **** 
1636:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == &OSIdleTaskTCB) {                          /* Make sure not suspending the idle ta
 3114              		.loc 1 1636 0
 3115 168c 7A68     		ldr	r2, [r7, #4]
 3116 168e 40F20003 		movw	r3, #:lower16:OSIdleTaskTCB
 3117 1692 C0F20003 		movt	r3, #:upper16:OSIdleTaskTCB
 3118 1696 9A42     		cmp	r2, r3
 3119 1698 04D1     		bne	.L194
1637:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_TASK_SUSPEND_IDLE;
 3120              		.loc 1 1637 0
 3121 169a 3B68     		ldr	r3, [r7, #0]
 3122 169c 47F25A12 		movw	r2, #29018
 3123 16a0 1A80     		strh	r2, [r3, #0]	@ movhi
1638:Libraries/uC-OSIII/os_task.c ****         return;
 3124              		.loc 1 1638 0
 3125 16a2 E3E0     		b	.L191
 3126              	.L194:
1639:Libraries/uC-OSIII/os_task.c ****     }
1640:Libraries/uC-OSIII/os_task.c **** 
1641:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_ISR_POST_DEFERRED_EN > 0u
1642:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == &OSIntQTaskTCB) {                          /* Not allowed to suspend the ISR handl
 3127              		.loc 1 1642 0
 3128 16a4 7A68     		ldr	r2, [r7, #4]
 3129 16a6 40F20003 		movw	r3, #:lower16:OSIntQTaskTCB
 3130 16aa C0F20003 		movt	r3, #:upper16:OSIntQTaskTCB
 3131 16ae 9A42     		cmp	r2, r3
 3132 16b0 04D1     		bne	.L195
1643:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_TASK_SUSPEND_INT_HANDLER;
 3133              		.loc 1 1643 0
 3134 16b2 3B68     		ldr	r3, [r7, #0]
 3135 16b4 47F25B12 		movw	r2, #29019
 3136 16b8 1A80     		strh	r2, [r3, #0]	@ movhi
1644:Libraries/uC-OSIII/os_task.c ****         return;
 3137              		.loc 1 1644 0
 3138 16ba D7E0     		b	.L191
 3139              	.L195:
1645:Libraries/uC-OSIII/os_task.c ****     }
1646:Libraries/uC-OSIII/os_task.c **** #endif
1647:Libraries/uC-OSIII/os_task.c **** 
1648:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_ENTER();
 3140              		.loc 1 1648 0
 3141 16bc FFF7FEFF 		bl	CPU_SR_Save
 3142 16c0 F860     		str	r0, [r7, #12]
 3143 16c2 FFF7FEFF 		bl	CPU_IntDisMeasStart
1649:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                             /* See if specified to suspend self    
 3144              		.loc 1 1649 0
 3145 16c6 7B68     		ldr	r3, [r7, #4]
 3146 16c8 002B     		cmp	r3, #0
 3147 16ca 05D1     		bne	.L196
1650:Libraries/uC-OSIII/os_task.c ****         p_tcb = OSTCBCurPtr;
 3148              		.loc 1 1650 0
 3149 16cc 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 3150 16d0 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 3151 16d4 1B68     		ldr	r3, [r3, #0]
 3152 16d6 7B60     		str	r3, [r7, #4]
 3153              	.L196:
1651:Libraries/uC-OSIII/os_task.c ****     }
1652:Libraries/uC-OSIII/os_task.c **** 
1653:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == OSTCBCurPtr) {
 3154              		.loc 1 1653 0
 3155 16d8 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 3156 16dc C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 3157 16e0 1B68     		ldr	r3, [r3, #0]
 3158 16e2 7A68     		ldr	r2, [r7, #4]
 3159 16e4 9A42     		cmp	r2, r3
 3160 16e6 10D1     		bne	.L197
1654:Libraries/uC-OSIII/os_task.c ****         if (OSSchedLockNestingCtr > (OS_NESTING_CTR)0) {    /* Can't suspend when the scheduler is 
 3161              		.loc 1 1654 0
 3162 16e8 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 3163 16ec C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 3164 16f0 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3165 16f2 002B     		cmp	r3, #0
 3166 16f4 09D0     		beq	.L197
1655:Libraries/uC-OSIII/os_task.c ****             CPU_CRITICAL_EXIT();
 3167              		.loc 1 1655 0
 3168 16f6 FFF7FEFF 		bl	CPU_IntDisMeasStop
 3169 16fa F868     		ldr	r0, [r7, #12]
 3170 16fc FFF7FEFF 		bl	CPU_SR_Restore
1656:Libraries/uC-OSIII/os_task.c ****             *p_err = OS_ERR_SCHED_LOCKED;
 3171              		.loc 1 1656 0
 3172 1700 3B68     		ldr	r3, [r7, #0]
 3173 1702 46F66252 		movw	r2, #28002
 3174 1706 1A80     		strh	r2, [r3, #0]	@ movhi
1657:Libraries/uC-OSIII/os_task.c ****             return;
 3175              		.loc 1 1657 0
 3176 1708 B0E0     		b	.L191
 3177              	.L197:
1658:Libraries/uC-OSIII/os_task.c ****         }
1659:Libraries/uC-OSIII/os_task.c ****     }
1660:Libraries/uC-OSIII/os_task.c **** 
1661:Libraries/uC-OSIII/os_task.c ****     *p_err = OS_ERR_NONE;
 3178              		.loc 1 1661 0
 3179 170a 3B68     		ldr	r3, [r7, #0]
 3180 170c 4FF00002 		mov	r2, #0
 3181 1710 1A80     		strh	r2, [r3, #0]	@ movhi
1662:Libraries/uC-OSIII/os_task.c ****     switch (p_tcb->TaskState) {
 3182              		.loc 1 1662 0
 3183 1712 7B68     		ldr	r3, [r7, #4]
 3184 1714 93F8C230 		ldrb	r3, [r3, #194]	@ zero_extendqisi2
 3185 1718 072B     		cmp	r3, #7
 3186 171a 00F29B80 		bhi	.L198
 3187 171e 01A2     		adr	r2, .L204
 3188 1720 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 3189              		.align	2
 3190              	.L204:
 3191 1724 45170000 		.word	.L199+1
 3192 1728 D7170000 		.word	.L200+1
 3193 172c F7170000 		.word	.L201+1
 3194 1730 17180000 		.word	.L202+1
 3195 1734 37180000 		.word	.L203+1
 3196 1738 37180000 		.word	.L203+1
 3197 173c 37180000 		.word	.L203+1
 3198 1740 37180000 		.word	.L203+1
 3199              	.L199:
1663:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_RDY:
1664:Libraries/uC-OSIII/os_task.c ****              OS_CRITICAL_ENTER_CPU_CRITICAL_EXIT();
 3200              		.loc 1 1664 0
 3201 1744 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 3202 1748 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 3203 174c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3204 174e 03F10103 		add	r3, r3, #1
 3205 1752 DAB2     		uxtb	r2, r3
 3206 1754 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 3207 1758 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 3208 175c 1A70     		strb	r2, [r3, #0]
 3209 175e 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 3210 1762 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 3211 1766 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3212 1768 012B     		cmp	r3, #1
 3213 176a 01D1     		bne	.L205
 3214              		.loc 1 1664 0 is_stmt 0 discriminator 1
 3215 176c FFF7FEFF 		bl	OS_SchedLockTimeMeasStart
 3216              	.L205:
 3217              		.loc 1 1664 0 discriminator 2
 3218 1770 FFF7FEFF 		bl	CPU_IntDisMeasStop
 3219 1774 F868     		ldr	r0, [r7, #12]
 3220 1776 FFF7FEFF 		bl	CPU_SR_Restore
1665:Libraries/uC-OSIII/os_task.c ****              p_tcb->TaskState  =  OS_TASK_STATE_SUSPENDED;
 3221              		.loc 1 1665 0 is_stmt 1 discriminator 2
 3222 177a 7B68     		ldr	r3, [r7, #4]
 3223 177c 4FF00402 		mov	r2, #4
 3224 1780 83F8C220 		strb	r2, [r3, #194]
1666:Libraries/uC-OSIII/os_task.c ****              p_tcb->SuspendCtr = (OS_NESTING_CTR)1;
 3225              		.loc 1 1666 0 discriminator 2
 3226 1784 7B68     		ldr	r3, [r7, #4]
 3227 1786 4FF00102 		mov	r2, #1
 3228 178a 83F87820 		strb	r2, [r3, #120]
1667:Libraries/uC-OSIII/os_task.c ****              OS_RdyListRemove(p_tcb);
 3229              		.loc 1 1667 0 discriminator 2
 3230 178e 7868     		ldr	r0, [r7, #4]
 3231 1790 FFF7FEFF 		bl	OS_RdyListRemove
1668:Libraries/uC-OSIII/os_task.c ****              OS_CRITICAL_EXIT_NO_SCHED();
 3232              		.loc 1 1668 0 discriminator 2
 3233 1794 FFF7FEFF 		bl	CPU_SR_Save
 3234 1798 F860     		str	r0, [r7, #12]
 3235 179a FFF7FEFF 		bl	CPU_IntDisMeasStart
 3236 179e 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 3237 17a2 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 3238 17a6 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3239 17a8 03F1FF33 		add	r3, r3, #-1
 3240 17ac DAB2     		uxtb	r2, r3
 3241 17ae 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 3242 17b2 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 3243 17b6 1A70     		strb	r2, [r3, #0]
 3244 17b8 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 3245 17bc C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 3246 17c0 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3247 17c2 002B     		cmp	r3, #0
 3248 17c4 01D1     		bne	.L206
 3249              		.loc 1 1668 0 is_stmt 0 discriminator 1
 3250 17c6 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 3251              	.L206:
 3252              		.loc 1 1668 0 discriminator 2
 3253 17ca FFF7FEFF 		bl	CPU_IntDisMeasStop
 3254 17ce F868     		ldr	r0, [r7, #12]
 3255 17d0 FFF7FEFF 		bl	CPU_SR_Restore
1669:Libraries/uC-OSIII/os_task.c ****              break;
 3256              		.loc 1 1669 0 is_stmt 1 discriminator 2
 3257 17d4 48E0     		b	.L207
 3258              	.L200:
1670:Libraries/uC-OSIII/os_task.c **** 
1671:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_DLY:
1672:Libraries/uC-OSIII/os_task.c ****              p_tcb->TaskState  = OS_TASK_STATE_DLY_SUSPENDED;
 3259              		.loc 1 1672 0
 3260 17d6 7B68     		ldr	r3, [r7, #4]
 3261 17d8 4FF00502 		mov	r2, #5
 3262 17dc 83F8C220 		strb	r2, [r3, #194]
1673:Libraries/uC-OSIII/os_task.c ****              p_tcb->SuspendCtr = (OS_NESTING_CTR)1;
 3263              		.loc 1 1673 0
 3264 17e0 7B68     		ldr	r3, [r7, #4]
 3265 17e2 4FF00102 		mov	r2, #1
 3266 17e6 83F87820 		strb	r2, [r3, #120]
1674:Libraries/uC-OSIII/os_task.c ****              CPU_CRITICAL_EXIT();
 3267              		.loc 1 1674 0
 3268 17ea FFF7FEFF 		bl	CPU_IntDisMeasStop
 3269 17ee F868     		ldr	r0, [r7, #12]
 3270 17f0 FFF7FEFF 		bl	CPU_SR_Restore
1675:Libraries/uC-OSIII/os_task.c ****              break;
 3271              		.loc 1 1675 0
 3272 17f4 38E0     		b	.L207
 3273              	.L201:
1676:Libraries/uC-OSIII/os_task.c **** 
1677:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND:
1678:Libraries/uC-OSIII/os_task.c ****              p_tcb->TaskState  = OS_TASK_STATE_PEND_SUSPENDED;
 3274              		.loc 1 1678 0
 3275 17f6 7B68     		ldr	r3, [r7, #4]
 3276 17f8 4FF00602 		mov	r2, #6
 3277 17fc 83F8C220 		strb	r2, [r3, #194]
1679:Libraries/uC-OSIII/os_task.c ****              p_tcb->SuspendCtr = (OS_NESTING_CTR)1;
 3278              		.loc 1 1679 0
 3279 1800 7B68     		ldr	r3, [r7, #4]
 3280 1802 4FF00102 		mov	r2, #1
 3281 1806 83F87820 		strb	r2, [r3, #120]
1680:Libraries/uC-OSIII/os_task.c ****              CPU_CRITICAL_EXIT();
 3282              		.loc 1 1680 0
 3283 180a FFF7FEFF 		bl	CPU_IntDisMeasStop
 3284 180e F868     		ldr	r0, [r7, #12]
 3285 1810 FFF7FEFF 		bl	CPU_SR_Restore
1681:Libraries/uC-OSIII/os_task.c ****              break;
 3286              		.loc 1 1681 0
 3287 1814 28E0     		b	.L207
 3288              	.L202:
1682:Libraries/uC-OSIII/os_task.c **** 
1683:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
1684:Libraries/uC-OSIII/os_task.c ****              p_tcb->TaskState  = OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED;
 3289              		.loc 1 1684 0
 3290 1816 7B68     		ldr	r3, [r7, #4]
 3291 1818 4FF00702 		mov	r2, #7
 3292 181c 83F8C220 		strb	r2, [r3, #194]
1685:Libraries/uC-OSIII/os_task.c ****              p_tcb->SuspendCtr = (OS_NESTING_CTR)1;
 3293              		.loc 1 1685 0
 3294 1820 7B68     		ldr	r3, [r7, #4]
 3295 1822 4FF00102 		mov	r2, #1
 3296 1826 83F87820 		strb	r2, [r3, #120]
1686:Libraries/uC-OSIII/os_task.c ****              CPU_CRITICAL_EXIT();
 3297              		.loc 1 1686 0
 3298 182a FFF7FEFF 		bl	CPU_IntDisMeasStop
 3299 182e F868     		ldr	r0, [r7, #12]
 3300 1830 FFF7FEFF 		bl	CPU_SR_Restore
1687:Libraries/uC-OSIII/os_task.c ****              break;
 3301              		.loc 1 1687 0
 3302 1834 18E0     		b	.L207
 3303              	.L203:
1688:Libraries/uC-OSIII/os_task.c **** 
1689:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_SUSPENDED:
1690:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_DLY_SUSPENDED:
1691:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
1692:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
1693:Libraries/uC-OSIII/os_task.c ****              p_tcb->SuspendCtr++;
 3304              		.loc 1 1693 0
 3305 1836 7B68     		ldr	r3, [r7, #4]
 3306 1838 93F87830 		ldrb	r3, [r3, #120]	@ zero_extendqisi2
 3307 183c 03F10103 		add	r3, r3, #1
 3308 1840 DAB2     		uxtb	r2, r3
 3309 1842 7B68     		ldr	r3, [r7, #4]
 3310 1844 83F87820 		strb	r2, [r3, #120]
1694:Libraries/uC-OSIII/os_task.c ****              CPU_CRITICAL_EXIT();
 3311              		.loc 1 1694 0
 3312 1848 FFF7FEFF 		bl	CPU_IntDisMeasStop
 3313 184c F868     		ldr	r0, [r7, #12]
 3314 184e FFF7FEFF 		bl	CPU_SR_Restore
1695:Libraries/uC-OSIII/os_task.c ****              break;
 3315              		.loc 1 1695 0
 3316 1852 09E0     		b	.L207
 3317              	.L198:
1696:Libraries/uC-OSIII/os_task.c **** 
1697:Libraries/uC-OSIII/os_task.c ****         default:
1698:Libraries/uC-OSIII/os_task.c ****              CPU_CRITICAL_EXIT();
 3318              		.loc 1 1698 0
 3319 1854 FFF7FEFF 		bl	CPU_IntDisMeasStop
 3320 1858 F868     		ldr	r0, [r7, #12]
 3321 185a FFF7FEFF 		bl	CPU_SR_Restore
1699:Libraries/uC-OSIII/os_task.c ****              *p_err = OS_ERR_STATE_INVALID;
 3322              		.loc 1 1699 0
 3323 185e 3B68     		ldr	r3, [r7, #0]
 3324 1860 46F62A62 		movw	r2, #28202
 3325 1864 1A80     		strh	r2, [r3, #0]	@ movhi
1700:Libraries/uC-OSIII/os_task.c ****              return;
 3326              		.loc 1 1700 0
 3327 1866 01E0     		b	.L191
 3328              	.L207:
1701:Libraries/uC-OSIII/os_task.c ****     }
1702:Libraries/uC-OSIII/os_task.c **** 
1703:Libraries/uC-OSIII/os_task.c ****     OSSched();
 3329              		.loc 1 1703 0
 3330 1868 FFF7FEFF 		bl	OSSched
 3331              	.L191:
1704:Libraries/uC-OSIII/os_task.c **** }
 3332              		.loc 1 1704 0
 3333 186c 07F11007 		add	r7, r7, #16
 3334 1870 BD46     		mov	sp, r7
 3335 1872 80BD     		pop	{r7, pc}
 3336              		.cfi_endproc
 3337              	.LFE15:
 3339              		.align	2
 3340              		.global	OSTaskTimeQuantaSet
 3341              		.thumb
 3342              		.thumb_func
 3344              	OSTaskTimeQuantaSet:
 3345              	.LFB16:
1705:Libraries/uC-OSIII/os_task.c **** #endif
1706:Libraries/uC-OSIII/os_task.c **** 
1707:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
1708:Libraries/uC-OSIII/os_task.c **** /*
1709:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1710:Libraries/uC-OSIII/os_task.c **** *                                                CHANGE A TASK'S TIME SLICE
1711:Libraries/uC-OSIII/os_task.c **** *
1712:Libraries/uC-OSIII/os_task.c **** * Description: This function is called to change the value of the task's specific time slice.
1713:Libraries/uC-OSIII/os_task.c **** *
1714:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb        is the pointer to the TCB of the task to change. If you specify an NULL
1715:Libraries/uC-OSIII/os_task.c **** *                           task is assumed.
1716:Libraries/uC-OSIII/os_task.c **** *
1717:Libraries/uC-OSIII/os_task.c **** *              time_quanta  is the number of ticks before the CPU is taken away when round-robin sc
1718:Libraries/uC-OSIII/os_task.c **** *
1719:Libraries/uC-OSIII/os_task.c **** *              p_err        is a pointer to an error code returned by this function:
1720:Libraries/uC-OSIII/os_task.c **** *
1721:Libraries/uC-OSIII/os_task.c **** *                               OS_ERR_NONE       upon success
1722:Libraries/uC-OSIII/os_task.c **** *                               OS_ERR_SET_ISR    if you called this function from an ISR
1723:Libraries/uC-OSIII/os_task.c **** *
1724:Libraries/uC-OSIII/os_task.c **** * Returns    : none
1725:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1726:Libraries/uC-OSIII/os_task.c **** */
1727:Libraries/uC-OSIII/os_task.c **** 
1728:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_SCHED_ROUND_ROBIN_EN > 0u
1729:Libraries/uC-OSIII/os_task.c **** void  OSTaskTimeQuantaSet (OS_TCB   *p_tcb,
1730:Libraries/uC-OSIII/os_task.c ****                            OS_TICK   time_quanta,
1731:Libraries/uC-OSIII/os_task.c ****                            OS_ERR   *p_err)
1732:Libraries/uC-OSIII/os_task.c **** {
 3346              		.loc 1 1732 0
 3347              		.cfi_startproc
 3348              		@ args = 0, pretend = 0, frame = 24
 3349              		@ frame_needed = 1, uses_anonymous_args = 0
 3350 1874 80B5     		push	{r7, lr}
 3351              	.LCFI48:
 3352              		.cfi_def_cfa_offset 8
 3353              		.cfi_offset 14, -4
 3354              		.cfi_offset 7, -8
 3355 1876 86B0     		sub	sp, sp, #24
 3356              	.LCFI49:
 3357              		.cfi_def_cfa_offset 32
 3358 1878 00AF     		add	r7, sp, #0
 3359              	.LCFI50:
 3360              		.cfi_def_cfa_register 7
 3361 187a F860     		str	r0, [r7, #12]
 3362 187c B960     		str	r1, [r7, #8]
 3363 187e 7A60     		str	r2, [r7, #4]
1733:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 3364              		.loc 1 1733 0
 3365 1880 4FF00003 		mov	r3, #0
 3366 1884 7B61     		str	r3, [r7, #20]
1734:Libraries/uC-OSIII/os_task.c **** 
1735:Libraries/uC-OSIII/os_task.c **** 
1736:Libraries/uC-OSIII/os_task.c **** 
1737:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1738:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
1739:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1740:Libraries/uC-OSIII/os_task.c ****     }
1741:Libraries/uC-OSIII/os_task.c **** #endif
1742:Libraries/uC-OSIII/os_task.c **** 
1743:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_CALLED_FROM_ISR_CHK_EN > 0u
1744:Libraries/uC-OSIII/os_task.c ****     if (OSIntNestingCtr > (OS_NESTING_CTR)0) {              /* Can't call this function from an ISR
 3367              		.loc 1 1744 0
 3368 1886 40F20003 		movw	r3, #:lower16:OSIntNestingCtr
 3369 188a C0F20003 		movt	r3, #:upper16:OSIntNestingCtr
 3370 188e 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3371 1890 002B     		cmp	r3, #0
 3372 1892 04D0     		beq	.L209
1745:Libraries/uC-OSIII/os_task.c ****         *p_err = OS_ERR_SET_ISR;
 3373              		.loc 1 1745 0
 3374 1894 7B68     		ldr	r3, [r7, #4]
 3375 1896 46F6C652 		movw	r2, #28102
 3376 189a 1A80     		strh	r2, [r3, #0]	@ movhi
1746:Libraries/uC-OSIII/os_task.c ****         return;
 3377              		.loc 1 1746 0
 3378 189c 34E0     		b	.L208
 3379              	.L209:
1747:Libraries/uC-OSIII/os_task.c ****     }
1748:Libraries/uC-OSIII/os_task.c **** #endif
1749:Libraries/uC-OSIII/os_task.c **** 
1750:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_ENTER();
 3380              		.loc 1 1750 0
 3381 189e FFF7FEFF 		bl	CPU_SR_Save
 3382 18a2 7861     		str	r0, [r7, #20]
 3383 18a4 FFF7FEFF 		bl	CPU_IntDisMeasStart
1751:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == (OS_TCB *)0) {
 3384              		.loc 1 1751 0
 3385 18a8 FB68     		ldr	r3, [r7, #12]
 3386 18aa 002B     		cmp	r3, #0
 3387 18ac 05D1     		bne	.L211
1752:Libraries/uC-OSIII/os_task.c ****         p_tcb = OSTCBCurPtr;
 3388              		.loc 1 1752 0
 3389 18ae 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 3390 18b2 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 3391 18b6 1B68     		ldr	r3, [r3, #0]
 3392 18b8 FB60     		str	r3, [r7, #12]
 3393              	.L211:
1753:Libraries/uC-OSIII/os_task.c ****     }
1754:Libraries/uC-OSIII/os_task.c **** 
1755:Libraries/uC-OSIII/os_task.c ****     if (time_quanta == 0u) {
 3394              		.loc 1 1755 0
 3395 18ba BB68     		ldr	r3, [r7, #8]
 3396 18bc 002B     		cmp	r3, #0
 3397 18be 08D1     		bne	.L212
1756:Libraries/uC-OSIII/os_task.c ****         p_tcb->TimeQuanta    = OSSchedRoundRobinDfltTimeQuanta;
 3398              		.loc 1 1756 0
 3399 18c0 40F20003 		movw	r3, #:lower16:OSSchedRoundRobinDfltTimeQuanta
 3400 18c4 C0F20003 		movt	r3, #:upper16:OSSchedRoundRobinDfltTimeQuanta
 3401 18c8 1A68     		ldr	r2, [r3, #0]
 3402 18ca FB68     		ldr	r3, [r7, #12]
 3403 18cc C3F89820 		str	r2, [r3, #152]
 3404 18d0 03E0     		b	.L213
 3405              	.L212:
1757:Libraries/uC-OSIII/os_task.c ****     } else {
1758:Libraries/uC-OSIII/os_task.c ****         p_tcb->TimeQuanta    = time_quanta;
 3406              		.loc 1 1758 0
 3407 18d2 FB68     		ldr	r3, [r7, #12]
 3408 18d4 BA68     		ldr	r2, [r7, #8]
 3409 18d6 C3F89820 		str	r2, [r3, #152]
 3410              	.L213:
1759:Libraries/uC-OSIII/os_task.c ****     }
1760:Libraries/uC-OSIII/os_task.c ****     if (p_tcb->TimeQuanta > p_tcb->TimeQuantaCtr) {
 3411              		.loc 1 1760 0
 3412 18da FB68     		ldr	r3, [r7, #12]
 3413 18dc D3F89820 		ldr	r2, [r3, #152]
 3414 18e0 FB68     		ldr	r3, [r7, #12]
 3415 18e2 D3F89C30 		ldr	r3, [r3, #156]
 3416 18e6 9A42     		cmp	r2, r3
 3417 18e8 05D9     		bls	.L214
1761:Libraries/uC-OSIII/os_task.c ****         p_tcb->TimeQuantaCtr = p_tcb->TimeQuanta;
 3418              		.loc 1 1761 0
 3419 18ea FB68     		ldr	r3, [r7, #12]
 3420 18ec D3F89820 		ldr	r2, [r3, #152]
 3421 18f0 FB68     		ldr	r3, [r7, #12]
 3422 18f2 C3F89C20 		str	r2, [r3, #156]
 3423              	.L214:
1762:Libraries/uC-OSIII/os_task.c ****     }
1763:Libraries/uC-OSIII/os_task.c ****     CPU_CRITICAL_EXIT();
 3424              		.loc 1 1763 0
 3425 18f6 FFF7FEFF 		bl	CPU_IntDisMeasStop
 3426 18fa 7869     		ldr	r0, [r7, #20]
 3427 18fc FFF7FEFF 		bl	CPU_SR_Restore
1764:Libraries/uC-OSIII/os_task.c ****     *p_err = OS_ERR_NONE;
 3428              		.loc 1 1764 0
 3429 1900 7B68     		ldr	r3, [r7, #4]
 3430 1902 4FF00002 		mov	r2, #0
 3431 1906 1A80     		strh	r2, [r3, #0]	@ movhi
 3432              	.L208:
1765:Libraries/uC-OSIII/os_task.c **** }
 3433              		.loc 1 1765 0
 3434 1908 07F11807 		add	r7, r7, #24
 3435 190c BD46     		mov	sp, r7
 3436 190e 80BD     		pop	{r7, pc}
 3437              		.cfi_endproc
 3438              	.LFE16:
 3440              		.align	2
 3441              		.global	OS_TaskDbgListAdd
 3442              		.thumb
 3443              		.thumb_func
 3445              	OS_TaskDbgListAdd:
 3446              	.LFB17:
1766:Libraries/uC-OSIII/os_task.c **** #endif
1767:Libraries/uC-OSIII/os_task.c **** 
1768:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
1769:Libraries/uC-OSIII/os_task.c **** /*
1770:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1771:Libraries/uC-OSIII/os_task.c **** *                                            ADD/REMOVE TASK TO/FROM DEBUG LIST
1772:Libraries/uC-OSIII/os_task.c **** *
1773:Libraries/uC-OSIII/os_task.c **** * Description: These functions are called by uC/OS-III to add or remove an OS_TCB from the debug li
1774:Libraries/uC-OSIII/os_task.c **** *
1775:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb     is a pointer to the OS_TCB to add/remove
1776:Libraries/uC-OSIII/os_task.c **** *
1777:Libraries/uC-OSIII/os_task.c **** * Returns    : none
1778:Libraries/uC-OSIII/os_task.c **** *
1779:Libraries/uC-OSIII/os_task.c **** * Note(s)    : These functions are INTERNAL to uC/OS-III and your application should not call it.
1780:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1781:Libraries/uC-OSIII/os_task.c **** */
1782:Libraries/uC-OSIII/os_task.c **** 
1783:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_DBG_EN > 0u
1784:Libraries/uC-OSIII/os_task.c **** void  OS_TaskDbgListAdd (OS_TCB  *p_tcb)
1785:Libraries/uC-OSIII/os_task.c **** {
 3447              		.loc 1 1785 0
 3448              		.cfi_startproc
 3449              		@ args = 0, pretend = 0, frame = 8
 3450              		@ frame_needed = 1, uses_anonymous_args = 0
 3451              		@ link register save eliminated.
 3452 1910 80B4     		push	{r7}
 3453              	.LCFI51:
 3454              		.cfi_def_cfa_offset 4
 3455              		.cfi_offset 7, -4
 3456 1912 83B0     		sub	sp, sp, #12
 3457              	.LCFI52:
 3458              		.cfi_def_cfa_offset 16
 3459 1914 00AF     		add	r7, sp, #0
 3460              	.LCFI53:
 3461              		.cfi_def_cfa_register 7
 3462 1916 7860     		str	r0, [r7, #4]
1786:Libraries/uC-OSIII/os_task.c ****     p_tcb->DbgPrevPtr                = (OS_TCB *)0;
 3463              		.loc 1 1786 0
 3464 1918 7B68     		ldr	r3, [r7, #4]
 3465 191a 4FF00002 		mov	r2, #0
 3466 191e C3F8C420 		str	r2, [r3, #196]
1787:Libraries/uC-OSIII/os_task.c ****     if (OSTaskDbgListPtr == (OS_TCB *)0) {
 3467              		.loc 1 1787 0
 3468 1922 40F20003 		movw	r3, #:lower16:OSTaskDbgListPtr
 3469 1926 C0F20003 		movt	r3, #:upper16:OSTaskDbgListPtr
 3470 192a 1B68     		ldr	r3, [r3, #0]
 3471 192c 002B     		cmp	r3, #0
 3472 192e 05D1     		bne	.L216
1788:Libraries/uC-OSIII/os_task.c ****         p_tcb->DbgNextPtr            = (OS_TCB *)0;
 3473              		.loc 1 1788 0
 3474 1930 7B68     		ldr	r3, [r7, #4]
 3475 1932 4FF00002 		mov	r2, #0
 3476 1936 C3F8C820 		str	r2, [r3, #200]
 3477 193a 0FE0     		b	.L217
 3478              	.L216:
1789:Libraries/uC-OSIII/os_task.c ****     } else {
1790:Libraries/uC-OSIII/os_task.c ****         p_tcb->DbgNextPtr            =  OSTaskDbgListPtr;
 3479              		.loc 1 1790 0
 3480 193c 40F20003 		movw	r3, #:lower16:OSTaskDbgListPtr
 3481 1940 C0F20003 		movt	r3, #:upper16:OSTaskDbgListPtr
 3482 1944 1A68     		ldr	r2, [r3, #0]
 3483 1946 7B68     		ldr	r3, [r7, #4]
 3484 1948 C3F8C820 		str	r2, [r3, #200]
1791:Libraries/uC-OSIII/os_task.c ****         OSTaskDbgListPtr->DbgPrevPtr =  p_tcb;
 3485              		.loc 1 1791 0
 3486 194c 40F20003 		movw	r3, #:lower16:OSTaskDbgListPtr
 3487 1950 C0F20003 		movt	r3, #:upper16:OSTaskDbgListPtr
 3488 1954 1B68     		ldr	r3, [r3, #0]
 3489 1956 7A68     		ldr	r2, [r7, #4]
 3490 1958 C3F8C420 		str	r2, [r3, #196]
 3491              	.L217:
1792:Libraries/uC-OSIII/os_task.c ****     }
1793:Libraries/uC-OSIII/os_task.c ****     OSTaskDbgListPtr                 =  p_tcb;
 3492              		.loc 1 1793 0
 3493 195c 40F20003 		movw	r3, #:lower16:OSTaskDbgListPtr
 3494 1960 C0F20003 		movt	r3, #:upper16:OSTaskDbgListPtr
 3495 1964 7A68     		ldr	r2, [r7, #4]
 3496 1966 1A60     		str	r2, [r3, #0]
1794:Libraries/uC-OSIII/os_task.c **** }
 3497              		.loc 1 1794 0
 3498 1968 07F10C07 		add	r7, r7, #12
 3499 196c BD46     		mov	sp, r7
 3500 196e 80BC     		pop	{r7}
 3501 1970 7047     		bx	lr
 3502              		.cfi_endproc
 3503              	.LFE17:
 3505 1972 00BF     		.align	2
 3506              		.global	OS_TaskDbgListRemove
 3507              		.thumb
 3508              		.thumb_func
 3510              	OS_TaskDbgListRemove:
 3511              	.LFB18:
1795:Libraries/uC-OSIII/os_task.c **** 
1796:Libraries/uC-OSIII/os_task.c **** 
1797:Libraries/uC-OSIII/os_task.c **** 
1798:Libraries/uC-OSIII/os_task.c **** void  OS_TaskDbgListRemove (OS_TCB  *p_tcb)
1799:Libraries/uC-OSIII/os_task.c **** {
 3512              		.loc 1 1799 0
 3513              		.cfi_startproc
 3514              		@ args = 0, pretend = 0, frame = 16
 3515              		@ frame_needed = 1, uses_anonymous_args = 0
 3516              		@ link register save eliminated.
 3517 1974 80B4     		push	{r7}
 3518              	.LCFI54:
 3519              		.cfi_def_cfa_offset 4
 3520              		.cfi_offset 7, -4
 3521 1976 85B0     		sub	sp, sp, #20
 3522              	.LCFI55:
 3523              		.cfi_def_cfa_offset 24
 3524 1978 00AF     		add	r7, sp, #0
 3525              	.LCFI56:
 3526              		.cfi_def_cfa_register 7
 3527 197a 7860     		str	r0, [r7, #4]
1800:Libraries/uC-OSIII/os_task.c ****     OS_TCB  *p_tcb_next;
1801:Libraries/uC-OSIII/os_task.c ****     OS_TCB  *p_tcb_prev;
1802:Libraries/uC-OSIII/os_task.c **** 
1803:Libraries/uC-OSIII/os_task.c **** 
1804:Libraries/uC-OSIII/os_task.c ****     p_tcb_prev = p_tcb->DbgPrevPtr;
 3528              		.loc 1 1804 0
 3529 197c 7B68     		ldr	r3, [r7, #4]
 3530 197e D3F8C430 		ldr	r3, [r3, #196]
 3531 1982 FB60     		str	r3, [r7, #12]
1805:Libraries/uC-OSIII/os_task.c ****     p_tcb_next = p_tcb->DbgNextPtr;
 3532              		.loc 1 1805 0
 3533 1984 7B68     		ldr	r3, [r7, #4]
 3534 1986 D3F8C830 		ldr	r3, [r3, #200]
 3535 198a BB60     		str	r3, [r7, #8]
1806:Libraries/uC-OSIII/os_task.c **** 
1807:Libraries/uC-OSIII/os_task.c ****     if (p_tcb_prev == (OS_TCB *)0) {
 3536              		.loc 1 1807 0
 3537 198c FB68     		ldr	r3, [r7, #12]
 3538 198e 002B     		cmp	r3, #0
 3539 1990 13D1     		bne	.L219
1808:Libraries/uC-OSIII/os_task.c ****         OSTaskDbgListPtr = p_tcb_next;
 3540              		.loc 1 1808 0
 3541 1992 40F20003 		movw	r3, #:lower16:OSTaskDbgListPtr
 3542 1996 C0F20003 		movt	r3, #:upper16:OSTaskDbgListPtr
 3543 199a BA68     		ldr	r2, [r7, #8]
 3544 199c 1A60     		str	r2, [r3, #0]
1809:Libraries/uC-OSIII/os_task.c ****         if (p_tcb_next != (OS_TCB *)0) {
 3545              		.loc 1 1809 0
 3546 199e BB68     		ldr	r3, [r7, #8]
 3547 19a0 002B     		cmp	r3, #0
 3548 19a2 04D0     		beq	.L220
1810:Libraries/uC-OSIII/os_task.c ****             p_tcb_next->DbgPrevPtr = (OS_TCB *)0;
 3549              		.loc 1 1810 0
 3550 19a4 BB68     		ldr	r3, [r7, #8]
 3551 19a6 4FF00002 		mov	r2, #0
 3552 19aa C3F8C420 		str	r2, [r3, #196]
 3553              	.L220:
1811:Libraries/uC-OSIII/os_task.c ****         }
1812:Libraries/uC-OSIII/os_task.c ****         p_tcb->DbgNextPtr = (OS_TCB *)0;
 3554              		.loc 1 1812 0
 3555 19ae 7B68     		ldr	r3, [r7, #4]
 3556 19b0 4FF00002 		mov	r2, #0
 3557 19b4 C3F8C820 		str	r2, [r3, #200]
 3558 19b8 1FE0     		b	.L218
 3559              	.L219:
1813:Libraries/uC-OSIII/os_task.c **** 
1814:Libraries/uC-OSIII/os_task.c ****     } else if (p_tcb_next == (OS_TCB *)0) {
 3560              		.loc 1 1814 0
 3561 19ba BB68     		ldr	r3, [r7, #8]
 3562 19bc 002B     		cmp	r3, #0
 3563 19be 0AD1     		bne	.L222
1815:Libraries/uC-OSIII/os_task.c ****         p_tcb_prev->DbgNextPtr = (OS_TCB *)0;
 3564              		.loc 1 1815 0
 3565 19c0 FB68     		ldr	r3, [r7, #12]
 3566 19c2 4FF00002 		mov	r2, #0
 3567 19c6 C3F8C820 		str	r2, [r3, #200]
1816:Libraries/uC-OSIII/os_task.c ****         p_tcb->DbgPrevPtr      = (OS_TCB *)0;
 3568              		.loc 1 1816 0
 3569 19ca 7B68     		ldr	r3, [r7, #4]
 3570 19cc 4FF00002 		mov	r2, #0
 3571 19d0 C3F8C420 		str	r2, [r3, #196]
 3572 19d4 11E0     		b	.L218
 3573              	.L222:
1817:Libraries/uC-OSIII/os_task.c **** 
1818:Libraries/uC-OSIII/os_task.c ****     } else {
1819:Libraries/uC-OSIII/os_task.c ****         p_tcb_prev->DbgNextPtr =  p_tcb_next;
 3574              		.loc 1 1819 0
 3575 19d6 FB68     		ldr	r3, [r7, #12]
 3576 19d8 BA68     		ldr	r2, [r7, #8]
 3577 19da C3F8C820 		str	r2, [r3, #200]
1820:Libraries/uC-OSIII/os_task.c ****         p_tcb_next->DbgPrevPtr =  p_tcb_prev;
 3578              		.loc 1 1820 0
 3579 19de BB68     		ldr	r3, [r7, #8]
 3580 19e0 FA68     		ldr	r2, [r7, #12]
 3581 19e2 C3F8C420 		str	r2, [r3, #196]
1821:Libraries/uC-OSIII/os_task.c ****         p_tcb->DbgNextPtr      = (OS_TCB *)0;
 3582              		.loc 1 1821 0
 3583 19e6 7B68     		ldr	r3, [r7, #4]
 3584 19e8 4FF00002 		mov	r2, #0
 3585 19ec C3F8C820 		str	r2, [r3, #200]
1822:Libraries/uC-OSIII/os_task.c ****         p_tcb->DbgPrevPtr      = (OS_TCB *)0;
 3586              		.loc 1 1822 0
 3587 19f0 7B68     		ldr	r3, [r7, #4]
 3588 19f2 4FF00002 		mov	r2, #0
 3589 19f6 C3F8C420 		str	r2, [r3, #196]
 3590              	.L218:
1823:Libraries/uC-OSIII/os_task.c ****     }
1824:Libraries/uC-OSIII/os_task.c **** }
 3591              		.loc 1 1824 0
 3592 19fa 07F11407 		add	r7, r7, #20
 3593 19fe BD46     		mov	sp, r7
 3594 1a00 80BC     		pop	{r7}
 3595 1a02 7047     		bx	lr
 3596              		.cfi_endproc
 3597              	.LFE18:
 3599              		.align	2
 3600              		.global	OS_TaskInit
 3601              		.thumb
 3602              		.thumb_func
 3604              	OS_TaskInit:
 3605              	.LFB19:
1825:Libraries/uC-OSIII/os_task.c **** #endif
1826:Libraries/uC-OSIII/os_task.c **** 
1827:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
1828:Libraries/uC-OSIII/os_task.c **** /*
1829:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1830:Libraries/uC-OSIII/os_task.c **** *                                             TASK MANAGER INITIALIZATION
1831:Libraries/uC-OSIII/os_task.c **** *
1832:Libraries/uC-OSIII/os_task.c **** * Description: This function is called by OSInit() to initialize the task management.
1833:Libraries/uC-OSIII/os_task.c **** *
1834:Libraries/uC-OSIII/os_task.c **** 
1835:Libraries/uC-OSIII/os_task.c **** * Argument(s): p_err        is a pointer to a variable that will contain an error code returned by 
1836:Libraries/uC-OSIII/os_task.c **** *
1837:Libraries/uC-OSIII/os_task.c **** *                                OS_ERR_NONE     the call was successful
1838:Libraries/uC-OSIII/os_task.c **** *
1839:Libraries/uC-OSIII/os_task.c **** * Returns    : none
1840:Libraries/uC-OSIII/os_task.c **** *
1841:Libraries/uC-OSIII/os_task.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
1842:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1843:Libraries/uC-OSIII/os_task.c **** */
1844:Libraries/uC-OSIII/os_task.c **** 
1845:Libraries/uC-OSIII/os_task.c **** void  OS_TaskInit (OS_ERR  *p_err)
1846:Libraries/uC-OSIII/os_task.c **** {
 3606              		.loc 1 1846 0
 3607              		.cfi_startproc
 3608              		@ args = 0, pretend = 0, frame = 8
 3609              		@ frame_needed = 1, uses_anonymous_args = 0
 3610              		@ link register save eliminated.
 3611 1a04 80B4     		push	{r7}
 3612              	.LCFI57:
 3613              		.cfi_def_cfa_offset 4
 3614              		.cfi_offset 7, -4
 3615 1a06 83B0     		sub	sp, sp, #12
 3616              	.LCFI58:
 3617              		.cfi_def_cfa_offset 16
 3618 1a08 00AF     		add	r7, sp, #0
 3619              	.LCFI59:
 3620              		.cfi_def_cfa_register 7
 3621 1a0a 7860     		str	r0, [r7, #4]
1847:Libraries/uC-OSIII/os_task.c **** #ifdef OS_SAFETY_CRITICAL
1848:Libraries/uC-OSIII/os_task.c ****     if (p_err == (OS_ERR *)0) {
1849:Libraries/uC-OSIII/os_task.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
1850:Libraries/uC-OSIII/os_task.c ****     }
1851:Libraries/uC-OSIII/os_task.c **** #endif
1852:Libraries/uC-OSIII/os_task.c **** 
1853:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_DBG_EN > 0u
1854:Libraries/uC-OSIII/os_task.c ****     OSTaskDbgListPtr = (OS_TCB      *)0;
 3622              		.loc 1 1854 0
 3623 1a0c 40F20003 		movw	r3, #:lower16:OSTaskDbgListPtr
 3624 1a10 C0F20003 		movt	r3, #:upper16:OSTaskDbgListPtr
 3625 1a14 4FF00002 		mov	r2, #0
 3626 1a18 1A60     		str	r2, [r3, #0]
1855:Libraries/uC-OSIII/os_task.c **** #endif
1856:Libraries/uC-OSIII/os_task.c **** 
1857:Libraries/uC-OSIII/os_task.c ****     OSTaskQty        = (OS_OBJ_QTY   )0;                    /* Clear the number of tasks           
 3627              		.loc 1 1857 0
 3628 1a1a 40F20003 		movw	r3, #:lower16:OSTaskQty
 3629 1a1e C0F20003 		movt	r3, #:upper16:OSTaskQty
 3630 1a22 4FF00002 		mov	r2, #0
 3631 1a26 1A80     		strh	r2, [r3, #0]	@ movhi
1858:Libraries/uC-OSIII/os_task.c ****     OSTaskCtxSwCtr   = (OS_CTX_SW_CTR)0;                    /* Clear the context switch counter    
 3632              		.loc 1 1858 0
 3633 1a28 40F20003 		movw	r3, #:lower16:OSTaskCtxSwCtr
 3634 1a2c C0F20003 		movt	r3, #:upper16:OSTaskCtxSwCtr
 3635 1a30 4FF00002 		mov	r2, #0
 3636 1a34 1A60     		str	r2, [r3, #0]
1859:Libraries/uC-OSIII/os_task.c **** 
1860:Libraries/uC-OSIII/os_task.c ****     *p_err           = OS_ERR_NONE;
 3637              		.loc 1 1860 0
 3638 1a36 7B68     		ldr	r3, [r7, #4]
 3639 1a38 4FF00002 		mov	r2, #0
 3640 1a3c 1A80     		strh	r2, [r3, #0]	@ movhi
1861:Libraries/uC-OSIII/os_task.c **** }
 3641              		.loc 1 1861 0
 3642 1a3e 07F10C07 		add	r7, r7, #12
 3643 1a42 BD46     		mov	sp, r7
 3644 1a44 80BC     		pop	{r7}
 3645 1a46 7047     		bx	lr
 3646              		.cfi_endproc
 3647              	.LFE19:
 3649              		.section	.rodata
 3650              		.align	2
 3651              	.LC0:
 3652 0000 3F546173 		.ascii	"?Task\000"
 3652      6B00
 3653 0006 0000     		.align	2
 3654              	.LC1:
 3655 0008 2000     		.ascii	" \000"
 3656 000a 0000     		.text
 3657              		.align	2
 3658              		.global	OS_TaskInitTCB
 3659              		.thumb
 3660              		.thumb_func
 3662              	OS_TaskInitTCB:
 3663              	.LFB20:
1862:Libraries/uC-OSIII/os_task.c **** 
1863:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
1864:Libraries/uC-OSIII/os_task.c **** /*
1865:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1866:Libraries/uC-OSIII/os_task.c **** *                                               INITIALIZE TCB FIELDS
1867:Libraries/uC-OSIII/os_task.c **** *
1868:Libraries/uC-OSIII/os_task.c **** * Description: This function is called to initialize a TCB to default values
1869:Libraries/uC-OSIII/os_task.c **** *
1870:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb    is a pointer to the TCB to initialize
1871:Libraries/uC-OSIII/os_task.c **** *
1872:Libraries/uC-OSIII/os_task.c **** * Returns    : none
1873:Libraries/uC-OSIII/os_task.c **** *
1874:Libraries/uC-OSIII/os_task.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
1875:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1876:Libraries/uC-OSIII/os_task.c **** */
1877:Libraries/uC-OSIII/os_task.c **** 
1878:Libraries/uC-OSIII/os_task.c **** void  OS_TaskInitTCB (OS_TCB *p_tcb)
1879:Libraries/uC-OSIII/os_task.c **** {
 3664              		.loc 1 1879 0
 3665              		.cfi_startproc
 3666              		@ args = 0, pretend = 0, frame = 16
 3667              		@ frame_needed = 1, uses_anonymous_args = 0
 3668 1a48 80B5     		push	{r7, lr}
 3669              	.LCFI60:
 3670              		.cfi_def_cfa_offset 8
 3671              		.cfi_offset 14, -4
 3672              		.cfi_offset 7, -8
 3673 1a4a 84B0     		sub	sp, sp, #16
 3674              	.LCFI61:
 3675              		.cfi_def_cfa_offset 24
 3676 1a4c 00AF     		add	r7, sp, #0
 3677              	.LCFI62:
 3678              		.cfi_def_cfa_register 7
 3679 1a4e 7860     		str	r0, [r7, #4]
1880:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_REG_TBL_SIZE > 0u
1881:Libraries/uC-OSIII/os_task.c ****     OS_REG_ID   id;
1882:Libraries/uC-OSIII/os_task.c **** #endif
1883:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_PROFILE_EN > 0u
1884:Libraries/uC-OSIII/os_task.c ****     CPU_TS      ts;
1885:Libraries/uC-OSIII/os_task.c **** #endif
1886:Libraries/uC-OSIII/os_task.c **** 
1887:Libraries/uC-OSIII/os_task.c **** 
1888:Libraries/uC-OSIII/os_task.c ****     p_tcb->StkPtr             = (CPU_STK       *)0;
 3680              		.loc 1 1888 0
 3681 1a50 7B68     		ldr	r3, [r7, #4]
 3682 1a52 4FF00002 		mov	r2, #0
 3683 1a56 1A60     		str	r2, [r3, #0]
1889:Libraries/uC-OSIII/os_task.c ****     p_tcb->StkLimitPtr        = (CPU_STK       *)0;
 3684              		.loc 1 1889 0
 3685 1a58 7B68     		ldr	r3, [r7, #4]
 3686 1a5a 4FF00002 		mov	r2, #0
 3687 1a5e 9A60     		str	r2, [r3, #8]
1890:Libraries/uC-OSIII/os_task.c **** 
1891:Libraries/uC-OSIII/os_task.c ****     p_tcb->ExtPtr             = (void          *)0;
 3688              		.loc 1 1891 0
 3689 1a60 7B68     		ldr	r3, [r7, #4]
 3690 1a62 4FF00002 		mov	r2, #0
 3691 1a66 5A60     		str	r2, [r3, #4]
1892:Libraries/uC-OSIII/os_task.c **** 
1893:Libraries/uC-OSIII/os_task.c ****     p_tcb->NextPtr            = (OS_TCB        *)0;
 3692              		.loc 1 1893 0
 3693 1a68 7B68     		ldr	r3, [r7, #4]
 3694 1a6a 4FF00002 		mov	r2, #0
 3695 1a6e DA60     		str	r2, [r3, #12]
1894:Libraries/uC-OSIII/os_task.c ****     p_tcb->PrevPtr            = (OS_TCB        *)0;
 3696              		.loc 1 1894 0
 3697 1a70 7B68     		ldr	r3, [r7, #4]
 3698 1a72 4FF00002 		mov	r2, #0
 3699 1a76 1A61     		str	r2, [r3, #16]
1895:Libraries/uC-OSIII/os_task.c **** 
1896:Libraries/uC-OSIII/os_task.c ****     p_tcb->TickNextPtr        = (OS_TCB        *)0;
 3700              		.loc 1 1896 0
 3701 1a78 7B68     		ldr	r3, [r7, #4]
 3702 1a7a 4FF00002 		mov	r2, #0
 3703 1a7e 5A61     		str	r2, [r3, #20]
1897:Libraries/uC-OSIII/os_task.c ****     p_tcb->TickPrevPtr        = (OS_TCB        *)0;
 3704              		.loc 1 1897 0
 3705 1a80 7B68     		ldr	r3, [r7, #4]
 3706 1a82 4FF00002 		mov	r2, #0
 3707 1a86 9A61     		str	r2, [r3, #24]
1898:Libraries/uC-OSIII/os_task.c ****     p_tcb->TickSpokePtr       = (OS_TICK_SPOKE *)0;
 3708              		.loc 1 1898 0
 3709 1a88 7B68     		ldr	r3, [r7, #4]
 3710 1a8a 4FF00002 		mov	r2, #0
 3711 1a8e DA61     		str	r2, [r3, #28]
1899:Libraries/uC-OSIII/os_task.c **** 
1900:Libraries/uC-OSIII/os_task.c ****     p_tcb->NamePtr            = (CPU_CHAR      *)((void *)"?Task");
 3712              		.loc 1 1900 0
 3713 1a90 7A68     		ldr	r2, [r7, #4]
 3714 1a92 40F20003 		movw	r3, #:lower16:.LC0
 3715 1a96 C0F20003 		movt	r3, #:upper16:.LC0
 3716 1a9a 1362     		str	r3, [r2, #32]
1901:Libraries/uC-OSIII/os_task.c **** 
1902:Libraries/uC-OSIII/os_task.c ****     p_tcb->StkBasePtr         = (CPU_STK       *)0;
 3717              		.loc 1 1902 0
 3718 1a9c 7B68     		ldr	r3, [r7, #4]
 3719 1a9e 4FF00002 		mov	r2, #0
 3720 1aa2 5A62     		str	r2, [r3, #36]
1903:Libraries/uC-OSIII/os_task.c **** 
1904:Libraries/uC-OSIII/os_task.c ****     p_tcb->TaskEntryAddr      = (OS_TASK_PTR    )0;
 3721              		.loc 1 1904 0
 3722 1aa4 7B68     		ldr	r3, [r7, #4]
 3723 1aa6 4FF00002 		mov	r2, #0
 3724 1aaa 9A62     		str	r2, [r3, #40]
1905:Libraries/uC-OSIII/os_task.c ****     p_tcb->TaskEntryArg       = (void          *)0;
 3725              		.loc 1 1905 0
 3726 1aac 7B68     		ldr	r3, [r7, #4]
 3727 1aae 4FF00002 		mov	r2, #0
 3728 1ab2 DA62     		str	r2, [r3, #44]
1906:Libraries/uC-OSIII/os_task.c **** 
1907:Libraries/uC-OSIII/os_task.c **** #if (OS_CFG_PEND_MULTI_EN > 0u)
1908:Libraries/uC-OSIII/os_task.c ****     p_tcb->PendDataTblPtr     = (OS_PEND_DATA  *)0;
 3729              		.loc 1 1908 0
 3730 1ab4 7B68     		ldr	r3, [r7, #4]
 3731 1ab6 4FF00002 		mov	r2, #0
 3732 1aba 1A63     		str	r2, [r3, #48]
1909:Libraries/uC-OSIII/os_task.c ****     p_tcb->PendDataTblEntries = (OS_OBJ_QTY     )0u;
 3733              		.loc 1 1909 0
 3734 1abc 7B68     		ldr	r3, [r7, #4]
 3735 1abe 4FF00002 		mov	r2, #0
 3736 1ac2 9A86     		strh	r2, [r3, #52]	@ movhi
1910:Libraries/uC-OSIII/os_task.c **** #endif
1911:Libraries/uC-OSIII/os_task.c **** 
1912:Libraries/uC-OSIII/os_task.c ****     p_tcb->TS                 = (CPU_TS         )0u;
 3737              		.loc 1 1912 0
 3738 1ac4 7B68     		ldr	r3, [r7, #4]
 3739 1ac6 4FF00002 		mov	r2, #0
 3740 1aca 9A63     		str	r2, [r3, #56]
1913:Libraries/uC-OSIII/os_task.c **** 
1914:Libraries/uC-OSIII/os_task.c **** #if (OS_MSG_EN > 0u)
1915:Libraries/uC-OSIII/os_task.c ****     p_tcb->MsgPtr             = (void          *)0;
 3741              		.loc 1 1915 0
 3742 1acc 7B68     		ldr	r3, [r7, #4]
 3743 1ace 4FF00002 		mov	r2, #0
 3744 1ad2 DA63     		str	r2, [r3, #60]
1916:Libraries/uC-OSIII/os_task.c ****     p_tcb->MsgSize            = (OS_MSG_SIZE    )0u;
 3745              		.loc 1 1916 0
 3746 1ad4 7B68     		ldr	r3, [r7, #4]
 3747 1ad6 4FF00002 		mov	r2, #0
 3748 1ada A3F84020 		strh	r2, [r3, #64]	@ movhi
1917:Libraries/uC-OSIII/os_task.c **** #endif
1918:Libraries/uC-OSIII/os_task.c **** 
1919:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_Q_EN > 0u
1920:Libraries/uC-OSIII/os_task.c ****     OS_MsgQInit(&p_tcb->MsgQ,
 3749              		.loc 1 1920 0
 3750 1ade 7B68     		ldr	r3, [r7, #4]
 3751 1ae0 03F14403 		add	r3, r3, #68
 3752 1ae4 1846     		mov	r0, r3
 3753 1ae6 4FF00001 		mov	r1, #0
 3754 1aea FFF7FEFF 		bl	OS_MsgQInit
1921:Libraries/uC-OSIII/os_task.c ****                 (OS_MSG_QTY)0u);
1922:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_PROFILE_EN > 0u
1923:Libraries/uC-OSIII/os_task.c ****     p_tcb->MsgQPendTime       = (CPU_TS         )0u;
 3755              		.loc 1 1923 0
 3756 1aee 7B68     		ldr	r3, [r7, #4]
 3757 1af0 4FF00002 		mov	r2, #0
 3758 1af4 5A65     		str	r2, [r3, #84]
1924:Libraries/uC-OSIII/os_task.c ****     p_tcb->MsgQPendTimeMax    = (CPU_TS         )0u;
 3759              		.loc 1 1924 0
 3760 1af6 7B68     		ldr	r3, [r7, #4]
 3761 1af8 4FF00002 		mov	r2, #0
 3762 1afc 9A65     		str	r2, [r3, #88]
1925:Libraries/uC-OSIII/os_task.c **** #endif
1926:Libraries/uC-OSIII/os_task.c **** #endif
1927:Libraries/uC-OSIII/os_task.c **** 
1928:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_FLAG_EN > 0u
1929:Libraries/uC-OSIII/os_task.c ****     p_tcb->FlagsPend          = (OS_FLAGS       )0u;
 3763              		.loc 1 1929 0
 3764 1afe 7B68     		ldr	r3, [r7, #4]
 3765 1b00 4FF00002 		mov	r2, #0
 3766 1b04 DA65     		str	r2, [r3, #92]
1930:Libraries/uC-OSIII/os_task.c ****     p_tcb->FlagsOpt           = (OS_OPT         )0u;
 3767              		.loc 1 1930 0
 3768 1b06 7B68     		ldr	r3, [r7, #4]
 3769 1b08 4FF00002 		mov	r2, #0
 3770 1b0c A3F86020 		strh	r2, [r3, #96]	@ movhi
1931:Libraries/uC-OSIII/os_task.c ****     p_tcb->FlagsRdy           = (OS_FLAGS       )0u;
 3771              		.loc 1 1931 0
 3772 1b10 7B68     		ldr	r3, [r7, #4]
 3773 1b12 4FF00002 		mov	r2, #0
 3774 1b16 5A66     		str	r2, [r3, #100]
1932:Libraries/uC-OSIII/os_task.c **** #endif
1933:Libraries/uC-OSIII/os_task.c **** 
1934:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_REG_TBL_SIZE > 0u
1935:Libraries/uC-OSIII/os_task.c ****     for (id = 0u; id < OS_CFG_TASK_REG_TBL_SIZE; id++) {
 3775              		.loc 1 1935 0
 3776 1b18 4FF00003 		mov	r3, #0
 3777 1b1c FB73     		strb	r3, [r7, #15]
 3778 1b1e 0BE0     		b	.L225
 3779              	.L226:
1936:Libraries/uC-OSIII/os_task.c ****         p_tcb->RegTbl[id] = (OS_REG)0u;
 3780              		.loc 1 1936 0 discriminator 2
 3781 1b20 FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 3782 1b22 7B68     		ldr	r3, [r7, #4]
 3783 1b24 02F11A02 		add	r2, r2, #26
 3784 1b28 4FF00001 		mov	r1, #0
 3785 1b2c 43F82210 		str	r1, [r3, r2, lsl #2]
1935:Libraries/uC-OSIII/os_task.c ****     for (id = 0u; id < OS_CFG_TASK_REG_TBL_SIZE; id++) {
 3786              		.loc 1 1935 0 discriminator 2
 3787 1b30 FB7B     		ldrb	r3, [r7, #15]
 3788 1b32 03F10103 		add	r3, r3, #1
 3789 1b36 FB73     		strb	r3, [r7, #15]
 3790              	.L225:
1935:Libraries/uC-OSIII/os_task.c ****     for (id = 0u; id < OS_CFG_TASK_REG_TBL_SIZE; id++) {
 3791              		.loc 1 1935 0 is_stmt 0 discriminator 1
 3792 1b38 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3793 1b3a 002B     		cmp	r3, #0
 3794 1b3c F0D0     		beq	.L226
1937:Libraries/uC-OSIII/os_task.c ****     }
1938:Libraries/uC-OSIII/os_task.c **** #endif
1939:Libraries/uC-OSIII/os_task.c **** 
1940:Libraries/uC-OSIII/os_task.c ****     p_tcb->SemCtr             = (OS_SEM_CTR     )0u;
 3795              		.loc 1 1940 0 is_stmt 1
 3796 1b3e 7B68     		ldr	r3, [r7, #4]
 3797 1b40 4FF00002 		mov	r2, #0
 3798 1b44 DA66     		str	r2, [r3, #108]
1941:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_PROFILE_EN > 0u
1942:Libraries/uC-OSIII/os_task.c ****     p_tcb->SemPendTime        = (CPU_TS         )0u;
 3799              		.loc 1 1942 0
 3800 1b46 7B68     		ldr	r3, [r7, #4]
 3801 1b48 4FF00002 		mov	r2, #0
 3802 1b4c 1A67     		str	r2, [r3, #112]
1943:Libraries/uC-OSIII/os_task.c ****     p_tcb->SemPendTimeMax     = (CPU_TS         )0u;
 3803              		.loc 1 1943 0
 3804 1b4e 7B68     		ldr	r3, [r7, #4]
 3805 1b50 4FF00002 		mov	r2, #0
 3806 1b54 5A67     		str	r2, [r3, #116]
1944:Libraries/uC-OSIII/os_task.c **** #endif
1945:Libraries/uC-OSIII/os_task.c **** 
1946:Libraries/uC-OSIII/os_task.c ****     p_tcb->StkSize            = (CPU_STK_SIZE   )0u;
 3807              		.loc 1 1946 0
 3808 1b56 7B68     		ldr	r3, [r7, #4]
 3809 1b58 4FF00002 		mov	r2, #0
 3810 1b5c DA67     		str	r2, [r3, #124]
1947:Libraries/uC-OSIII/os_task.c **** 
1948:Libraries/uC-OSIII/os_task.c **** 
1949:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_SUSPEND_EN > 0u
1950:Libraries/uC-OSIII/os_task.c ****     p_tcb->SuspendCtr         = (OS_NESTING_CTR )0u;
 3811              		.loc 1 1950 0
 3812 1b5e 7B68     		ldr	r3, [r7, #4]
 3813 1b60 4FF00002 		mov	r2, #0
 3814 1b64 83F87820 		strb	r2, [r3, #120]
1951:Libraries/uC-OSIII/os_task.c **** #endif
1952:Libraries/uC-OSIII/os_task.c **** 
1953:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_STAT_TASK_STK_CHK_EN > 0u
1954:Libraries/uC-OSIII/os_task.c ****     p_tcb->StkFree            = (CPU_STK_SIZE   )0u;
 3815              		.loc 1 1954 0
 3816 1b68 7B68     		ldr	r3, [r7, #4]
 3817 1b6a 4FF00002 		mov	r2, #0
 3818 1b6e C3F88420 		str	r2, [r3, #132]
1955:Libraries/uC-OSIII/os_task.c ****     p_tcb->StkUsed            = (CPU_STK_SIZE   )0u;
 3819              		.loc 1 1955 0
 3820 1b72 7B68     		ldr	r3, [r7, #4]
 3821 1b74 4FF00002 		mov	r2, #0
 3822 1b78 C3F88020 		str	r2, [r3, #128]
1956:Libraries/uC-OSIII/os_task.c **** #endif
1957:Libraries/uC-OSIII/os_task.c **** 
1958:Libraries/uC-OSIII/os_task.c ****     p_tcb->Opt                = (OS_OPT         )0u;
 3823              		.loc 1 1958 0
 3824 1b7c 7B68     		ldr	r3, [r7, #4]
 3825 1b7e 4FF00002 		mov	r2, #0
 3826 1b82 A3F88820 		strh	r2, [r3, #136]	@ movhi
1959:Libraries/uC-OSIII/os_task.c **** 
1960:Libraries/uC-OSIII/os_task.c ****     p_tcb->TickCtrPrev        = (OS_TICK        )OS_TICK_TH_INIT;
 3827              		.loc 1 1960 0
 3828 1b86 7B68     		ldr	r3, [r7, #4]
 3829 1b88 4FF00042 		mov	r2, #-2147483648
 3830 1b8c C3F88C20 		str	r2, [r3, #140]
1961:Libraries/uC-OSIII/os_task.c ****     p_tcb->TickCtrMatch       = (OS_TICK        )0u;
 3831              		.loc 1 1961 0
 3832 1b90 7B68     		ldr	r3, [r7, #4]
 3833 1b92 4FF00002 		mov	r2, #0
 3834 1b96 C3F89020 		str	r2, [r3, #144]
1962:Libraries/uC-OSIII/os_task.c ****     p_tcb->TickRemain         = (OS_TICK        )0u;
 3835              		.loc 1 1962 0
 3836 1b9a 7B68     		ldr	r3, [r7, #4]
 3837 1b9c 4FF00002 		mov	r2, #0
 3838 1ba0 C3F89420 		str	r2, [r3, #148]
1963:Libraries/uC-OSIII/os_task.c **** 
1964:Libraries/uC-OSIII/os_task.c ****     p_tcb->TimeQuanta         = (OS_TICK        )0u;
 3839              		.loc 1 1964 0
 3840 1ba4 7B68     		ldr	r3, [r7, #4]
 3841 1ba6 4FF00002 		mov	r2, #0
 3842 1baa C3F89820 		str	r2, [r3, #152]
1965:Libraries/uC-OSIII/os_task.c ****     p_tcb->TimeQuantaCtr      = (OS_TICK        )0u;
 3843              		.loc 1 1965 0
 3844 1bae 7B68     		ldr	r3, [r7, #4]
 3845 1bb0 4FF00002 		mov	r2, #0
 3846 1bb4 C3F89C20 		str	r2, [r3, #156]
1966:Libraries/uC-OSIII/os_task.c **** 
1967:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_PROFILE_EN > 0u
1968:Libraries/uC-OSIII/os_task.c ****     p_tcb->CPUUsage           = (OS_CPU_USAGE   )0u;
 3847              		.loc 1 1968 0
 3848 1bb8 7B68     		ldr	r3, [r7, #4]
 3849 1bba 4FF00002 		mov	r2, #0
 3850 1bbe 83F8A020 		strb	r2, [r3, #160]
1969:Libraries/uC-OSIII/os_task.c ****     p_tcb->CtxSwCtr           = (OS_CTX_SW_CTR  )0u;
 3851              		.loc 1 1969 0
 3852 1bc2 7B68     		ldr	r3, [r7, #4]
 3853 1bc4 4FF00002 		mov	r2, #0
 3854 1bc8 C3F8A420 		str	r2, [r3, #164]
1970:Libraries/uC-OSIII/os_task.c ****     p_tcb->CyclesDelta        = (CPU_TS         )0u;
 3855              		.loc 1 1970 0
 3856 1bcc 7B68     		ldr	r3, [r7, #4]
 3857 1bce 4FF00002 		mov	r2, #0
 3858 1bd2 C3F8A820 		str	r2, [r3, #168]
1971:Libraries/uC-OSIII/os_task.c ****     ts                        = OS_TS_GET();                /* Read the current timestamp and save 
 3859              		.loc 1 1971 0
 3860 1bd6 FFF7FEFF 		bl	CPU_TS_TmrRd
 3861 1bda B860     		str	r0, [r7, #8]
1972:Libraries/uC-OSIII/os_task.c ****     p_tcb->CyclesStart        = ts;
 3862              		.loc 1 1972 0
 3863 1bdc 7B68     		ldr	r3, [r7, #4]
 3864 1bde BA68     		ldr	r2, [r7, #8]
 3865 1be0 C3F8AC20 		str	r2, [r3, #172]
1973:Libraries/uC-OSIII/os_task.c ****     p_tcb->CyclesTotal        = (OS_CYCLES      )0u;
 3866              		.loc 1 1973 0
 3867 1be4 7968     		ldr	r1, [r7, #4]
 3868 1be6 4FF00002 		mov	r2, #0
 3869 1bea 4FF00003 		mov	r3, #0
 3870 1bee C1E92C23 		strd	r2, [r1, #176]
1974:Libraries/uC-OSIII/os_task.c **** #endif
1975:Libraries/uC-OSIII/os_task.c **** #ifdef CPU_CFG_INT_DIS_MEAS_EN
1976:Libraries/uC-OSIII/os_task.c ****     p_tcb->IntDisTimeMax      = (CPU_TS         )0u;
 3871              		.loc 1 1976 0
 3872 1bf2 7B68     		ldr	r3, [r7, #4]
 3873 1bf4 4FF00002 		mov	r2, #0
 3874 1bf8 C3F8B820 		str	r2, [r3, #184]
1977:Libraries/uC-OSIII/os_task.c **** #endif
1978:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_SCHED_LOCK_TIME_MEAS_EN > 0u
1979:Libraries/uC-OSIII/os_task.c ****     p_tcb->SchedLockTimeMax   = (CPU_TS         )0u;
 3875              		.loc 1 1979 0
 3876 1bfc 7B68     		ldr	r3, [r7, #4]
 3877 1bfe 4FF00002 		mov	r2, #0
 3878 1c02 C3F8BC20 		str	r2, [r3, #188]
1980:Libraries/uC-OSIII/os_task.c **** #endif
1981:Libraries/uC-OSIII/os_task.c **** 
1982:Libraries/uC-OSIII/os_task.c ****     p_tcb->PendOn             = (OS_STATE       )OS_TASK_PEND_ON_NOTHING;
 3879              		.loc 1 1982 0
 3880 1c06 7B68     		ldr	r3, [r7, #4]
 3881 1c08 4FF00002 		mov	r2, #0
 3882 1c0c 83F8C020 		strb	r2, [r3, #192]
1983:Libraries/uC-OSIII/os_task.c ****     p_tcb->PendStatus         = (OS_STATUS      )OS_STATUS_PEND_OK;
 3883              		.loc 1 1983 0
 3884 1c10 7B68     		ldr	r3, [r7, #4]
 3885 1c12 4FF00002 		mov	r2, #0
 3886 1c16 83F8C120 		strb	r2, [r3, #193]
1984:Libraries/uC-OSIII/os_task.c ****     p_tcb->TaskState          = (OS_STATE       )OS_TASK_STATE_RDY;
 3887              		.loc 1 1984 0
 3888 1c1a 7B68     		ldr	r3, [r7, #4]
 3889 1c1c 4FF00002 		mov	r2, #0
 3890 1c20 83F8C220 		strb	r2, [r3, #194]
1985:Libraries/uC-OSIII/os_task.c **** 
1986:Libraries/uC-OSIII/os_task.c ****     p_tcb->Prio               = (OS_PRIO        )OS_PRIO_INIT;
 3891              		.loc 1 1986 0
 3892 1c24 7B68     		ldr	r3, [r7, #4]
 3893 1c26 4FF0FF02 		mov	r2, #255
 3894 1c2a 83F8C320 		strb	r2, [r3, #195]
1987:Libraries/uC-OSIII/os_task.c **** 
1988:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_DBG_EN > 0u
1989:Libraries/uC-OSIII/os_task.c ****     p_tcb->DbgPrevPtr         = (OS_TCB        *)0;
 3895              		.loc 1 1989 0
 3896 1c2e 7B68     		ldr	r3, [r7, #4]
 3897 1c30 4FF00002 		mov	r2, #0
 3898 1c34 C3F8C420 		str	r2, [r3, #196]
1990:Libraries/uC-OSIII/os_task.c ****     p_tcb->DbgNextPtr         = (OS_TCB        *)0;
 3899              		.loc 1 1990 0
 3900 1c38 7B68     		ldr	r3, [r7, #4]
 3901 1c3a 4FF00002 		mov	r2, #0
 3902 1c3e C3F8C820 		str	r2, [r3, #200]
1991:Libraries/uC-OSIII/os_task.c ****     p_tcb->DbgNamePtr         = (CPU_CHAR      *)((void *)" ");
 3903              		.loc 1 1991 0
 3904 1c42 7A68     		ldr	r2, [r7, #4]
 3905 1c44 40F20003 		movw	r3, #:lower16:.LC1
 3906 1c48 C0F20003 		movt	r3, #:upper16:.LC1
 3907 1c4c C2F8CC30 		str	r3, [r2, #204]
1992:Libraries/uC-OSIII/os_task.c **** #endif
1993:Libraries/uC-OSIII/os_task.c **** }
 3908              		.loc 1 1993 0
 3909 1c50 07F11007 		add	r7, r7, #16
 3910 1c54 BD46     		mov	sp, r7
 3911 1c56 80BD     		pop	{r7, pc}
 3912              		.cfi_endproc
 3913              	.LFE20:
 3915              		.align	2
 3916              		.global	OS_TaskQPost
 3917              		.thumb
 3918              		.thumb_func
 3920              	OS_TaskQPost:
 3921              	.LFB21:
1994:Libraries/uC-OSIII/os_task.c **** 
1995:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
1996:Libraries/uC-OSIII/os_task.c **** /*
1997:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
1998:Libraries/uC-OSIII/os_task.c **** *                                               POST MESSAGE TO A TASK
1999:Libraries/uC-OSIII/os_task.c **** *
2000:Libraries/uC-OSIII/os_task.c **** * Description: This function sends a message to a task
2001:Libraries/uC-OSIII/os_task.c **** *
2002:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb      is a pointer to the TCB of the task receiving a message.  If you specify 
2003:Libraries/uC-OSIII/os_task.c **** *                         the message will be posted to the task's queue of the calling task.  In o
2004:Libraries/uC-OSIII/os_task.c **** *                         posting a message to yourself.
2005:Libraries/uC-OSIII/os_task.c **** *
2006:Libraries/uC-OSIII/os_task.c **** *              p_void     is a pointer to the message to send.
2007:Libraries/uC-OSIII/os_task.c **** *
2008:Libraries/uC-OSIII/os_task.c **** *              msg_size   is the size of the message sent (in #bytes)
2009:Libraries/uC-OSIII/os_task.c **** *
2010:Libraries/uC-OSIII/os_task.c **** *              opt        specifies whether the post will be FIFO or LIFO:
2011:Libraries/uC-OSIII/os_task.c **** *
2012:Libraries/uC-OSIII/os_task.c **** *                             OS_OPT_POST_FIFO       Post at the end   of the queue
2013:Libraries/uC-OSIII/os_task.c **** *                             OS_OPT_POST_LIFO       Post at the front of the queue
2014:Libraries/uC-OSIII/os_task.c **** *
2015:Libraries/uC-OSIII/os_task.c **** *                             OS_OPT_POST_NO_SCHED   Do not run the scheduler after the post
2016:Libraries/uC-OSIII/os_task.c **** *
2017:Libraries/uC-OSIII/os_task.c **** *                          Note(s): 1) OS_OPT_POST_NO_SCHED can be added with one of the other opti
2018:Libraries/uC-OSIII/os_task.c **** *
2019:Libraries/uC-OSIII/os_task.c **** *
2020:Libraries/uC-OSIII/os_task.c **** *              ts         is a timestamp indicating when the post occurred.
2021:Libraries/uC-OSIII/os_task.c **** *
2022:Libraries/uC-OSIII/os_task.c **** *              p_err      is a pointer to a variable that will hold the error code associated
2023:Libraries/uC-OSIII/os_task.c **** *                         with the outcome of this call.  Errors can be:
2024:Libraries/uC-OSIII/os_task.c **** *
2025:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_NONE            The call was successful and the message was se
2026:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_MSG_POOL_EMPTY  If there are no more OS_MSGs available from th
2027:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_Q_MAX           If the queue is full
2028:Libraries/uC-OSIII/os_task.c **** *                             OS_ERR_STATE_INVALID   If the task is in an invalid state.  This shou
2029:Libraries/uC-OSIII/os_task.c **** *                                                    and if it does, would be considered a system f
2030:Libraries/uC-OSIII/os_task.c **** *
2031:Libraries/uC-OSIII/os_task.c **** * Returns    : none
2032:Libraries/uC-OSIII/os_task.c **** *
2033:Libraries/uC-OSIII/os_task.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
2034:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
2035:Libraries/uC-OSIII/os_task.c **** */
2036:Libraries/uC-OSIII/os_task.c **** 
2037:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_Q_EN > 0u
2038:Libraries/uC-OSIII/os_task.c **** void  OS_TaskQPost (OS_TCB      *p_tcb,
2039:Libraries/uC-OSIII/os_task.c ****                     void        *p_void,
2040:Libraries/uC-OSIII/os_task.c ****                     OS_MSG_SIZE  msg_size,
2041:Libraries/uC-OSIII/os_task.c ****                     OS_OPT       opt,
2042:Libraries/uC-OSIII/os_task.c ****                     CPU_TS       ts,
2043:Libraries/uC-OSIII/os_task.c ****                     OS_ERR      *p_err)
2044:Libraries/uC-OSIII/os_task.c **** {
 3922              		.loc 1 2044 0
 3923              		.cfi_startproc
 3924              		@ args = 8, pretend = 0, frame = 24
 3925              		@ frame_needed = 1, uses_anonymous_args = 0
 3926 1c58 80B5     		push	{r7, lr}
 3927              	.LCFI63:
 3928              		.cfi_def_cfa_offset 8
 3929              		.cfi_offset 14, -4
 3930              		.cfi_offset 7, -8
 3931 1c5a 88B0     		sub	sp, sp, #32
 3932              	.LCFI64:
 3933              		.cfi_def_cfa_offset 40
 3934 1c5c 02AF     		add	r7, sp, #8
 3935              	.LCFI65:
 3936              		.cfi_def_cfa 7, 32
 3937 1c5e F860     		str	r0, [r7, #12]
 3938 1c60 B960     		str	r1, [r7, #8]
 3939 1c62 FA80     		strh	r2, [r7, #6]	@ movhi
 3940 1c64 BB80     		strh	r3, [r7, #4]	@ movhi
2045:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 3941              		.loc 1 2045 0
 3942 1c66 4FF00003 		mov	r3, #0
 3943 1c6a 7B61     		str	r3, [r7, #20]
2046:Libraries/uC-OSIII/os_task.c **** 
2047:Libraries/uC-OSIII/os_task.c **** 
2048:Libraries/uC-OSIII/os_task.c **** 
2049:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_ENTER();
 3944              		.loc 1 2049 0
 3945 1c6c FFF7FEFF 		bl	CPU_SR_Save
 3946 1c70 7861     		str	r0, [r7, #20]
 3947 1c72 FFF7FEFF 		bl	CPU_IntDisMeasStart
 3948 1c76 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 3949 1c7a C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 3950 1c7e 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3951 1c80 03F10103 		add	r3, r3, #1
 3952 1c84 DAB2     		uxtb	r2, r3
 3953 1c86 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 3954 1c8a C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 3955 1c8e 1A70     		strb	r2, [r3, #0]
 3956 1c90 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 3957 1c94 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 3958 1c98 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 3959 1c9a 012B     		cmp	r3, #1
 3960 1c9c 01D1     		bne	.L228
 3961              		.loc 1 2049 0 is_stmt 0 discriminator 1
 3962 1c9e FFF7FEFF 		bl	OS_SchedLockTimeMeasStart
 3963              	.L228:
 3964              		.loc 1 2049 0 discriminator 2
 3965 1ca2 FFF7FEFF 		bl	CPU_IntDisMeasStop
 3966 1ca6 7869     		ldr	r0, [r7, #20]
 3967 1ca8 FFF7FEFF 		bl	CPU_SR_Restore
2050:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                             /* Post msg to 'self'?                 
 3968              		.loc 1 2050 0 is_stmt 1 discriminator 2
 3969 1cac FB68     		ldr	r3, [r7, #12]
 3970 1cae 002B     		cmp	r3, #0
 3971 1cb0 05D1     		bne	.L229
2051:Libraries/uC-OSIII/os_task.c ****         p_tcb = OSTCBCurPtr;
 3972              		.loc 1 2051 0
 3973 1cb2 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 3974 1cb6 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 3975 1cba 1B68     		ldr	r3, [r3, #0]
 3976 1cbc FB60     		str	r3, [r7, #12]
 3977              	.L229:
2052:Libraries/uC-OSIII/os_task.c ****     }
2053:Libraries/uC-OSIII/os_task.c ****     *p_err  = OS_ERR_NONE;                                  /* Assume we won't have any errors     
 3978              		.loc 1 2053 0
 3979 1cbe 7B6A     		ldr	r3, [r7, #36]
 3980 1cc0 4FF00002 		mov	r2, #0
 3981 1cc4 1A80     		strh	r2, [r3, #0]	@ movhi
2054:Libraries/uC-OSIII/os_task.c ****     switch (p_tcb->TaskState) {
 3982              		.loc 1 2054 0
 3983 1cc6 FB68     		ldr	r3, [r7, #12]
 3984 1cc8 93F8C230 		ldrb	r3, [r3, #194]	@ zero_extendqisi2
 3985 1ccc 072B     		cmp	r3, #7
 3986 1cce 00F2C980 		bhi	.L230
 3987 1cd2 4FF04C52 		mov	r2, #855638016
 3988 1cd6 02FA03F2 		lsl	r2, r2, r3
 3989 1cda 002A     		cmp	r2, #0
 3990 1cdc 49DB     		blt	.L232
 3991 1cde 4FF04C42 		mov	r2, #-872415232
 3992 1ce2 02FA03F3 		lsl	r3, r2, r3
 3993 1ce6 002B     		cmp	r3, #0
 3994 1ce8 80F2BC80 		bge	.L230
 3995              	.L231:
2055:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_RDY:
2056:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_DLY:
2057:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_SUSPENDED:
2058:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_DLY_SUSPENDED:
2059:Libraries/uC-OSIII/os_task.c ****              OS_MsgQPut(&p_tcb->MsgQ,                       /* Deposit the message in the queue    
 3996              		.loc 1 2059 0
 3997 1cec FB68     		ldr	r3, [r7, #12]
 3998 1cee 03F14401 		add	r1, r3, #68
 3999 1cf2 FA88     		ldrh	r2, [r7, #6]
 4000 1cf4 BB88     		ldrh	r3, [r7, #4]
 4001 1cf6 386A     		ldr	r0, [r7, #32]
 4002 1cf8 0090     		str	r0, [sp, #0]
 4003 1cfa 786A     		ldr	r0, [r7, #36]
 4004 1cfc 0190     		str	r0, [sp, #4]
 4005 1cfe 0846     		mov	r0, r1
 4006 1d00 B968     		ldr	r1, [r7, #8]
 4007 1d02 FFF7FEFF 		bl	OS_MsgQPut
2060:Libraries/uC-OSIII/os_task.c ****                         p_void,
2061:Libraries/uC-OSIII/os_task.c ****                         msg_size,
2062:Libraries/uC-OSIII/os_task.c ****                         opt,
2063:Libraries/uC-OSIII/os_task.c ****                         ts,
2064:Libraries/uC-OSIII/os_task.c ****                         p_err);
2065:Libraries/uC-OSIII/os_task.c ****              OS_CRITICAL_EXIT();
 4008              		.loc 1 2065 0
 4009 1d06 FFF7FEFF 		bl	CPU_SR_Save
 4010 1d0a 7861     		str	r0, [r7, #20]
 4011 1d0c FFF7FEFF 		bl	CPU_IntDisMeasStart
 4012 1d10 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4013 1d14 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4014 1d18 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4015 1d1a 03F1FF33 		add	r3, r3, #-1
 4016 1d1e DAB2     		uxtb	r2, r3
 4017 1d20 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4018 1d24 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4019 1d28 1A70     		strb	r2, [r3, #0]
 4020 1d2a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4021 1d2e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4022 1d32 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4023 1d34 002B     		cmp	r3, #0
 4024 1d36 16D1     		bne	.L233
 4025              		.loc 1 2065 0 is_stmt 0 discriminator 1
 4026 1d38 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 4027 1d3c 40F20003 		movw	r3, #:lower16:OSIntQNbrEntries
 4028 1d40 C0F20003 		movt	r3, #:upper16:OSIntQNbrEntries
 4029 1d44 1B88     		ldrh	r3, [r3, #0]
 4030 1d46 002B     		cmp	r3, #0
 4031 1d48 07D0     		beq	.L234
 4032              		.loc 1 2065 0 discriminator 3
 4033 1d4a FFF7FEFF 		bl	CPU_IntDisMeasStop
 4034 1d4e 7869     		ldr	r0, [r7, #20]
 4035 1d50 FFF7FEFF 		bl	CPU_SR_Restore
 4036 1d54 FFF7FEFF 		bl	OS_Sched0
2066:Libraries/uC-OSIII/os_task.c ****              break;
 4037              		.loc 1 2066 0 is_stmt 1 discriminator 3
 4038 1d58 C0E0     		b	.L227
 4039              	.L234:
2065:Libraries/uC-OSIII/os_task.c ****              OS_CRITICAL_EXIT();
 4040              		.loc 1 2065 0 discriminator 4
 4041 1d5a FFF7FEFF 		bl	CPU_IntDisMeasStop
 4042 1d5e 7869     		ldr	r0, [r7, #20]
 4043 1d60 FFF7FEFF 		bl	CPU_SR_Restore
 4044              		.loc 1 2066 0 discriminator 4
 4045 1d64 BAE0     		b	.L227
 4046              	.L233:
2065:Libraries/uC-OSIII/os_task.c ****              OS_CRITICAL_EXIT();
 4047              		.loc 1 2065 0 discriminator 2
 4048 1d66 FFF7FEFF 		bl	CPU_IntDisMeasStop
 4049 1d6a 7869     		ldr	r0, [r7, #20]
 4050 1d6c FFF7FEFF 		bl	CPU_SR_Restore
 4051              		.loc 1 2066 0 discriminator 2
 4052 1d70 B4E0     		b	.L227
 4053              	.L232:
2067:Libraries/uC-OSIII/os_task.c **** 
2068:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND:
2069:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
2070:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
2071:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
2072:Libraries/uC-OSIII/os_task.c ****              if (p_tcb->PendOn == OS_TASK_PEND_ON_TASK_Q) { /* Is task waiting for a message to be 
 4054              		.loc 1 2072 0
 4055 1d72 FB68     		ldr	r3, [r7, #12]
 4056 1d74 93F8C030 		ldrb	r3, [r3, #192]	@ zero_extendqisi2
 4057 1d78 022B     		cmp	r3, #2
 4058 1d7a 30D1     		bne	.L237
2073:Libraries/uC-OSIII/os_task.c ****                  OS_Post((OS_PEND_OBJ *)0,
 4059              		.loc 1 2073 0
 4060 1d7c FB88     		ldrh	r3, [r7, #6]
 4061 1d7e 3A6A     		ldr	r2, [r7, #32]
 4062 1d80 0092     		str	r2, [sp, #0]
 4063 1d82 4FF00000 		mov	r0, #0
 4064 1d86 F968     		ldr	r1, [r7, #12]
 4065 1d88 BA68     		ldr	r2, [r7, #8]
 4066 1d8a FFF7FEFF 		bl	OS_Post
2074:Libraries/uC-OSIII/os_task.c ****                          p_tcb,
2075:Libraries/uC-OSIII/os_task.c ****                          p_void,
2076:Libraries/uC-OSIII/os_task.c ****                          msg_size,
2077:Libraries/uC-OSIII/os_task.c ****                          ts);
2078:Libraries/uC-OSIII/os_task.c ****                  OS_CRITICAL_EXIT_NO_SCHED();
 4067              		.loc 1 2078 0
 4068 1d8e FFF7FEFF 		bl	CPU_SR_Save
 4069 1d92 7861     		str	r0, [r7, #20]
 4070 1d94 FFF7FEFF 		bl	CPU_IntDisMeasStart
 4071 1d98 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4072 1d9c C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4073 1da0 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4074 1da2 03F1FF33 		add	r3, r3, #-1
 4075 1da6 DAB2     		uxtb	r2, r3
 4076 1da8 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4077 1dac C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4078 1db0 1A70     		strb	r2, [r3, #0]
 4079 1db2 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4080 1db6 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4081 1dba 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4082 1dbc 002B     		cmp	r3, #0
 4083 1dbe 01D1     		bne	.L238
 4084              		.loc 1 2078 0 is_stmt 0 discriminator 1
 4085 1dc0 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 4086              	.L238:
 4087              		.loc 1 2078 0 discriminator 2
 4088 1dc4 FFF7FEFF 		bl	CPU_IntDisMeasStop
 4089 1dc8 7869     		ldr	r0, [r7, #20]
 4090 1dca FFF7FEFF 		bl	CPU_SR_Restore
2079:Libraries/uC-OSIII/os_task.c ****                  if ((opt & OS_OPT_POST_NO_SCHED) == (OS_OPT)0u) {
 4091              		.loc 1 2079 0 is_stmt 1 discriminator 2
 4092 1dce BB88     		ldrh	r3, [r7, #4]
 4093 1dd0 1BB2     		sxth	r3, r3
 4094 1dd2 002B     		cmp	r3, #0
 4095 1dd4 C0F28180 		blt	.L245
2080:Libraries/uC-OSIII/os_task.c ****                      OSSched();                             /* Run the scheduler                   
 4096              		.loc 1 2080 0
 4097 1dd8 FFF7FEFF 		bl	OSSched
2081:Libraries/uC-OSIII/os_task.c ****                  }
2082:Libraries/uC-OSIII/os_task.c ****              } else {
2083:Libraries/uC-OSIII/os_task.c ****                  OS_MsgQPut(&p_tcb->MsgQ,                   /* No,  Task is pending on something el
2084:Libraries/uC-OSIII/os_task.c ****                             p_void,                         /*      ... Deposit the message in the 
2085:Libraries/uC-OSIII/os_task.c ****                             msg_size,
2086:Libraries/uC-OSIII/os_task.c ****                             opt,
2087:Libraries/uC-OSIII/os_task.c ****                             ts,
2088:Libraries/uC-OSIII/os_task.c ****                             p_err);
2089:Libraries/uC-OSIII/os_task.c ****                  OS_CRITICAL_EXIT();
2090:Libraries/uC-OSIII/os_task.c ****              }
2091:Libraries/uC-OSIII/os_task.c ****              break;
 4098              		.loc 1 2091 0
 4099 1ddc 7DE0     		b	.L245
 4100              	.L237:
2083:Libraries/uC-OSIII/os_task.c ****                  OS_MsgQPut(&p_tcb->MsgQ,                   /* No,  Task is pending on something el
 4101              		.loc 1 2083 0
 4102 1dde FB68     		ldr	r3, [r7, #12]
 4103 1de0 03F14401 		add	r1, r3, #68
 4104 1de4 FA88     		ldrh	r2, [r7, #6]
 4105 1de6 BB88     		ldrh	r3, [r7, #4]
 4106 1de8 386A     		ldr	r0, [r7, #32]
 4107 1dea 0090     		str	r0, [sp, #0]
 4108 1dec 786A     		ldr	r0, [r7, #36]
 4109 1dee 0190     		str	r0, [sp, #4]
 4110 1df0 0846     		mov	r0, r1
 4111 1df2 B968     		ldr	r1, [r7, #8]
 4112 1df4 FFF7FEFF 		bl	OS_MsgQPut
2089:Libraries/uC-OSIII/os_task.c ****                  OS_CRITICAL_EXIT();
 4113              		.loc 1 2089 0
 4114 1df8 FFF7FEFF 		bl	CPU_SR_Save
 4115 1dfc 7861     		str	r0, [r7, #20]
 4116 1dfe FFF7FEFF 		bl	CPU_IntDisMeasStart
 4117 1e02 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4118 1e06 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4119 1e0a 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4120 1e0c 03F1FF33 		add	r3, r3, #-1
 4121 1e10 DAB2     		uxtb	r2, r3
 4122 1e12 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4123 1e16 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4124 1e1a 1A70     		strb	r2, [r3, #0]
 4125 1e1c 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4126 1e20 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4127 1e24 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4128 1e26 002B     		cmp	r3, #0
 4129 1e28 16D1     		bne	.L240
2089:Libraries/uC-OSIII/os_task.c ****                  OS_CRITICAL_EXIT();
 4130              		.loc 1 2089 0 is_stmt 0 discriminator 1
 4131 1e2a FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 4132 1e2e 40F20003 		movw	r3, #:lower16:OSIntQNbrEntries
 4133 1e32 C0F20003 		movt	r3, #:upper16:OSIntQNbrEntries
 4134 1e36 1B88     		ldrh	r3, [r3, #0]
 4135 1e38 002B     		cmp	r3, #0
 4136 1e3a 07D0     		beq	.L241
2089:Libraries/uC-OSIII/os_task.c ****                  OS_CRITICAL_EXIT();
 4137              		.loc 1 2089 0 discriminator 3
 4138 1e3c FFF7FEFF 		bl	CPU_IntDisMeasStop
 4139 1e40 7869     		ldr	r0, [r7, #20]
 4140 1e42 FFF7FEFF 		bl	CPU_SR_Restore
 4141 1e46 FFF7FEFF 		bl	OS_Sched0
 4142              		.loc 1 2091 0 is_stmt 1 discriminator 3
 4143 1e4a 46E0     		b	.L245
 4144              	.L241:
2089:Libraries/uC-OSIII/os_task.c ****                  OS_CRITICAL_EXIT();
 4145              		.loc 1 2089 0 discriminator 4
 4146 1e4c FFF7FEFF 		bl	CPU_IntDisMeasStop
 4147 1e50 7869     		ldr	r0, [r7, #20]
 4148 1e52 FFF7FEFF 		bl	CPU_SR_Restore
 4149              		.loc 1 2091 0 discriminator 4
 4150 1e56 40E0     		b	.L245
 4151              	.L240:
2089:Libraries/uC-OSIII/os_task.c ****                  OS_CRITICAL_EXIT();
 4152              		.loc 1 2089 0 discriminator 2
 4153 1e58 FFF7FEFF 		bl	CPU_IntDisMeasStop
 4154 1e5c 7869     		ldr	r0, [r7, #20]
 4155 1e5e FFF7FEFF 		bl	CPU_SR_Restore
 4156              		.loc 1 2091 0 discriminator 2
 4157 1e62 3AE0     		b	.L245
 4158              	.L230:
2092:Libraries/uC-OSIII/os_task.c **** 
2093:Libraries/uC-OSIII/os_task.c ****         default:
2094:Libraries/uC-OSIII/os_task.c ****              OS_CRITICAL_EXIT();
 4159              		.loc 1 2094 0
 4160 1e64 FFF7FEFF 		bl	CPU_SR_Save
 4161 1e68 7861     		str	r0, [r7, #20]
 4162 1e6a FFF7FEFF 		bl	CPU_IntDisMeasStart
 4163 1e6e 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4164 1e72 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4165 1e76 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4166 1e78 03F1FF33 		add	r3, r3, #-1
 4167 1e7c DAB2     		uxtb	r2, r3
 4168 1e7e 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4169 1e82 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4170 1e86 1A70     		strb	r2, [r3, #0]
 4171 1e88 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4172 1e8c C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4173 1e90 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4174 1e92 002B     		cmp	r3, #0
 4175 1e94 16D1     		bne	.L242
 4176              		.loc 1 2094 0 is_stmt 0 discriminator 1
 4177 1e96 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 4178 1e9a 40F20003 		movw	r3, #:lower16:OSIntQNbrEntries
 4179 1e9e C0F20003 		movt	r3, #:upper16:OSIntQNbrEntries
 4180 1ea2 1B88     		ldrh	r3, [r3, #0]
 4181 1ea4 002B     		cmp	r3, #0
 4182 1ea6 07D0     		beq	.L243
 4183              		.loc 1 2094 0 discriminator 3
 4184 1ea8 FFF7FEFF 		bl	CPU_IntDisMeasStop
 4185 1eac 7869     		ldr	r0, [r7, #20]
 4186 1eae FFF7FEFF 		bl	CPU_SR_Restore
 4187 1eb2 FFF7FEFF 		bl	OS_Sched0
 4188 1eb6 0AE0     		b	.L244
 4189              	.L243:
 4190              		.loc 1 2094 0 discriminator 4
 4191 1eb8 FFF7FEFF 		bl	CPU_IntDisMeasStop
 4192 1ebc 7869     		ldr	r0, [r7, #20]
 4193 1ebe FFF7FEFF 		bl	CPU_SR_Restore
 4194 1ec2 04E0     		b	.L244
 4195              	.L242:
 4196              		.loc 1 2094 0 discriminator 2
 4197 1ec4 FFF7FEFF 		bl	CPU_IntDisMeasStop
 4198 1ec8 7869     		ldr	r0, [r7, #20]
 4199 1eca FFF7FEFF 		bl	CPU_SR_Restore
 4200              	.L244:
2095:Libraries/uC-OSIII/os_task.c ****              *p_err = OS_ERR_STATE_INVALID;
 4201              		.loc 1 2095 0 is_stmt 1
 4202 1ece 7B6A     		ldr	r3, [r7, #36]
 4203 1ed0 46F62A62 		movw	r2, #28202
 4204 1ed4 1A80     		strh	r2, [r3, #0]	@ movhi
2096:Libraries/uC-OSIII/os_task.c ****              break;
 4205              		.loc 1 2096 0
 4206 1ed6 00BF     		nop
 4207 1ed8 00E0     		b	.L227
 4208              	.L245:
2091:Libraries/uC-OSIII/os_task.c ****              break;
 4209              		.loc 1 2091 0
 4210 1eda 00BF     		nop
 4211              	.L227:
2097:Libraries/uC-OSIII/os_task.c ****     }
2098:Libraries/uC-OSIII/os_task.c **** }
 4212              		.loc 1 2098 0
 4213 1edc 07F11807 		add	r7, r7, #24
 4214 1ee0 BD46     		mov	sp, r7
 4215 1ee2 80BD     		pop	{r7, pc}
 4216              		.cfi_endproc
 4217              	.LFE21:
 4219              		.align	2
 4220              		.global	OS_TaskReturn
 4221              		.thumb
 4222              		.thumb_func
 4224              	OS_TaskReturn:
 4225              	.LFB22:
2099:Libraries/uC-OSIII/os_task.c **** #endif
2100:Libraries/uC-OSIII/os_task.c **** 
2101:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
2102:Libraries/uC-OSIII/os_task.c **** /*
2103:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
2104:Libraries/uC-OSIII/os_task.c **** *                                              CATCH ACCIDENTAL TASK RETURN
2105:Libraries/uC-OSIII/os_task.c **** *
2106:Libraries/uC-OSIII/os_task.c **** * Description: This function is called if a task accidentally returns without deleting itself.  In 
2107:Libraries/uC-OSIII/os_task.c **** *              should either be an infinite loop or delete itself if it's done.
2108:Libraries/uC-OSIII/os_task.c **** *
2109:Libraries/uC-OSIII/os_task.c **** * Arguments  : none
2110:Libraries/uC-OSIII/os_task.c **** *
2111:Libraries/uC-OSIII/os_task.c **** * Returns    : none
2112:Libraries/uC-OSIII/os_task.c **** *
2113:Libraries/uC-OSIII/os_task.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
2114:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
2115:Libraries/uC-OSIII/os_task.c **** */
2116:Libraries/uC-OSIII/os_task.c **** 
2117:Libraries/uC-OSIII/os_task.c **** void  OS_TaskReturn (void)
2118:Libraries/uC-OSIII/os_task.c **** {
 4226              		.loc 1 2118 0
 4227              		.cfi_startproc
 4228              		@ args = 0, pretend = 0, frame = 8
 4229              		@ frame_needed = 1, uses_anonymous_args = 0
 4230 1ee4 80B5     		push	{r7, lr}
 4231              	.LCFI66:
 4232              		.cfi_def_cfa_offset 8
 4233              		.cfi_offset 14, -4
 4234              		.cfi_offset 7, -8
 4235 1ee6 82B0     		sub	sp, sp, #8
 4236              	.LCFI67:
 4237              		.cfi_def_cfa_offset 16
 4238 1ee8 00AF     		add	r7, sp, #0
 4239              	.LCFI68:
 4240              		.cfi_def_cfa_register 7
2119:Libraries/uC-OSIII/os_task.c ****     OS_ERR  err;
2120:Libraries/uC-OSIII/os_task.c **** 
2121:Libraries/uC-OSIII/os_task.c **** 
2122:Libraries/uC-OSIII/os_task.c **** 
2123:Libraries/uC-OSIII/os_task.c ****     OSTaskReturnHook(OSTCBCurPtr);                          /* Call hook to let user decide on what
 4241              		.loc 1 2123 0
 4242 1eea 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 4243 1eee C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 4244 1ef2 1B68     		ldr	r3, [r3, #0]
 4245 1ef4 1846     		mov	r0, r3
 4246 1ef6 FFF7FEFF 		bl	OSTaskReturnHook
2124:Libraries/uC-OSIII/os_task.c **** #if OS_CFG_TASK_DEL_EN > 0u
2125:Libraries/uC-OSIII/os_task.c ****     OSTaskDel((OS_TCB *)0,                                  /* Delete task if it accidentally retur
 4247              		.loc 1 2125 0
 4248 1efa 4FF00000 		mov	r0, #0
 4249 1efe 07F10603 		add	r3, r7, #6
 4250 1f02 1946     		mov	r1, r3
 4251 1f04 FFF7FEFF 		bl	OSTaskDel
2126:Libraries/uC-OSIII/os_task.c ****               (OS_ERR *)&err);
2127:Libraries/uC-OSIII/os_task.c **** #else
2128:Libraries/uC-OSIII/os_task.c ****     for (;;) {
2129:Libraries/uC-OSIII/os_task.c ****         OSTimeDly((OS_TICK )OSCfg_TickRate_Hz,
2130:Libraries/uC-OSIII/os_task.c ****                   (OS_OPT  )OS_OPT_TIME_DLY,
2131:Libraries/uC-OSIII/os_task.c ****                   (OS_ERR *)&err);
2132:Libraries/uC-OSIII/os_task.c ****     }
2133:Libraries/uC-OSIII/os_task.c **** #endif
2134:Libraries/uC-OSIII/os_task.c **** }
 4252              		.loc 1 2134 0
 4253 1f08 07F10807 		add	r7, r7, #8
 4254 1f0c BD46     		mov	sp, r7
 4255 1f0e 80BD     		pop	{r7, pc}
 4256              		.cfi_endproc
 4257              	.LFE22:
 4259              		.align	2
 4260              		.global	OS_TaskSemPost
 4261              		.thumb
 4262              		.thumb_func
 4264              	OS_TaskSemPost:
 4265              	.LFB23:
2135:Libraries/uC-OSIII/os_task.c **** 
2136:Libraries/uC-OSIII/os_task.c **** /*$PAGE*/
2137:Libraries/uC-OSIII/os_task.c **** /*
2138:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
2139:Libraries/uC-OSIII/os_task.c **** *                                                    SIGNAL A TASK
2140:Libraries/uC-OSIII/os_task.c **** *
2141:Libraries/uC-OSIII/os_task.c **** * Description: This function is called to signal a task waiting for a signal.
2142:Libraries/uC-OSIII/os_task.c **** *
2143:Libraries/uC-OSIII/os_task.c **** * Arguments  : p_tcb     is the pointer to the TCB of the task to signal.  A NULL pointer indicates
2144:Libraries/uC-OSIII/os_task.c **** *                        a signal to yourself.
2145:Libraries/uC-OSIII/os_task.c **** *
2146:Libraries/uC-OSIII/os_task.c **** *              opt       determines the type of POST performed:
2147:Libraries/uC-OSIII/os_task.c **** *
2148:Libraries/uC-OSIII/os_task.c **** *                             OS_OPT_POST_NONE         No option
2149:Libraries/uC-OSIII/os_task.c **** *
2150:Libraries/uC-OSIII/os_task.c **** *                             OS_OPT_POST_NO_SCHED     Do not call the scheduler
2151:Libraries/uC-OSIII/os_task.c **** *
2152:Libraries/uC-OSIII/os_task.c **** *              ts        is a timestamp indicating when the post occurred.
2153:Libraries/uC-OSIII/os_task.c **** *
2154:Libraries/uC-OSIII/os_task.c **** *              p_err     is a pointer to an error code returned by this function:
2155:Libraries/uC-OSIII/os_task.c **** *
2156:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_NONE           If the requested task is signaled
2157:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_SEM_OVF        If the post would cause the semaphore count to o
2158:Libraries/uC-OSIII/os_task.c **** *                            OS_ERR_STATE_INVALID  If the task is in an invalid state.  This should
2159:Libraries/uC-OSIII/os_task.c **** *                                                  and if it does, would be considered a system fai
2160:Libraries/uC-OSIII/os_task.c **** *
2161:Libraries/uC-OSIII/os_task.c **** * Returns    : The current value of the task's signal counter or 0 if called from an ISR
2162:Libraries/uC-OSIII/os_task.c **** *
2163:Libraries/uC-OSIII/os_task.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
2164:Libraries/uC-OSIII/os_task.c **** ***************************************************************************************************
2165:Libraries/uC-OSIII/os_task.c **** */
2166:Libraries/uC-OSIII/os_task.c **** 
2167:Libraries/uC-OSIII/os_task.c **** OS_SEM_CTR  OS_TaskSemPost (OS_TCB  *p_tcb,
2168:Libraries/uC-OSIII/os_task.c ****                             OS_OPT   opt,
2169:Libraries/uC-OSIII/os_task.c ****                             CPU_TS   ts,
2170:Libraries/uC-OSIII/os_task.c ****                             OS_ERR  *p_err)
2171:Libraries/uC-OSIII/os_task.c **** {
 4266              		.loc 1 2171 0
 4267              		.cfi_startproc
 4268              		@ args = 0, pretend = 0, frame = 24
 4269              		@ frame_needed = 1, uses_anonymous_args = 0
 4270 1f10 80B5     		push	{r7, lr}
 4271              	.LCFI69:
 4272              		.cfi_def_cfa_offset 8
 4273              		.cfi_offset 14, -4
 4274              		.cfi_offset 7, -8
 4275 1f12 88B0     		sub	sp, sp, #32
 4276              	.LCFI70:
 4277              		.cfi_def_cfa_offset 40
 4278 1f14 02AF     		add	r7, sp, #8
 4279              	.LCFI71:
 4280              		.cfi_def_cfa 7, 32
 4281 1f16 F860     		str	r0, [r7, #12]
 4282 1f18 7A60     		str	r2, [r7, #4]
 4283 1f1a 3B60     		str	r3, [r7, #0]
 4284 1f1c 0B46     		mov	r3, r1	@ movhi
 4285 1f1e 7B81     		strh	r3, [r7, #10]	@ movhi
2172:Libraries/uC-OSIII/os_task.c ****     OS_SEM_CTR  ctr;
2173:Libraries/uC-OSIII/os_task.c ****     CPU_SR_ALLOC();
 4286              		.loc 1 2173 0
 4287 1f20 4FF00003 		mov	r3, #0
 4288 1f24 3B61     		str	r3, [r7, #16]
2174:Libraries/uC-OSIII/os_task.c **** 
2175:Libraries/uC-OSIII/os_task.c **** 
2176:Libraries/uC-OSIII/os_task.c **** 
2177:Libraries/uC-OSIII/os_task.c ****     OS_CRITICAL_ENTER();
 4289              		.loc 1 2177 0
 4290 1f26 FFF7FEFF 		bl	CPU_SR_Save
 4291 1f2a 3861     		str	r0, [r7, #16]
 4292 1f2c FFF7FEFF 		bl	CPU_IntDisMeasStart
 4293 1f30 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4294 1f34 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4295 1f38 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4296 1f3a 03F10103 		add	r3, r3, #1
 4297 1f3e DAB2     		uxtb	r2, r3
 4298 1f40 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4299 1f44 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4300 1f48 1A70     		strb	r2, [r3, #0]
 4301 1f4a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4302 1f4e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4303 1f52 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4304 1f54 012B     		cmp	r3, #1
 4305 1f56 01D1     		bne	.L248
 4306              		.loc 1 2177 0 is_stmt 0 discriminator 1
 4307 1f58 FFF7FEFF 		bl	OS_SchedLockTimeMeasStart
 4308              	.L248:
 4309              		.loc 1 2177 0 discriminator 2
 4310 1f5c FFF7FEFF 		bl	CPU_IntDisMeasStop
 4311 1f60 3869     		ldr	r0, [r7, #16]
 4312 1f62 FFF7FEFF 		bl	CPU_SR_Restore
2178:Libraries/uC-OSIII/os_task.c ****     if (p_tcb == (OS_TCB *)0) {                             /* Post signal to 'self'?              
 4313              		.loc 1 2178 0 is_stmt 1 discriminator 2
 4314 1f66 FB68     		ldr	r3, [r7, #12]
 4315 1f68 002B     		cmp	r3, #0
 4316 1f6a 05D1     		bne	.L249
2179:Libraries/uC-OSIII/os_task.c ****         p_tcb = OSTCBCurPtr;
 4317              		.loc 1 2179 0
 4318 1f6c 40F20003 		movw	r3, #:lower16:OSTCBCurPtr
 4319 1f70 C0F20003 		movt	r3, #:upper16:OSTCBCurPtr
 4320 1f74 1B68     		ldr	r3, [r3, #0]
 4321 1f76 FB60     		str	r3, [r7, #12]
 4322              	.L249:
2180:Libraries/uC-OSIII/os_task.c ****     }
2181:Libraries/uC-OSIII/os_task.c ****     p_tcb->TS = ts;
 4323              		.loc 1 2181 0
 4324 1f78 FB68     		ldr	r3, [r7, #12]
 4325 1f7a 7A68     		ldr	r2, [r7, #4]
 4326 1f7c 9A63     		str	r2, [r3, #56]
2182:Libraries/uC-OSIII/os_task.c ****     *p_err    = OS_ERR_NONE;                                /* Assume we won't have any errors     
 4327              		.loc 1 2182 0
 4328 1f7e 3B68     		ldr	r3, [r7, #0]
 4329 1f80 4FF00002 		mov	r2, #0
 4330 1f84 1A80     		strh	r2, [r3, #0]	@ movhi
2183:Libraries/uC-OSIII/os_task.c ****     switch (p_tcb->TaskState) {
 4331              		.loc 1 2183 0
 4332 1f86 FB68     		ldr	r3, [r7, #12]
 4333 1f88 93F8C230 		ldrb	r3, [r3, #194]	@ zero_extendqisi2
 4334 1f8c 072B     		cmp	r3, #7
 4335 1f8e 00F20881 		bhi	.L250
 4336 1f92 4FF04C52 		mov	r2, #855638016
 4337 1f96 02FA03F2 		lsl	r2, r2, r3
 4338 1f9a 002A     		cmp	r2, #0
 4339 1f9c C0F28880 		blt	.L252
 4340 1fa0 4FF04C42 		mov	r2, #-872415232
 4341 1fa4 02FA03F3 		lsl	r3, r2, r3
 4342 1fa8 002B     		cmp	r3, #0
 4343 1faa 80F2FA80 		bge	.L250
 4344              	.L251:
2184:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_RDY:
2185:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_DLY:
2186:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_SUSPENDED:
2187:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_DLY_SUSPENDED:
2188:Libraries/uC-OSIII/os_task.c ****              switch (sizeof(OS_SEM_CTR)) {
2189:Libraries/uC-OSIII/os_task.c ****                  case 1u:
2190:Libraries/uC-OSIII/os_task.c ****                       if (p_tcb->SemCtr == DEF_INT_08U_MAX_VAL) {
2191:Libraries/uC-OSIII/os_task.c ****                           OS_CRITICAL_EXIT();
2192:Libraries/uC-OSIII/os_task.c ****                           *p_err = OS_ERR_SEM_OVF;
2193:Libraries/uC-OSIII/os_task.c ****                           return ((OS_SEM_CTR)0);
2194:Libraries/uC-OSIII/os_task.c ****                       }
2195:Libraries/uC-OSIII/os_task.c ****                       break;
2196:Libraries/uC-OSIII/os_task.c **** 
2197:Libraries/uC-OSIII/os_task.c ****                  case 2u:
2198:Libraries/uC-OSIII/os_task.c ****                       if (p_tcb->SemCtr == DEF_INT_16U_MAX_VAL) {
2199:Libraries/uC-OSIII/os_task.c ****                           OS_CRITICAL_EXIT();
2200:Libraries/uC-OSIII/os_task.c ****                           *p_err = OS_ERR_SEM_OVF;
2201:Libraries/uC-OSIII/os_task.c ****                           return ((OS_SEM_CTR)0);
2202:Libraries/uC-OSIII/os_task.c ****                       }
2203:Libraries/uC-OSIII/os_task.c ****                       break;
2204:Libraries/uC-OSIII/os_task.c **** 
2205:Libraries/uC-OSIII/os_task.c ****                  case 4u:
2206:Libraries/uC-OSIII/os_task.c ****                       if (p_tcb->SemCtr == DEF_INT_32U_MAX_VAL) {
 4345              		.loc 1 2206 0
 4346 1fae FB68     		ldr	r3, [r7, #12]
 4347 1fb0 DB6E     		ldr	r3, [r3, #108]
 4348 1fb2 B3F1FF3F 		cmp	r3, #-1
 4349 1fb6 3BD1     		bne	.L271
2207:Libraries/uC-OSIII/os_task.c ****                           OS_CRITICAL_EXIT();
 4350              		.loc 1 2207 0
 4351 1fb8 FFF7FEFF 		bl	CPU_SR_Save
 4352 1fbc 3861     		str	r0, [r7, #16]
 4353 1fbe FFF7FEFF 		bl	CPU_IntDisMeasStart
 4354 1fc2 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4355 1fc6 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4356 1fca 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4357 1fcc 03F1FF33 		add	r3, r3, #-1
 4358 1fd0 DAB2     		uxtb	r2, r3
 4359 1fd2 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4360 1fd6 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4361 1fda 1A70     		strb	r2, [r3, #0]
 4362 1fdc 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4363 1fe0 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4364 1fe4 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4365 1fe6 002B     		cmp	r3, #0
 4366 1fe8 16D1     		bne	.L254
 4367              		.loc 1 2207 0 is_stmt 0 discriminator 1
 4368 1fea FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 4369 1fee 40F20003 		movw	r3, #:lower16:OSIntQNbrEntries
 4370 1ff2 C0F20003 		movt	r3, #:upper16:OSIntQNbrEntries
 4371 1ff6 1B88     		ldrh	r3, [r3, #0]
 4372 1ff8 002B     		cmp	r3, #0
 4373 1ffa 07D0     		beq	.L255
 4374              		.loc 1 2207 0 discriminator 3
 4375 1ffc FFF7FEFF 		bl	CPU_IntDisMeasStop
 4376 2000 3869     		ldr	r0, [r7, #16]
 4377 2002 FFF7FEFF 		bl	CPU_SR_Restore
 4378 2006 FFF7FEFF 		bl	OS_Sched0
 4379 200a 0AE0     		b	.L256
 4380              	.L255:
 4381              		.loc 1 2207 0 discriminator 4
 4382 200c FFF7FEFF 		bl	CPU_IntDisMeasStop
 4383 2010 3869     		ldr	r0, [r7, #16]
 4384 2012 FFF7FEFF 		bl	CPU_SR_Restore
 4385 2016 04E0     		b	.L256
 4386              	.L254:
 4387              		.loc 1 2207 0 discriminator 2
 4388 2018 FFF7FEFF 		bl	CPU_IntDisMeasStop
 4389 201c 3869     		ldr	r0, [r7, #16]
 4390 201e FFF7FEFF 		bl	CPU_SR_Restore
 4391              	.L256:
2208:Libraries/uC-OSIII/os_task.c ****                           *p_err = OS_ERR_SEM_OVF;
 4392              		.loc 1 2208 0 is_stmt 1
 4393 2022 3B68     		ldr	r3, [r7, #0]
 4394 2024 46F6C552 		movw	r2, #28101
 4395 2028 1A80     		strh	r2, [r3, #0]	@ movhi
2209:Libraries/uC-OSIII/os_task.c ****                           return ((OS_SEM_CTR)0);
 4396              		.loc 1 2209 0
 4397 202a 4FF00003 		mov	r3, #0
 4398 202e F7E0     		b	.L257
 4399              	.L271:
2210:Libraries/uC-OSIII/os_task.c ****                       }
2211:Libraries/uC-OSIII/os_task.c ****                       break;
 4400              		.loc 1 2211 0
 4401 2030 00BF     		nop
 4402              	.L270:
2212:Libraries/uC-OSIII/os_task.c **** 
2213:Libraries/uC-OSIII/os_task.c ****                  default:
2214:Libraries/uC-OSIII/os_task.c ****                       break;
2215:Libraries/uC-OSIII/os_task.c ****              }
2216:Libraries/uC-OSIII/os_task.c ****              p_tcb->SemCtr++;                               /* Task signaled is not pending on anyt
 4403              		.loc 1 2216 0
 4404 2032 FB68     		ldr	r3, [r7, #12]
 4405 2034 DB6E     		ldr	r3, [r3, #108]
 4406 2036 03F10102 		add	r2, r3, #1
 4407 203a FB68     		ldr	r3, [r7, #12]
 4408 203c DA66     		str	r2, [r3, #108]
2217:Libraries/uC-OSIII/os_task.c ****              ctr = p_tcb->SemCtr;
 4409              		.loc 1 2217 0
 4410 203e FB68     		ldr	r3, [r7, #12]
 4411 2040 DB6E     		ldr	r3, [r3, #108]
 4412 2042 7B61     		str	r3, [r7, #20]
2218:Libraries/uC-OSIII/os_task.c ****              OS_CRITICAL_EXIT();
 4413              		.loc 1 2218 0
 4414 2044 FFF7FEFF 		bl	CPU_SR_Save
 4415 2048 3861     		str	r0, [r7, #16]
 4416 204a FFF7FEFF 		bl	CPU_IntDisMeasStart
 4417 204e 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4418 2052 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4419 2056 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4420 2058 03F1FF33 		add	r3, r3, #-1
 4421 205c DAB2     		uxtb	r2, r3
 4422 205e 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4423 2062 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4424 2066 1A70     		strb	r2, [r3, #0]
 4425 2068 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4426 206c C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4427 2070 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4428 2072 002B     		cmp	r3, #0
 4429 2074 16D1     		bne	.L258
 4430              		.loc 1 2218 0 is_stmt 0 discriminator 1
 4431 2076 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 4432 207a 40F20003 		movw	r3, #:lower16:OSIntQNbrEntries
 4433 207e C0F20003 		movt	r3, #:upper16:OSIntQNbrEntries
 4434 2082 1B88     		ldrh	r3, [r3, #0]
 4435 2084 002B     		cmp	r3, #0
 4436 2086 07D0     		beq	.L259
 4437              		.loc 1 2218 0 discriminator 3
 4438 2088 FFF7FEFF 		bl	CPU_IntDisMeasStop
 4439 208c 3869     		ldr	r0, [r7, #16]
 4440 208e FFF7FEFF 		bl	CPU_SR_Restore
 4441 2092 FFF7FEFF 		bl	OS_Sched0
2219:Libraries/uC-OSIII/os_task.c ****              break;
 4442              		.loc 1 2219 0 is_stmt 1 discriminator 3
 4443 2096 C2E0     		b	.L261
 4444              	.L259:
2218:Libraries/uC-OSIII/os_task.c ****              OS_CRITICAL_EXIT();
 4445              		.loc 1 2218 0 discriminator 4
 4446 2098 FFF7FEFF 		bl	CPU_IntDisMeasStop
 4447 209c 3869     		ldr	r0, [r7, #16]
 4448 209e FFF7FEFF 		bl	CPU_SR_Restore
 4449              		.loc 1 2219 0 discriminator 4
 4450 20a2 BCE0     		b	.L261
 4451              	.L258:
2218:Libraries/uC-OSIII/os_task.c ****              OS_CRITICAL_EXIT();
 4452              		.loc 1 2218 0 discriminator 2
 4453 20a4 FFF7FEFF 		bl	CPU_IntDisMeasStop
 4454 20a8 3869     		ldr	r0, [r7, #16]
 4455 20aa FFF7FEFF 		bl	CPU_SR_Restore
 4456              		.loc 1 2219 0 discriminator 2
 4457 20ae B6E0     		b	.L261
 4458              	.L252:
2220:Libraries/uC-OSIII/os_task.c **** 
2221:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND:
2222:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT:
2223:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_SUSPENDED:
2224:Libraries/uC-OSIII/os_task.c ****         case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
2225:Libraries/uC-OSIII/os_task.c ****              if (p_tcb->PendOn == OS_TASK_PEND_ON_TASK_SEM) {   /* Is task signaled waiting for a s
 4459              		.loc 1 2225 0
 4460 20b0 FB68     		ldr	r3, [r7, #12]
 4461 20b2 93F8C030 		ldrb	r3, [r3, #192]	@ zero_extendqisi2
 4462 20b6 072B     		cmp	r3, #7
 4463 20b8 34D1     		bne	.L262
2226:Libraries/uC-OSIII/os_task.c ****                  OS_Post((OS_PEND_OBJ *)0,                      /*      Task is pending on signal  
 4464              		.loc 1 2226 0
 4465 20ba 7B68     		ldr	r3, [r7, #4]
 4466 20bc 0093     		str	r3, [sp, #0]
 4467 20be 4FF00000 		mov	r0, #0
 4468 20c2 F968     		ldr	r1, [r7, #12]
 4469 20c4 4FF00002 		mov	r2, #0
 4470 20c8 4FF00003 		mov	r3, #0
 4471 20cc FFF7FEFF 		bl	OS_Post
2227:Libraries/uC-OSIII/os_task.c ****                          (OS_TCB      *)p_tcb,
2228:Libraries/uC-OSIII/os_task.c ****                          (void        *)0,
2229:Libraries/uC-OSIII/os_task.c ****                          (OS_MSG_SIZE  )0u,
2230:Libraries/uC-OSIII/os_task.c ****                          (CPU_TS       )ts);
2231:Libraries/uC-OSIII/os_task.c ****                  ctr = p_tcb->SemCtr;
 4472              		.loc 1 2231 0
 4473 20d0 FB68     		ldr	r3, [r7, #12]
 4474 20d2 DB6E     		ldr	r3, [r3, #108]
 4475 20d4 7B61     		str	r3, [r7, #20]
2232:Libraries/uC-OSIII/os_task.c ****                  OS_CRITICAL_EXIT_NO_SCHED();
 4476              		.loc 1 2232 0
 4477 20d6 FFF7FEFF 		bl	CPU_SR_Save
 4478 20da 3861     		str	r0, [r7, #16]
 4479 20dc FFF7FEFF 		bl	CPU_IntDisMeasStart
 4480 20e0 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4481 20e4 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4482 20e8 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4483 20ea 03F1FF33 		add	r3, r3, #-1
 4484 20ee DAB2     		uxtb	r2, r3
 4485 20f0 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4486 20f4 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4487 20f8 1A70     		strb	r2, [r3, #0]
 4488 20fa 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4489 20fe C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4490 2102 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4491 2104 002B     		cmp	r3, #0
 4492 2106 01D1     		bne	.L263
 4493              		.loc 1 2232 0 is_stmt 0 discriminator 1
 4494 2108 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 4495              	.L263:
 4496              		.loc 1 2232 0 discriminator 2
 4497 210c FFF7FEFF 		bl	CPU_IntDisMeasStop
 4498 2110 3869     		ldr	r0, [r7, #16]
 4499 2112 FFF7FEFF 		bl	CPU_SR_Restore
2233:Libraries/uC-OSIII/os_task.c ****                  if ((opt & OS_OPT_POST_NO_SCHED) == (OS_OPT)0) {
 4500              		.loc 1 2233 0 is_stmt 1 discriminator 2
 4501 2116 7B89     		ldrh	r3, [r7, #10]
 4502 2118 1BB2     		sxth	r3, r3
 4503 211a 002B     		cmp	r3, #0
 4504 211c 7EDB     		blt	.L272
2234:Libraries/uC-OSIII/os_task.c ****                      OSSched();                                 /* Run the scheduler               
 4505              		.loc 1 2234 0
 4506 211e FFF7FEFF 		bl	OSSched
2235:Libraries/uC-OSIII/os_task.c ****                  }
2236:Libraries/uC-OSIII/os_task.c ****              } else {
2237:Libraries/uC-OSIII/os_task.c ****                  p_tcb->SemCtr++;                           /* No,  Task signaled is NOT pending on
2238:Libraries/uC-OSIII/os_task.c ****                  ctr = p_tcb->SemCtr;                       /*      ... it must be waiting on somet
2239:Libraries/uC-OSIII/os_task.c ****                  OS_CRITICAL_EXIT();
2240:Libraries/uC-OSIII/os_task.c ****              }
2241:Libraries/uC-OSIII/os_task.c ****              break;
 4507              		.loc 1 2241 0
 4508 2122 7BE0     		b	.L272
 4509              	.L262:
2237:Libraries/uC-OSIII/os_task.c ****                  p_tcb->SemCtr++;                           /* No,  Task signaled is NOT pending on
 4510              		.loc 1 2237 0
 4511 2124 FB68     		ldr	r3, [r7, #12]
 4512 2126 DB6E     		ldr	r3, [r3, #108]
 4513 2128 03F10102 		add	r2, r3, #1
 4514 212c FB68     		ldr	r3, [r7, #12]
 4515 212e DA66     		str	r2, [r3, #108]
2238:Libraries/uC-OSIII/os_task.c ****                  ctr = p_tcb->SemCtr;                       /*      ... it must be waiting on somet
 4516              		.loc 1 2238 0
 4517 2130 FB68     		ldr	r3, [r7, #12]
 4518 2132 DB6E     		ldr	r3, [r3, #108]
 4519 2134 7B61     		str	r3, [r7, #20]
2239:Libraries/uC-OSIII/os_task.c ****                  OS_CRITICAL_EXIT();
 4520              		.loc 1 2239 0
 4521 2136 FFF7FEFF 		bl	CPU_SR_Save
 4522 213a 3861     		str	r0, [r7, #16]
 4523 213c FFF7FEFF 		bl	CPU_IntDisMeasStart
 4524 2140 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4525 2144 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4526 2148 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4527 214a 03F1FF33 		add	r3, r3, #-1
 4528 214e DAB2     		uxtb	r2, r3
 4529 2150 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4530 2154 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4531 2158 1A70     		strb	r2, [r3, #0]
 4532 215a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4533 215e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4534 2162 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4535 2164 002B     		cmp	r3, #0
 4536 2166 16D1     		bne	.L265
2239:Libraries/uC-OSIII/os_task.c ****                  OS_CRITICAL_EXIT();
 4537              		.loc 1 2239 0 is_stmt 0 discriminator 1
 4538 2168 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 4539 216c 40F20003 		movw	r3, #:lower16:OSIntQNbrEntries
 4540 2170 C0F20003 		movt	r3, #:upper16:OSIntQNbrEntries
 4541 2174 1B88     		ldrh	r3, [r3, #0]
 4542 2176 002B     		cmp	r3, #0
 4543 2178 07D0     		beq	.L266
2239:Libraries/uC-OSIII/os_task.c ****                  OS_CRITICAL_EXIT();
 4544              		.loc 1 2239 0 discriminator 3
 4545 217a FFF7FEFF 		bl	CPU_IntDisMeasStop
 4546 217e 3869     		ldr	r0, [r7, #16]
 4547 2180 FFF7FEFF 		bl	CPU_SR_Restore
 4548 2184 FFF7FEFF 		bl	OS_Sched0
 4549              		.loc 1 2241 0 is_stmt 1 discriminator 3
 4550 2188 48E0     		b	.L272
 4551              	.L266:
2239:Libraries/uC-OSIII/os_task.c ****                  OS_CRITICAL_EXIT();
 4552              		.loc 1 2239 0 discriminator 4
 4553 218a FFF7FEFF 		bl	CPU_IntDisMeasStop
 4554 218e 3869     		ldr	r0, [r7, #16]
 4555 2190 FFF7FEFF 		bl	CPU_SR_Restore
 4556              		.loc 1 2241 0 discriminator 4
 4557 2194 42E0     		b	.L272
 4558              	.L265:
2239:Libraries/uC-OSIII/os_task.c ****                  OS_CRITICAL_EXIT();
 4559              		.loc 1 2239 0 discriminator 2
 4560 2196 FFF7FEFF 		bl	CPU_IntDisMeasStop
 4561 219a 3869     		ldr	r0, [r7, #16]
 4562 219c FFF7FEFF 		bl	CPU_SR_Restore
 4563              		.loc 1 2241 0 discriminator 2
 4564 21a0 3CE0     		b	.L272
 4565              	.L250:
2242:Libraries/uC-OSIII/os_task.c **** 
2243:Libraries/uC-OSIII/os_task.c ****         default:
2244:Libraries/uC-OSIII/os_task.c ****              OS_CRITICAL_EXIT();
 4566              		.loc 1 2244 0
 4567 21a2 FFF7FEFF 		bl	CPU_SR_Save
 4568 21a6 3861     		str	r0, [r7, #16]
 4569 21a8 FFF7FEFF 		bl	CPU_IntDisMeasStart
 4570 21ac 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4571 21b0 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4572 21b4 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4573 21b6 03F1FF33 		add	r3, r3, #-1
 4574 21ba DAB2     		uxtb	r2, r3
 4575 21bc 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4576 21c0 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4577 21c4 1A70     		strb	r2, [r3, #0]
 4578 21c6 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 4579 21ca C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 4580 21ce 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 4581 21d0 002B     		cmp	r3, #0
 4582 21d2 16D1     		bne	.L267
 4583              		.loc 1 2244 0 is_stmt 0 discriminator 1
 4584 21d4 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 4585 21d8 40F20003 		movw	r3, #:lower16:OSIntQNbrEntries
 4586 21dc C0F20003 		movt	r3, #:upper16:OSIntQNbrEntries
 4587 21e0 1B88     		ldrh	r3, [r3, #0]
 4588 21e2 002B     		cmp	r3, #0
 4589 21e4 07D0     		beq	.L268
 4590              		.loc 1 2244 0 discriminator 3
 4591 21e6 FFF7FEFF 		bl	CPU_IntDisMeasStop
 4592 21ea 3869     		ldr	r0, [r7, #16]
 4593 21ec FFF7FEFF 		bl	CPU_SR_Restore
 4594 21f0 FFF7FEFF 		bl	OS_Sched0
 4595 21f4 0AE0     		b	.L269
 4596              	.L268:
 4597              		.loc 1 2244 0 discriminator 4
 4598 21f6 FFF7FEFF 		bl	CPU_IntDisMeasStop
 4599 21fa 3869     		ldr	r0, [r7, #16]
 4600 21fc FFF7FEFF 		bl	CPU_SR_Restore
 4601 2200 04E0     		b	.L269
 4602              	.L267:
 4603              		.loc 1 2244 0 discriminator 2
 4604 2202 FFF7FEFF 		bl	CPU_IntDisMeasStop
 4605 2206 3869     		ldr	r0, [r7, #16]
 4606 2208 FFF7FEFF 		bl	CPU_SR_Restore
 4607              	.L269:
2245:Libraries/uC-OSIII/os_task.c ****              *p_err = OS_ERR_STATE_INVALID;
 4608              		.loc 1 2245 0 is_stmt 1
 4609 220c 3B68     		ldr	r3, [r7, #0]
 4610 220e 46F62A62 		movw	r2, #28202
 4611 2212 1A80     		strh	r2, [r3, #0]	@ movhi
2246:Libraries/uC-OSIII/os_task.c ****              ctr = (OS_SEM_CTR)0;
 4612              		.loc 1 2246 0
 4613 2214 4FF00003 		mov	r3, #0
 4614 2218 7B61     		str	r3, [r7, #20]
2247:Libraries/uC-OSIII/os_task.c ****              break;
 4615              		.loc 1 2247 0
 4616 221a 00E0     		b	.L261
 4617              	.L272:
2241:Libraries/uC-OSIII/os_task.c ****              break;
 4618              		.loc 1 2241 0
 4619 221c 00BF     		nop
 4620              	.L261:
2248:Libraries/uC-OSIII/os_task.c ****     }
2249:Libraries/uC-OSIII/os_task.c ****     return (ctr);
 4621              		.loc 1 2249 0
 4622 221e 7B69     		ldr	r3, [r7, #20]
 4623              	.L257:
2250:Libraries/uC-OSIII/os_task.c **** }
 4624              		.loc 1 2250 0
 4625 2220 1846     		mov	r0, r3
 4626 2222 07F11807 		add	r7, r7, #24
 4627 2226 BD46     		mov	sp, r7
 4628 2228 80BD     		pop	{r7, pc}
 4629              		.cfi_endproc
 4630              	.LFE23:
 4632              	.Letext0:
 4633              		.file 2 "Libraries/uC-CPU/cpu.h"
 4634              		.file 3 "Libraries/uC-CPU/cpu_core.h"
 4635              		.file 4 "Libraries/uC-OSIII/os_type.h"
 4636              		.file 5 "Libraries/uC-OSIII/os.h"
DEFINED SYMBOLS
                            *ABS*:00000000 os_task.c
     /tmp/ccAcbzFZ.s:18     .text:00000000 $t
     /tmp/ccAcbzFZ.s:23     .text:00000000 OSTaskChangePrio
     /tmp/ccAcbzFZ.s:304    .text:00000220 OSTaskCreate
     /tmp/ccAcbzFZ.s:3662   .text:00001a48 OS_TaskInitTCB
     /tmp/ccAcbzFZ.s:3445   .text:00001910 OS_TaskDbgListAdd
     /tmp/ccAcbzFZ.s:749    .text:00000580 OSTaskDel
     /tmp/ccAcbzFZ.s:861    .text:00000650 $d
     /tmp/ccAcbzFZ.s:871    .text:00000670 $t
     /tmp/ccAcbzFZ.s:3510   .text:00001974 OS_TaskDbgListRemove
     /tmp/ccAcbzFZ.s:1038   .text:000007c4 OSTaskQFlush
     /tmp/ccAcbzFZ.s:1185   .text:000008e4 OSTaskQPend
     /tmp/ccAcbzFZ.s:1565   .text:00000bd8 OSTaskQPendAbort
     /tmp/ccAcbzFZ.s:1730   .text:00000d0c OSTaskQPost
     /tmp/ccAcbzFZ.s:3920   .text:00001c58 OS_TaskQPost
     /tmp/ccAcbzFZ.s:1801   .text:00000d70 OSTaskRegGet
     /tmp/ccAcbzFZ.s:1881   .text:00000de0 OSTaskRegSet
     /tmp/ccAcbzFZ.s:1958   .text:00000e4c OSTaskResume
     /tmp/ccAcbzFZ.s:2034   .text:00000ec4 $d
     /tmp/ccAcbzFZ.s:2044   .text:00000ee4 $t
     /tmp/ccAcbzFZ.s:2220   .text:00001054 OSTaskSemPend
     /tmp/ccAcbzFZ.s:2573   .text:00001320 OSTaskSemPendAbort
     /tmp/ccAcbzFZ.s:2745   .text:00001468 OSTaskSemPost
     /tmp/ccAcbzFZ.s:4264   .text:00001f10 OS_TaskSemPost
     /tmp/ccAcbzFZ.s:2818   .text:000014d8 OSTaskSemSet
     /tmp/ccAcbzFZ.s:2901   .text:0000154c OSTaskStkChk
     /tmp/ccAcbzFZ.s:3079   .text:00001664 OSTaskSuspend
     /tmp/ccAcbzFZ.s:3191   .text:00001724 $d
     /tmp/ccAcbzFZ.s:3201   .text:00001744 $t
     /tmp/ccAcbzFZ.s:3344   .text:00001874 OSTaskTimeQuantaSet
     /tmp/ccAcbzFZ.s:3604   .text:00001a04 OS_TaskInit
     /tmp/ccAcbzFZ.s:3650   .rodata:00000000 $d
     /tmp/ccAcbzFZ.s:3651   .rodata:00000000 .LC0
     /tmp/ccAcbzFZ.s:3654   .rodata:00000008 .LC1
     /tmp/ccAcbzFZ.s:4224   .text:00001ee4 OS_TaskReturn
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
OSIntNestingCtr
CPU_SR_Save
CPU_IntDisMeasStart
OSTCBCurPtr
CPU_IntDisMeasStop
CPU_SR_Restore
OSSchedLockNestingCtr
OS_SchedLockTimeMeasStart
OS_RdyListRemove
OS_PrioInsert
OS_RdyListInsertHead
OS_RdyListInsertTail
OS_PendListChangePrio
OS_SchedLockTimeMeasStop
OSIntQNbrEntries
OS_Sched0
OSSched
OSCfg_StkSizeMin
OSIntQTaskTCB
OSRdyList
OSTaskStkInit
OSSchedRoundRobinDfltTimeQuanta
OS_MsgQInit
OSTaskCreateHook
OSTaskQty
OSRunning
OSIdleTaskTCB
OS_TickListRemove
OS_PendListRemove
OS_MsgQFreeAll
OSTaskDelHook
OS_MsgQGet
CPU_TS_TmrRd
OS_Pend
OS_PendAbort
OS_IntQPost
OS_TaskRdy
OSTaskDbgListPtr
OSTaskCtxSwCtr
OS_MsgQPut
OS_Post
OSTaskReturnHook
