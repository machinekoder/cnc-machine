   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"os_tick.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.align	2
  19              		.global	OS_TickTask
  20              		.thumb
  21              		.thumb_func
  23              	OS_TickTask:
  24              	.LFB0:
  25              		.file 1 "Libraries/uC-OSIII/os_tick.c"
   1:Libraries/uC-OSIII/os_tick.c **** /*
   2:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
   3:Libraries/uC-OSIII/os_tick.c **** *                                                      uC/OS-III
   4:Libraries/uC-OSIII/os_tick.c **** *                                                 The Real-Time Kernel
   5:Libraries/uC-OSIII/os_tick.c **** *
   6:Libraries/uC-OSIII/os_tick.c **** *                                  (c) Copyright 2009-2010; Micrium, Inc.; Weston, FL
   7:Libraries/uC-OSIII/os_tick.c **** *                          All rights reserved.  Protected by international copyright laws.
   8:Libraries/uC-OSIII/os_tick.c **** *
   9:Libraries/uC-OSIII/os_tick.c **** *                                                    TICK MANAGEMENT
  10:Libraries/uC-OSIII/os_tick.c **** *
  11:Libraries/uC-OSIII/os_tick.c **** * File    : OS_TICK.C
  12:Libraries/uC-OSIII/os_tick.c **** * By      : JJL
  13:Libraries/uC-OSIII/os_tick.c **** * Version : V3.01.2
  14:Libraries/uC-OSIII/os_tick.c **** *
  15:Libraries/uC-OSIII/os_tick.c **** * LICENSING TERMS:
  16:Libraries/uC-OSIII/os_tick.c **** * ---------------
  17:Libraries/uC-OSIII/os_tick.c **** *               uC/OS-III is provided in source form to registered licensees ONLY.  It is
  18:Libraries/uC-OSIII/os_tick.c **** *               illegal to distribute this source code to any third party unless you receive
  19:Libraries/uC-OSIII/os_tick.c **** *               written permission by an authorized Micrium representative.  Knowledge of
  20:Libraries/uC-OSIII/os_tick.c **** *               the source code may NOT be used to develop a similar product.
  21:Libraries/uC-OSIII/os_tick.c **** *
  22:Libraries/uC-OSIII/os_tick.c **** *               Please help us continue to provide the Embedded community with the finest
  23:Libraries/uC-OSIII/os_tick.c **** *               software available.  Your honesty is greatly appreciated.
  24:Libraries/uC-OSIII/os_tick.c **** *
  25:Libraries/uC-OSIII/os_tick.c **** *               You can contact us at www.micrium.com.
  26:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
  27:Libraries/uC-OSIII/os_tick.c **** */
  28:Libraries/uC-OSIII/os_tick.c **** 
  29:Libraries/uC-OSIII/os_tick.c **** #include <os.h>
  30:Libraries/uC-OSIII/os_tick.c **** 
  31:Libraries/uC-OSIII/os_tick.c **** #ifdef VSC_INCLUDE_SOURCE_FILE_NAMES
  32:Libraries/uC-OSIII/os_tick.c **** const  CPU_CHAR  *os_tick__c = "$Id: $";
  33:Libraries/uC-OSIII/os_tick.c **** #endif
  34:Libraries/uC-OSIII/os_tick.c **** 
  35:Libraries/uC-OSIII/os_tick.c **** /*
  36:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
  37:Libraries/uC-OSIII/os_tick.c **** *                                                  LOCAL PROTOTYPES
  38:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
  39:Libraries/uC-OSIII/os_tick.c **** */
  40:Libraries/uC-OSIII/os_tick.c **** 
  41:Libraries/uC-OSIII/os_tick.c **** 
  42:Libraries/uC-OSIII/os_tick.c **** /*
  43:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
  44:Libraries/uC-OSIII/os_tick.c **** *                                                      TICK TASK
  45:Libraries/uC-OSIII/os_tick.c **** *
  46:Libraries/uC-OSIII/os_tick.c **** * Description: This task is internal to uC/OS-III and is triggered by the tick interrupt.
  47:Libraries/uC-OSIII/os_tick.c **** *
  48:Libraries/uC-OSIII/os_tick.c **** * Arguments  : p_arg     is an argument passed to the task when the task is created (unused).
  49:Libraries/uC-OSIII/os_tick.c **** *
  50:Libraries/uC-OSIII/os_tick.c **** * Returns    : none
  51:Libraries/uC-OSIII/os_tick.c **** *
  52:Libraries/uC-OSIII/os_tick.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
  53:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
  54:Libraries/uC-OSIII/os_tick.c **** */
  55:Libraries/uC-OSIII/os_tick.c **** 
  56:Libraries/uC-OSIII/os_tick.c **** void  OS_TickTask (void *p_arg)
  57:Libraries/uC-OSIII/os_tick.c **** {
  26              		.loc 1 57 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 16
  29              		@ frame_needed = 1, uses_anonymous_args = 0
  30 0000 80B5     		push	{r7, lr}
  31              	.LCFI0:
  32              		.cfi_def_cfa_offset 8
  33              		.cfi_offset 14, -4
  34              		.cfi_offset 7, -8
  35 0002 84B0     		sub	sp, sp, #16
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 24
  38 0004 00AF     		add	r7, sp, #0
  39              	.LCFI2:
  40              		.cfi_def_cfa_register 7
  41 0006 7860     		str	r0, [r7, #4]
  42 0008 00E0     		b	.L3
  43              	.L4:
  58:Libraries/uC-OSIII/os_tick.c ****     OS_ERR  err;
  59:Libraries/uC-OSIII/os_tick.c ****     CPU_TS  ts;
  60:Libraries/uC-OSIII/os_tick.c **** 
  61:Libraries/uC-OSIII/os_tick.c **** 
  62:Libraries/uC-OSIII/os_tick.c ****     p_arg = p_arg;                                          /* Prevent compiler warning            
  63:Libraries/uC-OSIII/os_tick.c **** 
  64:Libraries/uC-OSIII/os_tick.c ****     while (DEF_ON) {
  65:Libraries/uC-OSIII/os_tick.c ****         (void)OSTaskSemPend((OS_TICK  )0,
  66:Libraries/uC-OSIII/os_tick.c ****                             (OS_OPT   )OS_OPT_PEND_BLOCKING,
  67:Libraries/uC-OSIII/os_tick.c ****                             (CPU_TS  *)&ts,
  68:Libraries/uC-OSIII/os_tick.c ****                             (OS_ERR  *)&err);               /* Wait for signal from tick interrupt 
  69:Libraries/uC-OSIII/os_tick.c ****         if (err == OS_ERR_NONE) {
  70:Libraries/uC-OSIII/os_tick.c ****             if (OSRunning == OS_STATE_OS_RUNNING) {
  71:Libraries/uC-OSIII/os_tick.c ****                 OS_TickListUpdate();                        /* Update all tasks waiting for time   
  72:Libraries/uC-OSIII/os_tick.c ****             }
  73:Libraries/uC-OSIII/os_tick.c ****         }
  74:Libraries/uC-OSIII/os_tick.c ****     }
  44              		.loc 1 74 0
  45 000a 00BF     		nop
  46              	.L3:
  65:Libraries/uC-OSIII/os_tick.c ****         (void)OSTaskSemPend((OS_TICK  )0,
  47              		.loc 1 65 0
  48 000c 4FF00000 		mov	r0, #0
  49 0010 4FF00001 		mov	r1, #0
  50 0014 07F10803 		add	r3, r7, #8
  51 0018 1A46     		mov	r2, r3
  52 001a 07F10E03 		add	r3, r7, #14
  53 001e FFF7FEFF 		bl	OSTaskSemPend
  69:Libraries/uC-OSIII/os_tick.c ****         if (err == OS_ERR_NONE) {
  54              		.loc 1 69 0
  55 0022 FB89     		ldrh	r3, [r7, #14]
  56 0024 002B     		cmp	r3, #0
  57 0026 F0D1     		bne	.L4
  70:Libraries/uC-OSIII/os_tick.c ****             if (OSRunning == OS_STATE_OS_RUNNING) {
  58              		.loc 1 70 0
  59 0028 40F20003 		movw	r3, #:lower16:OSRunning
  60 002c C0F20003 		movt	r3, #:upper16:OSRunning
  61 0030 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
  62 0032 012B     		cmp	r3, #1
  63 0034 E9D1     		bne	.L4
  71:Libraries/uC-OSIII/os_tick.c ****                 OS_TickListUpdate();                        /* Update all tasks waiting for time   
  64              		.loc 1 71 0
  65 0036 FFF7FEFF 		bl	OS_TickListUpdate
  66              		.loc 1 74 0
  67 003a E6E7     		b	.L4
  68              		.cfi_endproc
  69              	.LFE0:
  71              		.section	.rodata
  72              		.align	2
  73              	.LC0:
  74 0000 75432F4F 		.ascii	"uC/OS-III Tick Task\000"
  74      532D4949 
  74      49205469 
  74      636B2054 
  74      61736B00 
  75              		.text
  76              		.align	2
  77              		.global	OS_TickTaskInit
  78              		.thumb
  79              		.thumb_func
  81              	OS_TickTaskInit:
  82              	.LFB1:
  75:Libraries/uC-OSIII/os_tick.c **** }
  76:Libraries/uC-OSIII/os_tick.c **** 
  77:Libraries/uC-OSIII/os_tick.c **** /*$PAGE*/
  78:Libraries/uC-OSIII/os_tick.c **** /*
  79:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
  80:Libraries/uC-OSIII/os_tick.c **** *                                                 INITIALIZE TICK TASK
  81:Libraries/uC-OSIII/os_tick.c **** *
  82:Libraries/uC-OSIII/os_tick.c **** * Description: This function is called by OSInit() to create the tick task.
  83:Libraries/uC-OSIII/os_tick.c **** *
  84:Libraries/uC-OSIII/os_tick.c **** * Arguments  : p_err   is a pointer to a variable that will hold the value of an error code:
  85:Libraries/uC-OSIII/os_tick.c **** *
  86:Libraries/uC-OSIII/os_tick.c **** *                          OS_ERR_TICK_STK_INVALID   if the pointer to the tick task stack is a NUL
  87:Libraries/uC-OSIII/os_tick.c **** *                          OS_ERR_TICK_STK_SIZE      indicates that the specified stack size
  88:Libraries/uC-OSIII/os_tick.c **** *                          OS_ERR_PRIO_INVALID       if the priority you specified in the configura
  89:Libraries/uC-OSIII/os_tick.c **** *                                                      (There could be only one task at the Idle Ta
  90:Libraries/uC-OSIII/os_tick.c **** *                                                      (Maybe the priority you specified is higher 
  91:Libraries/uC-OSIII/os_tick.c **** *                          OS_ERR_??                 other error code returned by OSTaskCreate()
  92:Libraries/uC-OSIII/os_tick.c **** *
  93:Libraries/uC-OSIII/os_tick.c **** * Returns    : none
  94:Libraries/uC-OSIII/os_tick.c **** *
  95:Libraries/uC-OSIII/os_tick.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
  96:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
  97:Libraries/uC-OSIII/os_tick.c **** */
  98:Libraries/uC-OSIII/os_tick.c **** 
  99:Libraries/uC-OSIII/os_tick.c **** void  OS_TickTaskInit (OS_ERR  *p_err)
 100:Libraries/uC-OSIII/os_tick.c **** {
  83              		.loc 1 100 0
  84              		.cfi_startproc
  85              		@ args = 0, pretend = 0, frame = 8
  86              		@ frame_needed = 1, uses_anonymous_args = 0
  87 003c 80B5     		push	{r7, lr}
  88              	.LCFI3:
  89              		.cfi_def_cfa_offset 8
  90              		.cfi_offset 14, -4
  91              		.cfi_offset 7, -8
  92 003e 8CB0     		sub	sp, sp, #48
  93              	.LCFI4:
  94              		.cfi_def_cfa_offset 56
  95 0040 0AAF     		add	r7, sp, #40
  96              	.LCFI5:
  97              		.cfi_def_cfa 7, 16
  98 0042 7860     		str	r0, [r7, #4]
 101:Libraries/uC-OSIII/os_tick.c **** #ifdef OS_SAFETY_CRITICAL
 102:Libraries/uC-OSIII/os_tick.c ****     if (p_err == (OS_ERR *)0) {
 103:Libraries/uC-OSIII/os_tick.c ****         OS_SAFETY_CRITICAL_EXCEPTION();
 104:Libraries/uC-OSIII/os_tick.c ****     }
 105:Libraries/uC-OSIII/os_tick.c **** #endif
 106:Libraries/uC-OSIII/os_tick.c **** 
 107:Libraries/uC-OSIII/os_tick.c ****     OSTickCtr         = (OS_TICK)0u;                        /* Clear the tick counter              
  99              		.loc 1 107 0
 100 0044 40F20003 		movw	r3, #:lower16:OSTickCtr
 101 0048 C0F20003 		movt	r3, #:upper16:OSTickCtr
 102 004c 4FF00002 		mov	r2, #0
 103 0050 1A60     		str	r2, [r3, #0]
 108:Libraries/uC-OSIII/os_tick.c **** 
 109:Libraries/uC-OSIII/os_tick.c ****     OSTickTaskTimeMax = (CPU_TS)0u;
 104              		.loc 1 109 0
 105 0052 40F20003 		movw	r3, #:lower16:OSTickTaskTimeMax
 106 0056 C0F20003 		movt	r3, #:upper16:OSTickTaskTimeMax
 107 005a 4FF00002 		mov	r2, #0
 108 005e 1A60     		str	r2, [r3, #0]
 110:Libraries/uC-OSIII/os_tick.c **** 
 111:Libraries/uC-OSIII/os_tick.c **** 
 112:Libraries/uC-OSIII/os_tick.c ****     OS_TickListInit();                                      /* Initialize the tick list data struct
 109              		.loc 1 112 0
 110 0060 FFF7FEFF 		bl	OS_TickListInit
 113:Libraries/uC-OSIII/os_tick.c **** 
 114:Libraries/uC-OSIII/os_tick.c ****                                                             /* ---------------- CREATE THE TICK TAS
 115:Libraries/uC-OSIII/os_tick.c ****     if (OSCfg_TickTaskPrio >= (OS_CFG_PRIO_MAX - 1u)) {     /* Only one task at the 'Idle Task' pri
 111              		.loc 1 115 0
 112 0064 40F20003 		movw	r3, #:lower16:OSCfg_TickTaskPrio
 113 0068 C0F20003 		movt	r3, #:upper16:OSCfg_TickTaskPrio
 114 006c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 115 006e 3E2B     		cmp	r3, #62
 116 0070 04D9     		bls	.L6
 116:Libraries/uC-OSIII/os_tick.c ****         *p_err = OS_ERR_PRIO_INVALID;
 117              		.loc 1 116 0
 118 0072 7B68     		ldr	r3, [r7, #4]
 119 0074 46F27322 		movw	r2, #25203
 120 0078 1A80     		strh	r2, [r3, #0]	@ movhi
 117:Libraries/uC-OSIII/os_tick.c ****         return;
 121              		.loc 1 117 0
 122 007a 35E0     		b	.L5
 123              	.L6:
 118:Libraries/uC-OSIII/os_tick.c ****     }
 119:Libraries/uC-OSIII/os_tick.c **** 
 120:Libraries/uC-OSIII/os_tick.c ****     OSTaskCreate((OS_TCB     *)&OSTickTaskTCB,
 124              		.loc 1 120 0
 125 007c 40F20003 		movw	r3, #:lower16:OSCfg_TickTaskPrio
 126 0080 C0F20003 		movt	r3, #:upper16:OSCfg_TickTaskPrio
 127 0084 1878     		ldrb	r0, [r3, #0]	@ zero_extendqisi2
 128 0086 40F20003 		movw	r3, #:lower16:OSCfg_TickTaskStkBasePtr
 129 008a C0F20003 		movt	r3, #:upper16:OSCfg_TickTaskStkBasePtr
 130 008e 1968     		ldr	r1, [r3, #0]
 131 0090 40F20003 		movw	r3, #:lower16:OSCfg_TickTaskStkLimit
 132 0094 C0F20003 		movt	r3, #:upper16:OSCfg_TickTaskStkLimit
 133 0098 1A68     		ldr	r2, [r3, #0]
 134 009a 40F20003 		movw	r3, #:lower16:OSCfg_TickTaskStkSize
 135 009e C0F20003 		movt	r3, #:upper16:OSCfg_TickTaskStkSize
 136 00a2 1B68     		ldr	r3, [r3, #0]
 137 00a4 0090     		str	r0, [sp, #0]
 138 00a6 0191     		str	r1, [sp, #4]
 139 00a8 0292     		str	r2, [sp, #8]
 140 00aa 0393     		str	r3, [sp, #12]
 141 00ac 4FF00003 		mov	r3, #0
 142 00b0 0493     		str	r3, [sp, #16]
 143 00b2 4FF00003 		mov	r3, #0
 144 00b6 0593     		str	r3, [sp, #20]
 145 00b8 4FF00003 		mov	r3, #0
 146 00bc 0693     		str	r3, [sp, #24]
 147 00be 4FF00303 		mov	r3, #3
 148 00c2 0793     		str	r3, [sp, #28]
 149 00c4 7B68     		ldr	r3, [r7, #4]
 150 00c6 0893     		str	r3, [sp, #32]
 151 00c8 40F20000 		movw	r0, #:lower16:OSTickTaskTCB
 152 00cc C0F20000 		movt	r0, #:upper16:OSTickTaskTCB
 153 00d0 40F20001 		movw	r1, #:lower16:.LC0
 154 00d4 C0F20001 		movt	r1, #:upper16:.LC0
 155 00d8 40F20002 		movw	r2, #:lower16:OS_TickTask
 156 00dc C0F20002 		movt	r2, #:upper16:OS_TickTask
 157 00e0 4FF00003 		mov	r3, #0
 158 00e4 FFF7FEFF 		bl	OSTaskCreate
 159              	.L5:
 121:Libraries/uC-OSIII/os_tick.c ****                  (CPU_CHAR   *)((void *)"uC/OS-III Tick Task"),
 122:Libraries/uC-OSIII/os_tick.c ****                  (OS_TASK_PTR )OS_TickTask,
 123:Libraries/uC-OSIII/os_tick.c ****                  (void       *)0,
 124:Libraries/uC-OSIII/os_tick.c ****                  (OS_PRIO     )OSCfg_TickTaskPrio,
 125:Libraries/uC-OSIII/os_tick.c ****                  (CPU_STK    *)OSCfg_TickTaskStkBasePtr,
 126:Libraries/uC-OSIII/os_tick.c ****                  (CPU_STK_SIZE)OSCfg_TickTaskStkLimit,
 127:Libraries/uC-OSIII/os_tick.c ****                  (CPU_STK_SIZE)OSCfg_TickTaskStkSize,
 128:Libraries/uC-OSIII/os_tick.c ****                  (OS_MSG_QTY  )0u,
 129:Libraries/uC-OSIII/os_tick.c ****                  (OS_TICK     )0u,
 130:Libraries/uC-OSIII/os_tick.c ****                  (void       *)0,
 131:Libraries/uC-OSIII/os_tick.c ****                  (OS_OPT      )(OS_OPT_TASK_STK_CHK | OS_OPT_TASK_STK_CLR),
 132:Libraries/uC-OSIII/os_tick.c ****                  (OS_ERR     *)p_err);
 133:Libraries/uC-OSIII/os_tick.c **** }
 160              		.loc 1 133 0
 161 00e8 07F10807 		add	r7, r7, #8
 162 00ec BD46     		mov	sp, r7
 163 00ee 80BD     		pop	{r7, pc}
 164              		.cfi_endproc
 165              	.LFE1:
 167              		.align	2
 168              		.global	OS_TickListInit
 169              		.thumb
 170              		.thumb_func
 172              	OS_TickListInit:
 173              	.LFB2:
 134:Libraries/uC-OSIII/os_tick.c **** 
 135:Libraries/uC-OSIII/os_tick.c **** /*$PAGE*/
 136:Libraries/uC-OSIII/os_tick.c **** /*
 137:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
 138:Libraries/uC-OSIII/os_tick.c **** *                                               INITIALIZE THE TICK LIST
 139:Libraries/uC-OSIII/os_tick.c **** *
 140:Libraries/uC-OSIII/os_tick.c **** * Description: This function initializes the tick handling data structures of uC/OS-III.
 141:Libraries/uC-OSIII/os_tick.c **** *
 142:Libraries/uC-OSIII/os_tick.c **** * Arguments  : none
 143:Libraries/uC-OSIII/os_tick.c **** *
 144:Libraries/uC-OSIII/os_tick.c **** * Returns    : None
 145:Libraries/uC-OSIII/os_tick.c **** *
 146:Libraries/uC-OSIII/os_tick.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
 147:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
 148:Libraries/uC-OSIII/os_tick.c **** */
 149:Libraries/uC-OSIII/os_tick.c **** 
 150:Libraries/uC-OSIII/os_tick.c **** void  OS_TickListInit (void)
 151:Libraries/uC-OSIII/os_tick.c **** {
 174              		.loc 1 151 0
 175              		.cfi_startproc
 176              		@ args = 0, pretend = 0, frame = 8
 177              		@ frame_needed = 1, uses_anonymous_args = 0
 178              		@ link register save eliminated.
 179 00f0 80B4     		push	{r7}
 180              	.LCFI6:
 181              		.cfi_def_cfa_offset 4
 182              		.cfi_offset 7, -4
 183 00f2 83B0     		sub	sp, sp, #12
 184              	.LCFI7:
 185              		.cfi_def_cfa_offset 16
 186 00f4 00AF     		add	r7, sp, #0
 187              	.LCFI8:
 188              		.cfi_def_cfa_register 7
 152:Libraries/uC-OSIII/os_tick.c ****     OS_TICK_SPOKE_IX   i;
 153:Libraries/uC-OSIII/os_tick.c ****     OS_TICK_SPOKE     *p_spoke;
 154:Libraries/uC-OSIII/os_tick.c **** 
 155:Libraries/uC-OSIII/os_tick.c **** 
 156:Libraries/uC-OSIII/os_tick.c **** 
 157:Libraries/uC-OSIII/os_tick.c ****     for (i = 0u; i < OSCfg_TickWheelSize; i++) {
 189              		.loc 1 157 0
 190 00f6 4FF00003 		mov	r3, #0
 191 00fa FB80     		strh	r3, [r7, #6]	@ movhi
 192 00fc 18E0     		b	.L9
 193              	.L10:
 158:Libraries/uC-OSIII/os_tick.c ****         p_spoke                = (OS_TICK_SPOKE *)&OSCfg_TickWheel[i];
 194              		.loc 1 158 0 discriminator 2
 195 00fe FB88     		ldrh	r3, [r7, #6]
 196 0100 4FEAC302 		lsl	r2, r3, #3
 197 0104 40F20003 		movw	r3, #:lower16:OSCfg_TickWheel
 198 0108 C0F20003 		movt	r3, #:upper16:OSCfg_TickWheel
 199 010c D318     		adds	r3, r2, r3
 200 010e 3B60     		str	r3, [r7, #0]
 159:Libraries/uC-OSIII/os_tick.c ****         p_spoke->FirstPtr      = (OS_TCB        *)0;
 201              		.loc 1 159 0 discriminator 2
 202 0110 3B68     		ldr	r3, [r7, #0]
 203 0112 4FF00002 		mov	r2, #0
 204 0116 1A60     		str	r2, [r3, #0]
 160:Libraries/uC-OSIII/os_tick.c ****         p_spoke->NbrEntries    = (OS_OBJ_QTY     )0u;
 205              		.loc 1 160 0 discriminator 2
 206 0118 3B68     		ldr	r3, [r7, #0]
 207 011a 4FF00002 		mov	r2, #0
 208 011e 9A80     		strh	r2, [r3, #4]	@ movhi
 161:Libraries/uC-OSIII/os_tick.c ****         p_spoke->NbrEntriesMax = (OS_OBJ_QTY     )0u;
 209              		.loc 1 161 0 discriminator 2
 210 0120 3B68     		ldr	r3, [r7, #0]
 211 0122 4FF00002 		mov	r2, #0
 212 0126 DA80     		strh	r2, [r3, #6]	@ movhi
 157:Libraries/uC-OSIII/os_tick.c ****     for (i = 0u; i < OSCfg_TickWheelSize; i++) {
 213              		.loc 1 157 0 discriminator 2
 214 0128 FB88     		ldrh	r3, [r7, #6]	@ movhi
 215 012a 03F10103 		add	r3, r3, #1
 216 012e FB80     		strh	r3, [r7, #6]	@ movhi
 217              	.L9:
 157:Libraries/uC-OSIII/os_tick.c ****     for (i = 0u; i < OSCfg_TickWheelSize; i++) {
 218              		.loc 1 157 0 is_stmt 0 discriminator 1
 219 0130 40F20003 		movw	r3, #:lower16:OSCfg_TickWheelSize
 220 0134 C0F20003 		movt	r3, #:upper16:OSCfg_TickWheelSize
 221 0138 1B88     		ldrh	r3, [r3, #0]
 222 013a FA88     		ldrh	r2, [r7, #6]
 223 013c 9A42     		cmp	r2, r3
 224 013e DED3     		bcc	.L10
 162:Libraries/uC-OSIII/os_tick.c ****     }
 163:Libraries/uC-OSIII/os_tick.c **** }
 225              		.loc 1 163 0 is_stmt 1
 226 0140 07F10C07 		add	r7, r7, #12
 227 0144 BD46     		mov	sp, r7
 228 0146 80BC     		pop	{r7}
 229 0148 7047     		bx	lr
 230              		.cfi_endproc
 231              	.LFE2:
 233 014a 00BF     		.align	2
 234              		.global	OS_TickListInsert
 235              		.thumb
 236              		.thumb_func
 238              	OS_TickListInsert:
 239              	.LFB3:
 164:Libraries/uC-OSIII/os_tick.c **** 
 165:Libraries/uC-OSIII/os_tick.c **** /*$PAGE*/
 166:Libraries/uC-OSIII/os_tick.c **** /*
 167:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
 168:Libraries/uC-OSIII/os_tick.c **** *                                                ADD TASK TO TICK LIST
 169:Libraries/uC-OSIII/os_tick.c **** *
 170:Libraries/uC-OSIII/os_tick.c **** * Description: This function is called to place a task in a list of task waiting for either time to
 171:Libraries/uC-OSIII/os_tick.c **** *              timeout on a pend call.
 172:Libraries/uC-OSIII/os_tick.c **** *
 173:Libraries/uC-OSIII/os_tick.c **** * Arguments  : p_tcb          is a pointer to the OS_TCB of the task to add to the tick list
 174:Libraries/uC-OSIII/os_tick.c **** *              -----
 175:Libraries/uC-OSIII/os_tick.c **** *
 176:Libraries/uC-OSIII/os_tick.c **** *              time           represents either the 'match' value of OSTickCtr or a relative time f
 177:Libraries/uC-OSIII/os_tick.c **** *                             value of OSTickCtr as specified by the 'opt' argument..
 178:Libraries/uC-OSIII/os_tick.c **** *
 179:Libraries/uC-OSIII/os_tick.c **** *                             relative when 'opt' is set to OS_OPT_TIME_DLY
 180:Libraries/uC-OSIII/os_tick.c **** *                             relative when 'opt' is set to OS_OPT_TIME_TIMEOUT
 181:Libraries/uC-OSIII/os_tick.c **** *                             match    when 'opt' is set to OS_OPT_TIME_MATCH
 182:Libraries/uC-OSIII/os_tick.c **** *                             periodic when 'opt' is set to OS_OPT_TIME_PERIODIC
 183:Libraries/uC-OSIII/os_tick.c **** *
 184:Libraries/uC-OSIII/os_tick.c **** *              opt            is an option specifying how to calculate time.  The valid values are:
 185:Libraries/uC-OSIII/os_tick.c **** *              ---
 186:Libraries/uC-OSIII/os_tick.c **** *                                 OS_OPT_TIME_DLY
 187:Libraries/uC-OSIII/os_tick.c **** *                                 OS_OPT_TIME_TIMEOUT
 188:Libraries/uC-OSIII/os_tick.c **** *                                 OS_OPT_TIME_PERIODIC
 189:Libraries/uC-OSIII/os_tick.c **** *                                 OS_OPT_TIME_MATCH
 190:Libraries/uC-OSIII/os_tick.c **** *
 191:Libraries/uC-OSIII/os_tick.c **** *              p_err          is a pointer to a variable that will contain an error code returned b
 192:Libraries/uC-OSIII/os_tick.c **** *              -----
 193:Libraries/uC-OSIII/os_tick.c **** *                                 OS_ERR_NONE           the call was successful and the time delay 
 194:Libraries/uC-OSIII/os_tick.c **** *                                 OS_ERR_TIME_ZERO_DLY  if delay is zero or already occurred.
 195:Libraries/uC-OSIII/os_tick.c **** *
 196:Libraries/uC-OSIII/os_tick.c **** * Returns    : None
 197:Libraries/uC-OSIII/os_tick.c **** *
 198:Libraries/uC-OSIII/os_tick.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
 199:Libraries/uC-OSIII/os_tick.c **** *
 200:Libraries/uC-OSIII/os_tick.c **** *              2) This function is assumed to be called with interrupts disabled.
 201:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
 202:Libraries/uC-OSIII/os_tick.c **** */
 203:Libraries/uC-OSIII/os_tick.c **** 
 204:Libraries/uC-OSIII/os_tick.c **** void  OS_TickListInsert (OS_TCB   *p_tcb,
 205:Libraries/uC-OSIII/os_tick.c ****                          OS_TICK   time,
 206:Libraries/uC-OSIII/os_tick.c ****                          OS_OPT    opt,
 207:Libraries/uC-OSIII/os_tick.c ****                          OS_ERR   *p_err)
 208:Libraries/uC-OSIII/os_tick.c **** {
 240              		.loc 1 208 0
 241              		.cfi_startproc
 242              		@ args = 0, pretend = 0, frame = 40
 243              		@ frame_needed = 1, uses_anonymous_args = 0
 244              		@ link register save eliminated.
 245 014c 80B4     		push	{r7}
 246              	.LCFI9:
 247              		.cfi_def_cfa_offset 4
 248              		.cfi_offset 7, -4
 249 014e 8BB0     		sub	sp, sp, #44
 250              	.LCFI10:
 251              		.cfi_def_cfa_offset 48
 252 0150 00AF     		add	r7, sp, #0
 253              	.LCFI11:
 254              		.cfi_def_cfa_register 7
 255 0152 F860     		str	r0, [r7, #12]
 256 0154 B960     		str	r1, [r7, #8]
 257 0156 3B60     		str	r3, [r7, #0]
 258 0158 1346     		mov	r3, r2	@ movhi
 259 015a FB80     		strh	r3, [r7, #6]	@ movhi
 209:Libraries/uC-OSIII/os_tick.c ****     OS_TICK            tick_delta;
 210:Libraries/uC-OSIII/os_tick.c ****     OS_TICK            tick_next;
 211:Libraries/uC-OSIII/os_tick.c ****     OS_TICK_SPOKE     *p_spoke;
 212:Libraries/uC-OSIII/os_tick.c ****     OS_TCB            *p_tcb0;
 213:Libraries/uC-OSIII/os_tick.c ****     OS_TCB            *p_tcb1;
 214:Libraries/uC-OSIII/os_tick.c ****     OS_TICK_SPOKE_IX   spoke;
 215:Libraries/uC-OSIII/os_tick.c **** 
 216:Libraries/uC-OSIII/os_tick.c **** 
 217:Libraries/uC-OSIII/os_tick.c **** 
 218:Libraries/uC-OSIII/os_tick.c ****     if (opt == OS_OPT_TIME_MATCH) {                              /* Task time is absolute.         
 260              		.loc 1 218 0
 261 015c FB88     		ldrh	r3, [r7, #6]
 262 015e 042B     		cmp	r3, #4
 263 0160 2BD1     		bne	.L12
 219:Libraries/uC-OSIII/os_tick.c ****         tick_delta = time - OSTickCtr - 1u;
 264              		.loc 1 219 0
 265 0162 40F20003 		movw	r3, #:lower16:OSTickCtr
 266 0166 C0F20003 		movt	r3, #:upper16:OSTickCtr
 267 016a 1B68     		ldr	r3, [r3, #0]
 268 016c BA68     		ldr	r2, [r7, #8]
 269 016e D31A     		subs	r3, r2, r3
 270 0170 03F1FF33 		add	r3, r3, #-1
 271 0174 3B62     		str	r3, [r7, #32]
 220:Libraries/uC-OSIII/os_tick.c ****         if (tick_delta > OS_TICK_TH_RDY) {                       /* If delay already occurred, ... 
 272              		.loc 1 220 0
 273 0176 3B6A     		ldr	r3, [r7, #32]
 274 0178 13F5803F 		cmn	r3, #65536
 275 017c 12D9     		bls	.L13
 221:Libraries/uC-OSIII/os_tick.c ****             p_tcb->TickCtrMatch = (OS_TICK        )0u;
 276              		.loc 1 221 0
 277 017e FB68     		ldr	r3, [r7, #12]
 278 0180 4FF00002 		mov	r2, #0
 279 0184 C3F89020 		str	r2, [r3, #144]
 222:Libraries/uC-OSIII/os_tick.c ****             p_tcb->TickRemain   = (OS_TICK        )0u;
 280              		.loc 1 222 0
 281 0188 FB68     		ldr	r3, [r7, #12]
 282 018a 4FF00002 		mov	r2, #0
 283 018e C3F89420 		str	r2, [r3, #148]
 223:Libraries/uC-OSIII/os_tick.c ****             p_tcb->TickSpokePtr = (OS_TICK_SPOKE *)0;
 284              		.loc 1 223 0
 285 0192 FB68     		ldr	r3, [r7, #12]
 286 0194 4FF00002 		mov	r2, #0
 287 0198 DA61     		str	r2, [r3, #28]
 224:Libraries/uC-OSIII/os_tick.c ****            *p_err               =  OS_ERR_TIME_ZERO_DLY;         /* ... do NOT delay.              
 288              		.loc 1 224 0
 289 019a 3B68     		ldr	r3, [r7, #0]
 290 019c 47F27E22 		movw	r2, #29310
 291 01a0 1A80     		strh	r2, [r3, #0]	@ movhi
 225:Libraries/uC-OSIII/os_tick.c ****             return;
 292              		.loc 1 225 0
 293 01a2 00E1     		b	.L11
 294              	.L13:
 226:Libraries/uC-OSIII/os_tick.c ****         }
 227:Libraries/uC-OSIII/os_tick.c ****         p_tcb->TickCtrMatch = time;
 295              		.loc 1 227 0
 296 01a4 FB68     		ldr	r3, [r7, #12]
 297 01a6 BA68     		ldr	r2, [r7, #8]
 298 01a8 C3F89020 		str	r2, [r3, #144]
 228:Libraries/uC-OSIII/os_tick.c ****         p_tcb->TickRemain   = tick_delta + 1u;
 299              		.loc 1 228 0
 300 01ac 3B6A     		ldr	r3, [r7, #32]
 301 01ae 03F10102 		add	r2, r3, #1
 302 01b2 FB68     		ldr	r3, [r7, #12]
 303 01b4 C3F89420 		str	r2, [r3, #148]
 304 01b8 5DE0     		b	.L15
 305              	.L12:
 229:Libraries/uC-OSIII/os_tick.c **** 
 230:Libraries/uC-OSIII/os_tick.c ****     } else if (time > (OS_TICK)0u) {
 306              		.loc 1 230 0
 307 01ba BB68     		ldr	r3, [r7, #8]
 308 01bc 002B     		cmp	r3, #0
 309 01be 47D0     		beq	.L16
 231:Libraries/uC-OSIII/os_tick.c ****         if (opt == OS_OPT_TIME_PERIODIC) {                       /* Task time is periodic.         
 310              		.loc 1 231 0
 311 01c0 FB88     		ldrh	r3, [r7, #6]
 312 01c2 082B     		cmp	r3, #8
 313 01c4 35D1     		bne	.L17
 232:Libraries/uC-OSIII/os_tick.c ****             tick_next  = p_tcb->TickCtrPrev + time;
 314              		.loc 1 232 0
 315 01c6 FB68     		ldr	r3, [r7, #12]
 316 01c8 D3F88C20 		ldr	r2, [r3, #140]
 317 01cc BB68     		ldr	r3, [r7, #8]
 318 01ce D318     		adds	r3, r2, r3
 319 01d0 FB61     		str	r3, [r7, #28]
 233:Libraries/uC-OSIII/os_tick.c ****             tick_delta = tick_next - OSTickCtr - 1u;
 320              		.loc 1 233 0
 321 01d2 40F20003 		movw	r3, #:lower16:OSTickCtr
 322 01d6 C0F20003 		movt	r3, #:upper16:OSTickCtr
 323 01da 1B68     		ldr	r3, [r3, #0]
 324 01dc FA69     		ldr	r2, [r7, #28]
 325 01de D31A     		subs	r3, r2, r3
 326 01e0 03F1FF33 		add	r3, r3, #-1
 327 01e4 3B62     		str	r3, [r7, #32]
 234:Libraries/uC-OSIII/os_tick.c ****             if (tick_delta < time) {                             /* If next periodic delay did NOT 
 328              		.loc 1 234 0
 329 01e6 3A6A     		ldr	r2, [r7, #32]
 330 01e8 BB68     		ldr	r3, [r7, #8]
 331 01ea 9A42     		cmp	r2, r3
 332 01ec 04D2     		bcs	.L18
 235:Libraries/uC-OSIII/os_tick.c ****                 p_tcb->TickCtrMatch = tick_next;                 /* ... set  next  periodic delay; 
 333              		.loc 1 235 0
 334 01ee FB68     		ldr	r3, [r7, #12]
 335 01f0 FA69     		ldr	r2, [r7, #28]
 336 01f2 C3F89020 		str	r2, [r3, #144]
 337 01f6 09E0     		b	.L19
 338              	.L18:
 236:Libraries/uC-OSIII/os_tick.c ****             } else {
 237:Libraries/uC-OSIII/os_tick.c ****                 p_tcb->TickCtrMatch = OSTickCtr + time;          /* ... else reset periodic delay. 
 339              		.loc 1 237 0
 340 01f8 40F20003 		movw	r3, #:lower16:OSTickCtr
 341 01fc C0F20003 		movt	r3, #:upper16:OSTickCtr
 342 0200 1A68     		ldr	r2, [r3, #0]
 343 0202 BB68     		ldr	r3, [r7, #8]
 344 0204 D218     		adds	r2, r2, r3
 345 0206 FB68     		ldr	r3, [r7, #12]
 346 0208 C3F89020 		str	r2, [r3, #144]
 347              	.L19:
 238:Libraries/uC-OSIII/os_tick.c ****             }
 239:Libraries/uC-OSIII/os_tick.c ****             p_tcb->TickRemain   = p_tcb->TickCtrMatch - OSTickCtr;
 348              		.loc 1 239 0
 349 020c FB68     		ldr	r3, [r7, #12]
 350 020e D3F89020 		ldr	r2, [r3, #144]
 351 0212 40F20003 		movw	r3, #:lower16:OSTickCtr
 352 0216 C0F20003 		movt	r3, #:upper16:OSTickCtr
 353 021a 1B68     		ldr	r3, [r3, #0]
 354 021c D21A     		subs	r2, r2, r3
 355 021e FB68     		ldr	r3, [r7, #12]
 356 0220 C3F89420 		str	r2, [r3, #148]
 240:Libraries/uC-OSIII/os_tick.c ****             p_tcb->TickCtrPrev  = p_tcb->TickCtrMatch;
 357              		.loc 1 240 0
 358 0224 FB68     		ldr	r3, [r7, #12]
 359 0226 D3F89020 		ldr	r2, [r3, #144]
 360 022a FB68     		ldr	r3, [r7, #12]
 361 022c C3F88C20 		str	r2, [r3, #140]
 362 0230 21E0     		b	.L15
 363              	.L17:
 241:Libraries/uC-OSIII/os_tick.c **** 
 242:Libraries/uC-OSIII/os_tick.c ****         } else {                                                 /* Task time is relative to curren
 243:Libraries/uC-OSIII/os_tick.c ****             p_tcb->TickCtrMatch = OSTickCtr + time;
 364              		.loc 1 243 0
 365 0232 40F20003 		movw	r3, #:lower16:OSTickCtr
 366 0236 C0F20003 		movt	r3, #:upper16:OSTickCtr
 367 023a 1A68     		ldr	r2, [r3, #0]
 368 023c BB68     		ldr	r3, [r7, #8]
 369 023e D218     		adds	r2, r2, r3
 370 0240 FB68     		ldr	r3, [r7, #12]
 371 0242 C3F89020 		str	r2, [r3, #144]
 244:Libraries/uC-OSIII/os_tick.c ****             p_tcb->TickRemain   = time;
 372              		.loc 1 244 0
 373 0246 FB68     		ldr	r3, [r7, #12]
 374 0248 BA68     		ldr	r2, [r7, #8]
 375 024a C3F89420 		str	r2, [r3, #148]
 376 024e 12E0     		b	.L15
 377              	.L16:
 245:Libraries/uC-OSIII/os_tick.c ****         }
 246:Libraries/uC-OSIII/os_tick.c **** 
 247:Libraries/uC-OSIII/os_tick.c ****     } else {                                                     /* Zero time delay; ...           
 248:Libraries/uC-OSIII/os_tick.c ****         p_tcb->TickCtrMatch = (OS_TICK        )0u;
 378              		.loc 1 248 0
 379 0250 FB68     		ldr	r3, [r7, #12]
 380 0252 4FF00002 		mov	r2, #0
 381 0256 C3F89020 		str	r2, [r3, #144]
 249:Libraries/uC-OSIII/os_tick.c ****         p_tcb->TickRemain   = (OS_TICK        )0u;
 382              		.loc 1 249 0
 383 025a FB68     		ldr	r3, [r7, #12]
 384 025c 4FF00002 		mov	r2, #0
 385 0260 C3F89420 		str	r2, [r3, #148]
 250:Libraries/uC-OSIII/os_tick.c ****         p_tcb->TickSpokePtr = (OS_TICK_SPOKE *)0;
 386              		.loc 1 250 0
 387 0264 FB68     		ldr	r3, [r7, #12]
 388 0266 4FF00002 		mov	r2, #0
 389 026a DA61     		str	r2, [r3, #28]
 251:Libraries/uC-OSIII/os_tick.c ****        *p_err               =  OS_ERR_TIME_ZERO_DLY;             /* ... do NOT delay.              
 390              		.loc 1 251 0
 391 026c 3B68     		ldr	r3, [r7, #0]
 392 026e 47F27E22 		movw	r2, #29310
 393 0272 1A80     		strh	r2, [r3, #0]	@ movhi
 252:Libraries/uC-OSIII/os_tick.c ****         return;
 394              		.loc 1 252 0
 395 0274 97E0     		b	.L11
 396              	.L15:
 253:Libraries/uC-OSIII/os_tick.c ****     }
 254:Libraries/uC-OSIII/os_tick.c **** 
 255:Libraries/uC-OSIII/os_tick.c **** 
 256:Libraries/uC-OSIII/os_tick.c ****     spoke   = (OS_TICK_SPOKE_IX)(p_tcb->TickCtrMatch % OSCfg_TickWheelSize);
 397              		.loc 1 256 0
 398 0276 FB68     		ldr	r3, [r7, #12]
 399 0278 D3F89020 		ldr	r2, [r3, #144]
 400 027c 40F20003 		movw	r3, #:lower16:OSCfg_TickWheelSize
 401 0280 C0F20003 		movt	r3, #:upper16:OSCfg_TickWheelSize
 402 0284 1B88     		ldrh	r3, [r3, #0]
 403 0286 B2FBF3F1 		udiv	r1, r2, r3
 404 028a 03FB01F3 		mul	r3, r3, r1
 405 028e D31A     		subs	r3, r2, r3
 406 0290 7B83     		strh	r3, [r7, #26]	@ movhi
 257:Libraries/uC-OSIII/os_tick.c ****     p_spoke = &OSCfg_TickWheel[spoke];
 407              		.loc 1 257 0
 408 0292 7B8B     		ldrh	r3, [r7, #26]
 409 0294 4FEAC302 		lsl	r2, r3, #3
 410 0298 40F20003 		movw	r3, #:lower16:OSCfg_TickWheel
 411 029c C0F20003 		movt	r3, #:upper16:OSCfg_TickWheel
 412 02a0 D318     		adds	r3, r2, r3
 413 02a2 7B61     		str	r3, [r7, #20]
 258:Libraries/uC-OSIII/os_tick.c **** 
 259:Libraries/uC-OSIII/os_tick.c ****     if (p_spoke->NbrEntries == (OS_OBJ_QTY)0u) {                 /* First entry in the spoke       
 414              		.loc 1 259 0
 415 02a4 7B69     		ldr	r3, [r7, #20]
 416 02a6 9B88     		ldrh	r3, [r3, #4]
 417 02a8 002B     		cmp	r3, #0
 418 02aa 0FD1     		bne	.L20
 260:Libraries/uC-OSIII/os_tick.c ****         p_spoke->FirstPtr    =  p_tcb;
 419              		.loc 1 260 0
 420 02ac 7B69     		ldr	r3, [r7, #20]
 421 02ae FA68     		ldr	r2, [r7, #12]
 422 02b0 1A60     		str	r2, [r3, #0]
 261:Libraries/uC-OSIII/os_tick.c ****         p_tcb->TickNextPtr   = (OS_TCB   *)0;
 423              		.loc 1 261 0
 424 02b2 FB68     		ldr	r3, [r7, #12]
 425 02b4 4FF00002 		mov	r2, #0
 426 02b8 5A61     		str	r2, [r3, #20]
 262:Libraries/uC-OSIII/os_tick.c ****         p_tcb->TickPrevPtr   = (OS_TCB   *)0;
 427              		.loc 1 262 0
 428 02ba FB68     		ldr	r3, [r7, #12]
 429 02bc 4FF00002 		mov	r2, #0
 430 02c0 9A61     		str	r2, [r3, #24]
 263:Libraries/uC-OSIII/os_tick.c ****         p_spoke->NbrEntries  = (OS_OBJ_QTY)1u;
 431              		.loc 1 263 0
 432 02c2 7B69     		ldr	r3, [r7, #20]
 433 02c4 4FF00102 		mov	r2, #1
 434 02c8 9A80     		strh	r2, [r3, #4]	@ movhi
 435 02ca 5BE0     		b	.L21
 436              	.L20:
 264:Libraries/uC-OSIII/os_tick.c ****     } else {
 265:Libraries/uC-OSIII/os_tick.c ****         p_tcb1     = p_spoke->FirstPtr;                          /* Point to current first TCB in t
 437              		.loc 1 265 0
 438 02cc 7B69     		ldr	r3, [r7, #20]
 439 02ce 1B68     		ldr	r3, [r3, #0]
 440 02d0 7B62     		str	r3, [r7, #36]
 266:Libraries/uC-OSIII/os_tick.c ****         while (p_tcb1 != (OS_TCB *)0) {
 441              		.loc 1 266 0
 442 02d2 4DE0     		b	.L22
 443              	.L27:
 267:Libraries/uC-OSIII/os_tick.c ****             p_tcb1->TickRemain = p_tcb1->TickCtrMatch            /* Compute time remaining of curre
 444              		.loc 1 267 0
 445 02d4 7B6A     		ldr	r3, [r7, #36]
 446 02d6 D3F89020 		ldr	r2, [r3, #144]
 268:Libraries/uC-OSIII/os_tick.c ****                                - OSTickCtr;
 447              		.loc 1 268 0
 448 02da 40F20003 		movw	r3, #:lower16:OSTickCtr
 449 02de C0F20003 		movt	r3, #:upper16:OSTickCtr
 450 02e2 1B68     		ldr	r3, [r3, #0]
 451 02e4 D21A     		subs	r2, r2, r3
 267:Libraries/uC-OSIII/os_tick.c ****             p_tcb1->TickRemain = p_tcb1->TickCtrMatch            /* Compute time remaining of curre
 452              		.loc 1 267 0
 453 02e6 7B6A     		ldr	r3, [r7, #36]
 454 02e8 C3F89420 		str	r2, [r3, #148]
 269:Libraries/uC-OSIII/os_tick.c ****             if (p_tcb->TickRemain > p_tcb1->TickRemain) {        /* Do we need to insert AFTER curr
 455              		.loc 1 269 0
 456 02ec FB68     		ldr	r3, [r7, #12]
 457 02ee D3F89420 		ldr	r2, [r3, #148]
 458 02f2 7B6A     		ldr	r3, [r7, #36]
 459 02f4 D3F89430 		ldr	r3, [r3, #148]
 460 02f8 9A42     		cmp	r2, r3
 461 02fa 15D9     		bls	.L23
 270:Libraries/uC-OSIII/os_tick.c ****                 if (p_tcb1->TickNextPtr != (OS_TCB *)0) {        /* Yes, are we pointing at the las
 462              		.loc 1 270 0
 463 02fc 7B6A     		ldr	r3, [r7, #36]
 464 02fe 5B69     		ldr	r3, [r3, #20]
 465 0300 002B     		cmp	r3, #0
 466 0302 03D0     		beq	.L24
 271:Libraries/uC-OSIII/os_tick.c ****                     p_tcb1               =  p_tcb1->TickNextPtr; /* No,  Point to next TCB in the l
 467              		.loc 1 271 0
 468 0304 7B6A     		ldr	r3, [r7, #36]
 469 0306 5B69     		ldr	r3, [r3, #20]
 470 0308 7B62     		str	r3, [r7, #36]
 471 030a 31E0     		b	.L22
 472              	.L24:
 272:Libraries/uC-OSIII/os_tick.c ****                 } else {
 273:Libraries/uC-OSIII/os_tick.c ****                     p_tcb1->TickNextPtr  =  p_tcb;               /* Yes, TCB to add is now new last
 473              		.loc 1 273 0
 474 030c 7B6A     		ldr	r3, [r7, #36]
 475 030e FA68     		ldr	r2, [r7, #12]
 476 0310 5A61     		str	r2, [r3, #20]
 274:Libraries/uC-OSIII/os_tick.c ****                     p_tcb->TickPrevPtr   =  p_tcb1;
 477              		.loc 1 274 0
 478 0312 FB68     		ldr	r3, [r7, #12]
 479 0314 7A6A     		ldr	r2, [r7, #36]
 480 0316 9A61     		str	r2, [r3, #24]
 275:Libraries/uC-OSIII/os_tick.c ****                     p_tcb->TickNextPtr   = (OS_TCB *)0;
 481              		.loc 1 275 0
 482 0318 FB68     		ldr	r3, [r7, #12]
 483 031a 4FF00002 		mov	r2, #0
 484 031e 5A61     		str	r2, [r3, #20]
 276:Libraries/uC-OSIII/os_tick.c ****                     p_tcb1               = (OS_TCB *)0;          /* Break loop                     
 485              		.loc 1 276 0
 486 0320 4FF00003 		mov	r3, #0
 487 0324 7B62     		str	r3, [r7, #36]
 488 0326 23E0     		b	.L22
 489              	.L23:
 277:Libraries/uC-OSIII/os_tick.c ****                 }
 278:Libraries/uC-OSIII/os_tick.c ****             } else {                                             /* Insert before the current TCB  
 279:Libraries/uC-OSIII/os_tick.c ****                 if (p_tcb1->TickPrevPtr == (OS_TCB *)0) {        /* Are we inserting before the fir
 490              		.loc 1 279 0
 491 0328 7B6A     		ldr	r3, [r7, #36]
 492 032a 9B69     		ldr	r3, [r3, #24]
 493 032c 002B     		cmp	r3, #0
 494 032e 0DD1     		bne	.L25
 280:Libraries/uC-OSIII/os_tick.c ****                     p_tcb->TickPrevPtr   = (OS_TCB *)0;
 495              		.loc 1 280 0
 496 0330 FB68     		ldr	r3, [r7, #12]
 497 0332 4FF00002 		mov	r2, #0
 498 0336 9A61     		str	r2, [r3, #24]
 281:Libraries/uC-OSIII/os_tick.c ****                     p_tcb->TickNextPtr   =  p_tcb1;
 499              		.loc 1 281 0
 500 0338 FB68     		ldr	r3, [r7, #12]
 501 033a 7A6A     		ldr	r2, [r7, #36]
 502 033c 5A61     		str	r2, [r3, #20]
 282:Libraries/uC-OSIII/os_tick.c ****                     p_tcb1->TickPrevPtr  =  p_tcb;
 503              		.loc 1 282 0
 504 033e 7B6A     		ldr	r3, [r7, #36]
 505 0340 FA68     		ldr	r2, [r7, #12]
 506 0342 9A61     		str	r2, [r3, #24]
 283:Libraries/uC-OSIII/os_tick.c ****                     p_spoke->FirstPtr    =  p_tcb;
 507              		.loc 1 283 0
 508 0344 7B69     		ldr	r3, [r7, #20]
 509 0346 FA68     		ldr	r2, [r7, #12]
 510 0348 1A60     		str	r2, [r3, #0]
 511 034a 0EE0     		b	.L26
 512              	.L25:
 284:Libraries/uC-OSIII/os_tick.c ****                 } else {                                         /* Insert in between 2 TCBs alread
 285:Libraries/uC-OSIII/os_tick.c ****                     p_tcb0               =  p_tcb1->TickPrevPtr;
 513              		.loc 1 285 0
 514 034c 7B6A     		ldr	r3, [r7, #36]
 515 034e 9B69     		ldr	r3, [r3, #24]
 516 0350 3B61     		str	r3, [r7, #16]
 286:Libraries/uC-OSIII/os_tick.c ****                     p_tcb0->TickNextPtr  =  p_tcb;
 517              		.loc 1 286 0
 518 0352 3B69     		ldr	r3, [r7, #16]
 519 0354 FA68     		ldr	r2, [r7, #12]
 520 0356 5A61     		str	r2, [r3, #20]
 287:Libraries/uC-OSIII/os_tick.c ****                     p_tcb->TickPrevPtr   =  p_tcb0;
 521              		.loc 1 287 0
 522 0358 FB68     		ldr	r3, [r7, #12]
 523 035a 3A69     		ldr	r2, [r7, #16]
 524 035c 9A61     		str	r2, [r3, #24]
 288:Libraries/uC-OSIII/os_tick.c ****                     p_tcb->TickNextPtr   =  p_tcb1;
 525              		.loc 1 288 0
 526 035e FB68     		ldr	r3, [r7, #12]
 527 0360 7A6A     		ldr	r2, [r7, #36]
 528 0362 5A61     		str	r2, [r3, #20]
 289:Libraries/uC-OSIII/os_tick.c ****                     p_tcb1->TickPrevPtr  =  p_tcb;
 529              		.loc 1 289 0
 530 0364 7B6A     		ldr	r3, [r7, #36]
 531 0366 FA68     		ldr	r2, [r7, #12]
 532 0368 9A61     		str	r2, [r3, #24]
 533              	.L26:
 290:Libraries/uC-OSIII/os_tick.c ****                 }
 291:Libraries/uC-OSIII/os_tick.c ****                 p_tcb1 = (OS_TCB *)0;                            /* Break loop                     
 534              		.loc 1 291 0
 535 036a 4FF00003 		mov	r3, #0
 536 036e 7B62     		str	r3, [r7, #36]
 537              	.L22:
 266:Libraries/uC-OSIII/os_tick.c ****         while (p_tcb1 != (OS_TCB *)0) {
 538              		.loc 1 266 0 discriminator 1
 539 0370 7B6A     		ldr	r3, [r7, #36]
 540 0372 002B     		cmp	r3, #0
 541 0374 AED1     		bne	.L27
 292:Libraries/uC-OSIII/os_tick.c ****             }
 293:Libraries/uC-OSIII/os_tick.c ****         }
 294:Libraries/uC-OSIII/os_tick.c ****         p_spoke->NbrEntries++;
 542              		.loc 1 294 0
 543 0376 7B69     		ldr	r3, [r7, #20]
 544 0378 9B88     		ldrh	r3, [r3, #4]
 545 037a 03F10103 		add	r3, r3, #1
 546 037e 9AB2     		uxth	r2, r3
 547 0380 7B69     		ldr	r3, [r7, #20]
 548 0382 9A80     		strh	r2, [r3, #4]	@ movhi
 549              	.L21:
 295:Libraries/uC-OSIII/os_tick.c ****     }
 296:Libraries/uC-OSIII/os_tick.c ****     if (p_spoke->NbrEntries > p_spoke->NbrEntriesMax) {          /* Keep track of maximum # of entr
 550              		.loc 1 296 0
 551 0384 7B69     		ldr	r3, [r7, #20]
 552 0386 9A88     		ldrh	r2, [r3, #4]
 553 0388 7B69     		ldr	r3, [r7, #20]
 554 038a DB88     		ldrh	r3, [r3, #6]
 555 038c 9A42     		cmp	r2, r3
 556 038e 03D9     		bls	.L28
 297:Libraries/uC-OSIII/os_tick.c ****         p_spoke->NbrEntriesMax = p_spoke->NbrEntries;
 557              		.loc 1 297 0
 558 0390 7B69     		ldr	r3, [r7, #20]
 559 0392 9A88     		ldrh	r2, [r3, #4]
 560 0394 7B69     		ldr	r3, [r7, #20]
 561 0396 DA80     		strh	r2, [r3, #6]	@ movhi
 562              	.L28:
 298:Libraries/uC-OSIII/os_tick.c ****     }
 299:Libraries/uC-OSIII/os_tick.c ****     p_tcb->TickSpokePtr = p_spoke;                               /* Link back to tick spoke        
 563              		.loc 1 299 0
 564 0398 FB68     		ldr	r3, [r7, #12]
 565 039a 7A69     		ldr	r2, [r7, #20]
 566 039c DA61     		str	r2, [r3, #28]
 300:Libraries/uC-OSIII/os_tick.c ****    *p_err               = OS_ERR_NONE;
 567              		.loc 1 300 0
 568 039e 3B68     		ldr	r3, [r7, #0]
 569 03a0 4FF00002 		mov	r2, #0
 570 03a4 1A80     		strh	r2, [r3, #0]	@ movhi
 571              	.L11:
 301:Libraries/uC-OSIII/os_tick.c **** }
 572              		.loc 1 301 0
 573 03a6 07F12C07 		add	r7, r7, #44
 574 03aa BD46     		mov	sp, r7
 575 03ac 80BC     		pop	{r7}
 576 03ae 7047     		bx	lr
 577              		.cfi_endproc
 578              	.LFE3:
 580              		.align	2
 581              		.global	OS_TickListRemove
 582              		.thumb
 583              		.thumb_func
 585              	OS_TickListRemove:
 586              	.LFB4:
 302:Libraries/uC-OSIII/os_tick.c **** 
 303:Libraries/uC-OSIII/os_tick.c **** /*$PAGE*/
 304:Libraries/uC-OSIII/os_tick.c **** /*
 305:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
 306:Libraries/uC-OSIII/os_tick.c **** *                                         REMOVE A TASK FROM THE TICK LIST
 307:Libraries/uC-OSIII/os_tick.c **** *
 308:Libraries/uC-OSIII/os_tick.c **** * Description: This function is called to remove a task from the tick list
 309:Libraries/uC-OSIII/os_tick.c **** *
 310:Libraries/uC-OSIII/os_tick.c **** * Arguments  : p_tcb          Is a pointer to the OS_TCB to remove.
 311:Libraries/uC-OSIII/os_tick.c **** *              -----
 312:Libraries/uC-OSIII/os_tick.c **** *
 313:Libraries/uC-OSIII/os_tick.c **** * Returns    : none
 314:Libraries/uC-OSIII/os_tick.c **** *
 315:Libraries/uC-OSIII/os_tick.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
 316:Libraries/uC-OSIII/os_tick.c **** *
 317:Libraries/uC-OSIII/os_tick.c **** *              2) This function is assumed to be called with interrupts disabled.
 318:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
 319:Libraries/uC-OSIII/os_tick.c **** */
 320:Libraries/uC-OSIII/os_tick.c **** 
 321:Libraries/uC-OSIII/os_tick.c **** void  OS_TickListRemove (OS_TCB  *p_tcb)
 322:Libraries/uC-OSIII/os_tick.c **** {
 587              		.loc 1 322 0
 588              		.cfi_startproc
 589              		@ args = 0, pretend = 0, frame = 24
 590              		@ frame_needed = 1, uses_anonymous_args = 0
 591              		@ link register save eliminated.
 592 03b0 80B4     		push	{r7}
 593              	.LCFI12:
 594              		.cfi_def_cfa_offset 4
 595              		.cfi_offset 7, -4
 596 03b2 87B0     		sub	sp, sp, #28
 597              	.LCFI13:
 598              		.cfi_def_cfa_offset 32
 599 03b4 00AF     		add	r7, sp, #0
 600              	.LCFI14:
 601              		.cfi_def_cfa_register 7
 602 03b6 7860     		str	r0, [r7, #4]
 323:Libraries/uC-OSIII/os_tick.c ****     OS_TICK_SPOKE  *p_spoke;
 324:Libraries/uC-OSIII/os_tick.c ****     OS_TCB         *p_tcb1;
 325:Libraries/uC-OSIII/os_tick.c ****     OS_TCB         *p_tcb2;
 326:Libraries/uC-OSIII/os_tick.c **** 
 327:Libraries/uC-OSIII/os_tick.c **** 
 328:Libraries/uC-OSIII/os_tick.c **** 
 329:Libraries/uC-OSIII/os_tick.c ****     p_spoke = p_tcb->TickSpokePtr;
 603              		.loc 1 329 0
 604 03b8 7B68     		ldr	r3, [r7, #4]
 605 03ba DB69     		ldr	r3, [r3, #28]
 606 03bc 7B61     		str	r3, [r7, #20]
 330:Libraries/uC-OSIII/os_tick.c ****     if (p_spoke != (OS_TICK_SPOKE *)0) {                              /* Confirm that task is in ti
 607              		.loc 1 330 0
 608 03be 7B69     		ldr	r3, [r7, #20]
 609 03c0 002B     		cmp	r3, #0
 610 03c2 3ED0     		beq	.L29
 331:Libraries/uC-OSIII/os_tick.c ****         p_tcb->TickRemain = (OS_TICK)0u;
 611              		.loc 1 331 0
 612 03c4 7B68     		ldr	r3, [r7, #4]
 613 03c6 4FF00002 		mov	r2, #0
 614 03ca C3F89420 		str	r2, [r3, #148]
 332:Libraries/uC-OSIII/os_tick.c ****         if (p_spoke->FirstPtr == p_tcb) {                             /* Is timer to remove at the 
 615              		.loc 1 332 0
 616 03ce 7B69     		ldr	r3, [r7, #20]
 617 03d0 1A68     		ldr	r2, [r3, #0]
 618 03d2 7B68     		ldr	r3, [r7, #4]
 619 03d4 9A42     		cmp	r2, r3
 620 03d6 0DD1     		bne	.L31
 333:Libraries/uC-OSIII/os_tick.c ****             p_tcb1            = (OS_TCB *)p_tcb->TickNextPtr;         /* Yes                       
 621              		.loc 1 333 0
 622 03d8 7B68     		ldr	r3, [r7, #4]
 623 03da 5B69     		ldr	r3, [r3, #20]
 624 03dc 3B61     		str	r3, [r7, #16]
 334:Libraries/uC-OSIII/os_tick.c ****             p_spoke->FirstPtr = p_tcb1;
 625              		.loc 1 334 0
 626 03de 7B69     		ldr	r3, [r7, #20]
 627 03e0 3A69     		ldr	r2, [r7, #16]
 628 03e2 1A60     		str	r2, [r3, #0]
 335:Libraries/uC-OSIII/os_tick.c ****             if (p_tcb1 != (OS_TCB *)0) {
 629              		.loc 1 335 0
 630 03e4 3B69     		ldr	r3, [r7, #16]
 631 03e6 002B     		cmp	r3, #0
 632 03e8 13D0     		beq	.L32
 336:Libraries/uC-OSIII/os_tick.c ****                 p_tcb1->TickPrevPtr = (void *)0;
 633              		.loc 1 336 0
 634 03ea 3B69     		ldr	r3, [r7, #16]
 635 03ec 4FF00002 		mov	r2, #0
 636 03f0 9A61     		str	r2, [r3, #24]
 637 03f2 0EE0     		b	.L32
 638              	.L31:
 337:Libraries/uC-OSIII/os_tick.c ****             }
 338:Libraries/uC-OSIII/os_tick.c ****         } else {
 339:Libraries/uC-OSIII/os_tick.c ****             p_tcb1              = p_tcb->TickPrevPtr;                 /* No, remove timer from some
 639              		.loc 1 339 0
 640 03f4 7B68     		ldr	r3, [r7, #4]
 641 03f6 9B69     		ldr	r3, [r3, #24]
 642 03f8 3B61     		str	r3, [r7, #16]
 340:Libraries/uC-OSIII/os_tick.c ****             p_tcb2              = p_tcb->TickNextPtr;
 643              		.loc 1 340 0
 644 03fa 7B68     		ldr	r3, [r7, #4]
 645 03fc 5B69     		ldr	r3, [r3, #20]
 646 03fe FB60     		str	r3, [r7, #12]
 341:Libraries/uC-OSIII/os_tick.c ****             p_tcb1->TickNextPtr = p_tcb2;
 647              		.loc 1 341 0
 648 0400 3B69     		ldr	r3, [r7, #16]
 649 0402 FA68     		ldr	r2, [r7, #12]
 650 0404 5A61     		str	r2, [r3, #20]
 342:Libraries/uC-OSIII/os_tick.c ****             if (p_tcb2 != (OS_TCB *)0) {
 651              		.loc 1 342 0
 652 0406 FB68     		ldr	r3, [r7, #12]
 653 0408 002B     		cmp	r3, #0
 654 040a 02D0     		beq	.L32
 343:Libraries/uC-OSIII/os_tick.c ****                 p_tcb2->TickPrevPtr = p_tcb1;
 655              		.loc 1 343 0
 656 040c FB68     		ldr	r3, [r7, #12]
 657 040e 3A69     		ldr	r2, [r7, #16]
 658 0410 9A61     		str	r2, [r3, #24]
 659              	.L32:
 344:Libraries/uC-OSIII/os_tick.c ****             }
 345:Libraries/uC-OSIII/os_tick.c ****         }
 346:Libraries/uC-OSIII/os_tick.c ****         p_tcb->TickNextPtr  = (OS_TCB        *)0;
 660              		.loc 1 346 0
 661 0412 7B68     		ldr	r3, [r7, #4]
 662 0414 4FF00002 		mov	r2, #0
 663 0418 5A61     		str	r2, [r3, #20]
 347:Libraries/uC-OSIII/os_tick.c ****         p_tcb->TickPrevPtr  = (OS_TCB        *)0;
 664              		.loc 1 347 0
 665 041a 7B68     		ldr	r3, [r7, #4]
 666 041c 4FF00002 		mov	r2, #0
 667 0420 9A61     		str	r2, [r3, #24]
 348:Libraries/uC-OSIII/os_tick.c ****         p_tcb->TickSpokePtr = (OS_TICK_SPOKE *)0;
 668              		.loc 1 348 0
 669 0422 7B68     		ldr	r3, [r7, #4]
 670 0424 4FF00002 		mov	r2, #0
 671 0428 DA61     		str	r2, [r3, #28]
 349:Libraries/uC-OSIII/os_tick.c ****         p_tcb->TickCtrMatch = (OS_TICK        )0u;
 672              		.loc 1 349 0
 673 042a 7B68     		ldr	r3, [r7, #4]
 674 042c 4FF00002 		mov	r2, #0
 675 0430 C3F89020 		str	r2, [r3, #144]
 350:Libraries/uC-OSIII/os_tick.c ****         p_spoke->NbrEntries--;
 676              		.loc 1 350 0
 677 0434 7B69     		ldr	r3, [r7, #20]
 678 0436 9B88     		ldrh	r3, [r3, #4]
 679 0438 03F1FF33 		add	r3, r3, #-1
 680 043c 9AB2     		uxth	r2, r3
 681 043e 7B69     		ldr	r3, [r7, #20]
 682 0440 9A80     		strh	r2, [r3, #4]	@ movhi
 683              	.L29:
 351:Libraries/uC-OSIII/os_tick.c ****     }
 352:Libraries/uC-OSIII/os_tick.c **** }
 684              		.loc 1 352 0
 685 0442 07F11C07 		add	r7, r7, #28
 686 0446 BD46     		mov	sp, r7
 687 0448 80BC     		pop	{r7}
 688 044a 7047     		bx	lr
 689              		.cfi_endproc
 690              	.LFE4:
 692              		.align	2
 693              		.global	OS_TickListResetPeak
 694              		.thumb
 695              		.thumb_func
 697              	OS_TickListResetPeak:
 698              	.LFB5:
 353:Libraries/uC-OSIII/os_tick.c **** 
 354:Libraries/uC-OSIII/os_tick.c **** /*$PAGE*/
 355:Libraries/uC-OSIII/os_tick.c **** /*
 356:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
 357:Libraries/uC-OSIII/os_tick.c **** *                                              RESET TICK LIST PEAK DETECTOR
 358:Libraries/uC-OSIII/os_tick.c **** *
 359:Libraries/uC-OSIII/os_tick.c **** * Description: This function is used to reset the peak detector for the number of entries in each s
 360:Libraries/uC-OSIII/os_tick.c **** *
 361:Libraries/uC-OSIII/os_tick.c **** * Arguments  : void
 362:Libraries/uC-OSIII/os_tick.c **** *
 363:Libraries/uC-OSIII/os_tick.c **** * Returns    : none
 364:Libraries/uC-OSIII/os_tick.c **** *
 365:Libraries/uC-OSIII/os_tick.c **** * Note(s)    : This function is INTERNAL to uC/OS-III and your application should not call it.
 366:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
 367:Libraries/uC-OSIII/os_tick.c **** */
 368:Libraries/uC-OSIII/os_tick.c **** 
 369:Libraries/uC-OSIII/os_tick.c **** 
 370:Libraries/uC-OSIII/os_tick.c **** void  OS_TickListResetPeak (void)
 371:Libraries/uC-OSIII/os_tick.c **** {
 699              		.loc 1 371 0
 700              		.cfi_startproc
 701              		@ args = 0, pretend = 0, frame = 8
 702              		@ frame_needed = 1, uses_anonymous_args = 0
 703              		@ link register save eliminated.
 704 044c 80B4     		push	{r7}
 705              	.LCFI15:
 706              		.cfi_def_cfa_offset 4
 707              		.cfi_offset 7, -4
 708 044e 83B0     		sub	sp, sp, #12
 709              	.LCFI16:
 710              		.cfi_def_cfa_offset 16
 711 0450 00AF     		add	r7, sp, #0
 712              	.LCFI17:
 713              		.cfi_def_cfa_register 7
 372:Libraries/uC-OSIII/os_tick.c ****     OS_TICK_SPOKE_IX   i;
 373:Libraries/uC-OSIII/os_tick.c ****     OS_TICK_SPOKE     *p_spoke;
 374:Libraries/uC-OSIII/os_tick.c **** 
 375:Libraries/uC-OSIII/os_tick.c **** 
 376:Libraries/uC-OSIII/os_tick.c **** 
 377:Libraries/uC-OSIII/os_tick.c ****     for (i = 0u; i < OSCfg_TickWheelSize; i++) {
 714              		.loc 1 377 0
 715 0452 4FF00003 		mov	r3, #0
 716 0456 FB80     		strh	r3, [r7, #6]	@ movhi
 717 0458 10E0     		b	.L34
 718              	.L35:
 378:Libraries/uC-OSIII/os_tick.c ****         p_spoke                = (OS_TICK_SPOKE *)&OSCfg_TickWheel[i];
 719              		.loc 1 378 0 discriminator 2
 720 045a FB88     		ldrh	r3, [r7, #6]
 721 045c 4FEAC302 		lsl	r2, r3, #3
 722 0460 40F20003 		movw	r3, #:lower16:OSCfg_TickWheel
 723 0464 C0F20003 		movt	r3, #:upper16:OSCfg_TickWheel
 724 0468 D318     		adds	r3, r2, r3
 725 046a 3B60     		str	r3, [r7, #0]
 379:Libraries/uC-OSIII/os_tick.c ****         p_spoke->NbrEntriesMax = (OS_OBJ_QTY     )0u;
 726              		.loc 1 379 0 discriminator 2
 727 046c 3B68     		ldr	r3, [r7, #0]
 728 046e 4FF00002 		mov	r2, #0
 729 0472 DA80     		strh	r2, [r3, #6]	@ movhi
 377:Libraries/uC-OSIII/os_tick.c ****     for (i = 0u; i < OSCfg_TickWheelSize; i++) {
 730              		.loc 1 377 0 discriminator 2
 731 0474 FB88     		ldrh	r3, [r7, #6]	@ movhi
 732 0476 03F10103 		add	r3, r3, #1
 733 047a FB80     		strh	r3, [r7, #6]	@ movhi
 734              	.L34:
 377:Libraries/uC-OSIII/os_tick.c ****     for (i = 0u; i < OSCfg_TickWheelSize; i++) {
 735              		.loc 1 377 0 is_stmt 0 discriminator 1
 736 047c 40F20003 		movw	r3, #:lower16:OSCfg_TickWheelSize
 737 0480 C0F20003 		movt	r3, #:upper16:OSCfg_TickWheelSize
 738 0484 1B88     		ldrh	r3, [r3, #0]
 739 0486 FA88     		ldrh	r2, [r7, #6]
 740 0488 9A42     		cmp	r2, r3
 741 048a E6D3     		bcc	.L35
 380:Libraries/uC-OSIII/os_tick.c ****     }
 381:Libraries/uC-OSIII/os_tick.c **** }
 742              		.loc 1 381 0 is_stmt 1
 743 048c 07F10C07 		add	r7, r7, #12
 744 0490 BD46     		mov	sp, r7
 745 0492 80BC     		pop	{r7}
 746 0494 7047     		bx	lr
 747              		.cfi_endproc
 748              	.LFE5:
 750 0496 00BF     		.align	2
 751              		.global	OS_TickListUpdate
 752              		.thumb
 753              		.thumb_func
 755              	OS_TickListUpdate:
 756              	.LFB6:
 382:Libraries/uC-OSIII/os_tick.c **** 
 383:Libraries/uC-OSIII/os_tick.c **** /*$PAGE*/
 384:Libraries/uC-OSIII/os_tick.c **** /*
 385:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
 386:Libraries/uC-OSIII/os_tick.c **** *                                                UPDATE THE TICK LIST
 387:Libraries/uC-OSIII/os_tick.c **** *
 388:Libraries/uC-OSIII/os_tick.c **** * Description: This function is called when a tick occurs and determines if the timeout waiting for
 389:Libraries/uC-OSIII/os_tick.c **** *              expired or a delay has expired.
 390:Libraries/uC-OSIII/os_tick.c **** *
 391:Libraries/uC-OSIII/os_tick.c **** * Arguments  : non
 392:Libraries/uC-OSIII/os_tick.c **** *
 393:Libraries/uC-OSIII/os_tick.c **** * Returns    : none
 394:Libraries/uC-OSIII/os_tick.c **** *
 395:Libraries/uC-OSIII/os_tick.c **** * Note(s)    : 1) This function is INTERNAL to uC/OS-III and your application MUST NOT call it.
 396:Libraries/uC-OSIII/os_tick.c **** ***************************************************************************************************
 397:Libraries/uC-OSIII/os_tick.c **** */
 398:Libraries/uC-OSIII/os_tick.c **** 
 399:Libraries/uC-OSIII/os_tick.c **** void  OS_TickListUpdate (void)
 400:Libraries/uC-OSIII/os_tick.c **** {
 757              		.loc 1 400 0
 758              		.cfi_startproc
 759              		@ args = 0, pretend = 0, frame = 32
 760              		@ frame_needed = 1, uses_anonymous_args = 0
 761 0498 80B5     		push	{r7, lr}
 762              	.LCFI18:
 763              		.cfi_def_cfa_offset 8
 764              		.cfi_offset 14, -4
 765              		.cfi_offset 7, -8
 766 049a 88B0     		sub	sp, sp, #32
 767              	.LCFI19:
 768              		.cfi_def_cfa_offset 40
 769 049c 00AF     		add	r7, sp, #0
 770              	.LCFI20:
 771              		.cfi_def_cfa_register 7
 401:Libraries/uC-OSIII/os_tick.c ****     CPU_BOOLEAN        done;
 402:Libraries/uC-OSIII/os_tick.c ****     OS_TICK_SPOKE     *p_spoke;
 403:Libraries/uC-OSIII/os_tick.c ****     OS_TCB            *p_tcb;
 404:Libraries/uC-OSIII/os_tick.c ****     OS_TCB            *p_tcb_next;
 405:Libraries/uC-OSIII/os_tick.c ****     OS_TICK_SPOKE_IX   spoke;
 406:Libraries/uC-OSIII/os_tick.c ****     CPU_TS             ts_start;
 407:Libraries/uC-OSIII/os_tick.c ****     CPU_TS             ts_end;
 408:Libraries/uC-OSIII/os_tick.c ****     CPU_SR_ALLOC();
 772              		.loc 1 408 0
 773 049e 4FF00003 		mov	r3, #0
 774 04a2 7B61     		str	r3, [r7, #20]
 409:Libraries/uC-OSIII/os_tick.c **** 
 410:Libraries/uC-OSIII/os_tick.c **** 
 411:Libraries/uC-OSIII/os_tick.c ****     OS_CRITICAL_ENTER();
 775              		.loc 1 411 0
 776 04a4 FFF7FEFF 		bl	CPU_SR_Save
 777 04a8 7861     		str	r0, [r7, #20]
 778 04aa FFF7FEFF 		bl	CPU_IntDisMeasStart
 779 04ae 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 780 04b2 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 781 04b6 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 782 04b8 03F10103 		add	r3, r3, #1
 783 04bc DAB2     		uxtb	r2, r3
 784 04be 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 785 04c2 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 786 04c6 1A70     		strb	r2, [r3, #0]
 787 04c8 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 788 04cc C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 789 04d0 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 790 04d2 012B     		cmp	r3, #1
 791 04d4 01D1     		bne	.L37
 792              		.loc 1 411 0 is_stmt 0 discriminator 1
 793 04d6 FFF7FEFF 		bl	OS_SchedLockTimeMeasStart
 794              	.L37:
 795              		.loc 1 411 0 discriminator 2
 796 04da FFF7FEFF 		bl	CPU_IntDisMeasStop
 797 04de 7869     		ldr	r0, [r7, #20]
 798 04e0 FFF7FEFF 		bl	CPU_SR_Restore
 412:Libraries/uC-OSIII/os_tick.c ****     ts_start = OS_TS_GET();
 799              		.loc 1 412 0 is_stmt 1 discriminator 2
 800 04e4 FFF7FEFF 		bl	CPU_TS_TmrRd
 801 04e8 3861     		str	r0, [r7, #16]
 413:Libraries/uC-OSIII/os_tick.c ****     OSTickCtr++;                                                       /* Keep track of the number 
 802              		.loc 1 413 0 discriminator 2
 803 04ea 40F20003 		movw	r3, #:lower16:OSTickCtr
 804 04ee C0F20003 		movt	r3, #:upper16:OSTickCtr
 805 04f2 1B68     		ldr	r3, [r3, #0]
 806 04f4 03F10102 		add	r2, r3, #1
 807 04f8 40F20003 		movw	r3, #:lower16:OSTickCtr
 808 04fc C0F20003 		movt	r3, #:upper16:OSTickCtr
 809 0500 1A60     		str	r2, [r3, #0]
 414:Libraries/uC-OSIII/os_tick.c ****     spoke    = (OS_TICK_SPOKE_IX)(OSTickCtr % OSCfg_TickWheelSize);
 810              		.loc 1 414 0 discriminator 2
 811 0502 40F20003 		movw	r3, #:lower16:OSTickCtr
 812 0506 C0F20003 		movt	r3, #:upper16:OSTickCtr
 813 050a 1A68     		ldr	r2, [r3, #0]
 814 050c 40F20003 		movw	r3, #:lower16:OSCfg_TickWheelSize
 815 0510 C0F20003 		movt	r3, #:upper16:OSCfg_TickWheelSize
 816 0514 1B88     		ldrh	r3, [r3, #0]
 817 0516 B2FBF3F1 		udiv	r1, r2, r3
 818 051a 03FB01F3 		mul	r3, r3, r1
 819 051e D31A     		subs	r3, r2, r3
 820 0520 FB81     		strh	r3, [r7, #14]	@ movhi
 415:Libraries/uC-OSIII/os_tick.c ****     p_spoke  = &OSCfg_TickWheel[spoke];
 821              		.loc 1 415 0 discriminator 2
 822 0522 FB89     		ldrh	r3, [r7, #14]
 823 0524 4FEAC302 		lsl	r2, r3, #3
 824 0528 40F20003 		movw	r3, #:lower16:OSCfg_TickWheel
 825 052c C0F20003 		movt	r3, #:upper16:OSCfg_TickWheel
 826 0530 D318     		adds	r3, r2, r3
 827 0532 BB60     		str	r3, [r7, #8]
 416:Libraries/uC-OSIII/os_tick.c ****     p_tcb    = p_spoke->FirstPtr;
 828              		.loc 1 416 0 discriminator 2
 829 0534 BB68     		ldr	r3, [r7, #8]
 830 0536 1B68     		ldr	r3, [r3, #0]
 831 0538 BB61     		str	r3, [r7, #24]
 417:Libraries/uC-OSIII/os_tick.c ****     done     = DEF_FALSE;
 832              		.loc 1 417 0 discriminator 2
 833 053a 4FF00003 		mov	r3, #0
 834 053e FB77     		strb	r3, [r7, #31]
 418:Libraries/uC-OSIII/os_tick.c ****     while (done == DEF_FALSE) {
 835              		.loc 1 418 0 discriminator 2
 836 0540 E9E0     		b	.L38
 837              	.L56:
 419:Libraries/uC-OSIII/os_tick.c ****         if (p_tcb != (OS_TCB *)0) {
 838              		.loc 1 419 0
 839 0542 BB69     		ldr	r3, [r7, #24]
 840 0544 002B     		cmp	r3, #0
 841 0546 00F0E380 		beq	.L39
 420:Libraries/uC-OSIII/os_tick.c ****             p_tcb_next = p_tcb->TickNextPtr;                           /* Point to next TCB to upda
 842              		.loc 1 420 0
 843 054a BB69     		ldr	r3, [r7, #24]
 844 054c 5B69     		ldr	r3, [r3, #20]
 845 054e 7B60     		str	r3, [r7, #4]
 421:Libraries/uC-OSIII/os_tick.c ****             switch (p_tcb->TaskState) {
 846              		.loc 1 421 0
 847 0550 BB69     		ldr	r3, [r7, #24]
 848 0552 93F8C230 		ldrb	r3, [r3, #194]	@ zero_extendqisi2
 849 0556 072B     		cmp	r3, #7
 850 0558 00F2D680 		bhi	.L61
 851 055c 01A2     		adr	r2, .L46
 852 055e 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 853 0562 00BF     		.align	2
 854              	.L46:
 855 0564 09070000 		.word	.L61+1
 856 0568 85050000 		.word	.L42+1
 857 056c 09070000 		.word	.L61+1
 858 0570 CB050000 		.word	.L43+1
 859 0574 09070000 		.word	.L61+1
 860 0578 47060000 		.word	.L44+1
 861 057c 09070000 		.word	.L61+1
 862 0580 8D060000 		.word	.L45+1
 863              	.L42:
 422:Libraries/uC-OSIII/os_tick.c ****                 case OS_TASK_STATE_RDY:
 423:Libraries/uC-OSIII/os_tick.c ****                 case OS_TASK_STATE_PEND:
 424:Libraries/uC-OSIII/os_tick.c ****                 case OS_TASK_STATE_SUSPENDED:
 425:Libraries/uC-OSIII/os_tick.c ****                 case OS_TASK_STATE_PEND_SUSPENDED:
 426:Libraries/uC-OSIII/os_tick.c ****                      break;
 427:Libraries/uC-OSIII/os_tick.c **** 
 428:Libraries/uC-OSIII/os_tick.c ****                 case OS_TASK_STATE_DLY:
 429:Libraries/uC-OSIII/os_tick.c ****                      p_tcb->TickRemain = p_tcb->TickCtrMatch           /* Compute time remaining of
 864              		.loc 1 429 0
 865 0584 BB69     		ldr	r3, [r7, #24]
 866 0586 D3F89020 		ldr	r2, [r3, #144]
 430:Libraries/uC-OSIII/os_tick.c ****                                        - OSTickCtr;
 867              		.loc 1 430 0
 868 058a 40F20003 		movw	r3, #:lower16:OSTickCtr
 869 058e C0F20003 		movt	r3, #:upper16:OSTickCtr
 870 0592 1B68     		ldr	r3, [r3, #0]
 871 0594 D21A     		subs	r2, r2, r3
 429:Libraries/uC-OSIII/os_tick.c ****                      p_tcb->TickRemain = p_tcb->TickCtrMatch           /* Compute time remaining of
 872              		.loc 1 429 0
 873 0596 BB69     		ldr	r3, [r7, #24]
 874 0598 C3F89420 		str	r2, [r3, #148]
 431:Libraries/uC-OSIII/os_tick.c ****                      if (OSTickCtr == p_tcb->TickCtrMatch) {           /* Process each TCB that exp
 875              		.loc 1 431 0
 876 059c BB69     		ldr	r3, [r7, #24]
 877 059e D3F89020 		ldr	r2, [r3, #144]
 878 05a2 40F20003 		movw	r3, #:lower16:OSTickCtr
 879 05a6 C0F20003 		movt	r3, #:upper16:OSTickCtr
 880 05aa 1B68     		ldr	r3, [r3, #0]
 881 05ac 9A42     		cmp	r2, r3
 882 05ae 08D1     		bne	.L48
 432:Libraries/uC-OSIII/os_tick.c ****                          p_tcb->TaskState = OS_TASK_STATE_RDY;
 883              		.loc 1 432 0
 884 05b0 BB69     		ldr	r3, [r7, #24]
 885 05b2 4FF00002 		mov	r2, #0
 886 05b6 83F8C220 		strb	r2, [r3, #194]
 433:Libraries/uC-OSIII/os_tick.c ****                          OS_TaskRdy(p_tcb);                            /* Make task ready to run   
 887              		.loc 1 433 0
 888 05ba B869     		ldr	r0, [r7, #24]
 889 05bc FFF7FEFF 		bl	OS_TaskRdy
 434:Libraries/uC-OSIII/os_tick.c ****                      } else {
 435:Libraries/uC-OSIII/os_tick.c ****                          done             = DEF_TRUE;                  /* Don't find a match, we're
 436:Libraries/uC-OSIII/os_tick.c ****                      }
 437:Libraries/uC-OSIII/os_tick.c ****                      break;
 890              		.loc 1 437 0
 891 05c0 A3E0     		b	.L47
 892              	.L48:
 435:Libraries/uC-OSIII/os_tick.c ****                          done             = DEF_TRUE;                  /* Don't find a match, we're
 893              		.loc 1 435 0
 894 05c2 4FF00103 		mov	r3, #1
 895 05c6 FB77     		strb	r3, [r7, #31]
 896              		.loc 1 437 0
 897 05c8 9FE0     		b	.L47
 898              	.L43:
 438:Libraries/uC-OSIII/os_tick.c **** 
 439:Libraries/uC-OSIII/os_tick.c ****                 case OS_TASK_STATE_PEND_TIMEOUT:
 440:Libraries/uC-OSIII/os_tick.c ****                      p_tcb->TickRemain = p_tcb->TickCtrMatch           /* Compute time remaining of
 899              		.loc 1 440 0
 900 05ca BB69     		ldr	r3, [r7, #24]
 901 05cc D3F89020 		ldr	r2, [r3, #144]
 441:Libraries/uC-OSIII/os_tick.c ****                                        - OSTickCtr;
 902              		.loc 1 441 0
 903 05d0 40F20003 		movw	r3, #:lower16:OSTickCtr
 904 05d4 C0F20003 		movt	r3, #:upper16:OSTickCtr
 905 05d8 1B68     		ldr	r3, [r3, #0]
 906 05da D21A     		subs	r2, r2, r3
 440:Libraries/uC-OSIII/os_tick.c ****                      p_tcb->TickRemain = p_tcb->TickCtrMatch           /* Compute time remaining of
 907              		.loc 1 440 0
 908 05dc BB69     		ldr	r3, [r7, #24]
 909 05de C3F89420 		str	r2, [r3, #148]
 442:Libraries/uC-OSIII/os_tick.c ****                      if (OSTickCtr == p_tcb->TickCtrMatch) {           /* Process each TCB that exp
 910              		.loc 1 442 0
 911 05e2 BB69     		ldr	r3, [r7, #24]
 912 05e4 D3F89020 		ldr	r2, [r3, #144]
 913 05e8 40F20003 		movw	r3, #:lower16:OSTickCtr
 914 05ec C0F20003 		movt	r3, #:upper16:OSTickCtr
 915 05f0 1B68     		ldr	r3, [r3, #0]
 916 05f2 9A42     		cmp	r2, r3
 917 05f4 23D1     		bne	.L50
 443:Libraries/uC-OSIII/os_tick.c **** #if (OS_MSG_EN > 0u)
 444:Libraries/uC-OSIII/os_tick.c ****                          p_tcb->MsgPtr     = (void      *)0;
 918              		.loc 1 444 0
 919 05f6 BB69     		ldr	r3, [r7, #24]
 920 05f8 4FF00002 		mov	r2, #0
 921 05fc DA63     		str	r2, [r3, #60]
 445:Libraries/uC-OSIII/os_tick.c ****                          p_tcb->MsgSize    = (OS_MSG_SIZE)0u;
 922              		.loc 1 445 0
 923 05fe BB69     		ldr	r3, [r7, #24]
 924 0600 4FF00002 		mov	r2, #0
 925 0604 A3F84020 		strh	r2, [r3, #64]	@ movhi
 446:Libraries/uC-OSIII/os_tick.c **** #endif
 447:Libraries/uC-OSIII/os_tick.c ****                          p_tcb->TS         = OS_TS_GET();
 926              		.loc 1 447 0
 927 0608 FFF7FEFF 		bl	CPU_TS_TmrRd
 928 060c 0246     		mov	r2, r0
 929 060e BB69     		ldr	r3, [r7, #24]
 930 0610 9A63     		str	r2, [r3, #56]
 448:Libraries/uC-OSIII/os_tick.c ****                          OS_PendListRemove(p_tcb);                     /* Remove from wait list    
 931              		.loc 1 448 0
 932 0612 B869     		ldr	r0, [r7, #24]
 933 0614 FFF7FEFF 		bl	OS_PendListRemove
 449:Libraries/uC-OSIII/os_tick.c ****                          OS_TaskRdy(p_tcb);
 934              		.loc 1 449 0
 935 0618 B869     		ldr	r0, [r7, #24]
 936 061a FFF7FEFF 		bl	OS_TaskRdy
 450:Libraries/uC-OSIII/os_tick.c ****                          p_tcb->TaskState  = OS_TASK_STATE_RDY;
 937              		.loc 1 450 0
 938 061e BB69     		ldr	r3, [r7, #24]
 939 0620 4FF00002 		mov	r2, #0
 940 0624 83F8C220 		strb	r2, [r3, #194]
 451:Libraries/uC-OSIII/os_tick.c ****                          p_tcb->PendStatus = OS_STATUS_PEND_TIMEOUT;   /* Indicate pend timed out  
 941              		.loc 1 451 0
 942 0628 BB69     		ldr	r3, [r7, #24]
 943 062a 4FF00302 		mov	r2, #3
 944 062e 83F8C120 		strb	r2, [r3, #193]
 452:Libraries/uC-OSIII/os_tick.c ****                          p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;  /* Indicate no longer pendin
 945              		.loc 1 452 0
 946 0632 BB69     		ldr	r3, [r7, #24]
 947 0634 4FF00002 		mov	r2, #0
 948 0638 83F8C020 		strb	r2, [r3, #192]
 453:Libraries/uC-OSIII/os_tick.c ****                      } else {
 454:Libraries/uC-OSIII/os_tick.c ****                          done              = DEF_TRUE;                 /* Don't find a match, we're
 455:Libraries/uC-OSIII/os_tick.c ****                      }
 456:Libraries/uC-OSIII/os_tick.c ****                      break;
 949              		.loc 1 456 0
 950 063c 65E0     		b	.L47
 951              	.L50:
 454:Libraries/uC-OSIII/os_tick.c ****                          done              = DEF_TRUE;                 /* Don't find a match, we're
 952              		.loc 1 454 0
 953 063e 4FF00103 		mov	r3, #1
 954 0642 FB77     		strb	r3, [r7, #31]
 955              		.loc 1 456 0
 956 0644 61E0     		b	.L47
 957              	.L44:
 457:Libraries/uC-OSIII/os_tick.c **** 
 458:Libraries/uC-OSIII/os_tick.c ****                 case OS_TASK_STATE_DLY_SUSPENDED:
 459:Libraries/uC-OSIII/os_tick.c ****                      p_tcb->TickRemain = p_tcb->TickCtrMatch           /* Compute time remaining of
 958              		.loc 1 459 0
 959 0646 BB69     		ldr	r3, [r7, #24]
 960 0648 D3F89020 		ldr	r2, [r3, #144]
 460:Libraries/uC-OSIII/os_tick.c ****                                        - OSTickCtr;
 961              		.loc 1 460 0
 962 064c 40F20003 		movw	r3, #:lower16:OSTickCtr
 963 0650 C0F20003 		movt	r3, #:upper16:OSTickCtr
 964 0654 1B68     		ldr	r3, [r3, #0]
 965 0656 D21A     		subs	r2, r2, r3
 459:Libraries/uC-OSIII/os_tick.c ****                      p_tcb->TickRemain = p_tcb->TickCtrMatch           /* Compute time remaining of
 966              		.loc 1 459 0
 967 0658 BB69     		ldr	r3, [r7, #24]
 968 065a C3F89420 		str	r2, [r3, #148]
 461:Libraries/uC-OSIII/os_tick.c ****                      if (OSTickCtr == p_tcb->TickCtrMatch) {           /* Process each TCB that exp
 969              		.loc 1 461 0
 970 065e BB69     		ldr	r3, [r7, #24]
 971 0660 D3F89020 		ldr	r2, [r3, #144]
 972 0664 40F20003 		movw	r3, #:lower16:OSTickCtr
 973 0668 C0F20003 		movt	r3, #:upper16:OSTickCtr
 974 066c 1B68     		ldr	r3, [r3, #0]
 975 066e 9A42     		cmp	r2, r3
 976 0670 08D1     		bne	.L52
 462:Libraries/uC-OSIII/os_tick.c ****                          p_tcb->TaskState  = OS_TASK_STATE_SUSPENDED;
 977              		.loc 1 462 0
 978 0672 BB69     		ldr	r3, [r7, #24]
 979 0674 4FF00402 		mov	r2, #4
 980 0678 83F8C220 		strb	r2, [r3, #194]
 463:Libraries/uC-OSIII/os_tick.c ****                          OS_TickListRemove(p_tcb);                     /* Remove from current wheel
 981              		.loc 1 463 0
 982 067c B869     		ldr	r0, [r7, #24]
 983 067e FFF7FEFF 		bl	OS_TickListRemove
 464:Libraries/uC-OSIII/os_tick.c ****                      } else {
 465:Libraries/uC-OSIII/os_tick.c ****                          done              = DEF_TRUE;                 /* Don't find a match, we're
 466:Libraries/uC-OSIII/os_tick.c ****                      }
 467:Libraries/uC-OSIII/os_tick.c ****                      break;
 984              		.loc 1 467 0
 985 0682 42E0     		b	.L47
 986              	.L52:
 465:Libraries/uC-OSIII/os_tick.c ****                          done              = DEF_TRUE;                 /* Don't find a match, we're
 987              		.loc 1 465 0
 988 0684 4FF00103 		mov	r3, #1
 989 0688 FB77     		strb	r3, [r7, #31]
 990              		.loc 1 467 0
 991 068a 3EE0     		b	.L47
 992              	.L45:
 468:Libraries/uC-OSIII/os_tick.c **** 
 469:Libraries/uC-OSIII/os_tick.c ****                 case OS_TASK_STATE_PEND_TIMEOUT_SUSPENDED:
 470:Libraries/uC-OSIII/os_tick.c ****                      p_tcb->TickRemain = p_tcb->TickCtrMatch           /* Compute time remaining of
 993              		.loc 1 470 0
 994 068c BB69     		ldr	r3, [r7, #24]
 995 068e D3F89020 		ldr	r2, [r3, #144]
 471:Libraries/uC-OSIII/os_tick.c ****                                        - OSTickCtr;
 996              		.loc 1 471 0
 997 0692 40F20003 		movw	r3, #:lower16:OSTickCtr
 998 0696 C0F20003 		movt	r3, #:upper16:OSTickCtr
 999 069a 1B68     		ldr	r3, [r3, #0]
 1000 069c D21A     		subs	r2, r2, r3
 470:Libraries/uC-OSIII/os_tick.c ****                      p_tcb->TickRemain = p_tcb->TickCtrMatch           /* Compute time remaining of
 1001              		.loc 1 470 0
 1002 069e BB69     		ldr	r3, [r7, #24]
 1003 06a0 C3F89420 		str	r2, [r3, #148]
 472:Libraries/uC-OSIII/os_tick.c ****                      if (OSTickCtr == p_tcb->TickCtrMatch) {           /* Process each TCB that exp
 1004              		.loc 1 472 0
 1005 06a4 BB69     		ldr	r3, [r7, #24]
 1006 06a6 D3F89020 		ldr	r2, [r3, #144]
 1007 06aa 40F20003 		movw	r3, #:lower16:OSTickCtr
 1008 06ae C0F20003 		movt	r3, #:upper16:OSTickCtr
 1009 06b2 1B68     		ldr	r3, [r3, #0]
 1010 06b4 9A42     		cmp	r2, r3
 1011 06b6 23D1     		bne	.L54
 473:Libraries/uC-OSIII/os_tick.c **** #if (OS_MSG_EN > 0u)
 474:Libraries/uC-OSIII/os_tick.c ****                          p_tcb->MsgPtr     = (void      *)0;
 1012              		.loc 1 474 0
 1013 06b8 BB69     		ldr	r3, [r7, #24]
 1014 06ba 4FF00002 		mov	r2, #0
 1015 06be DA63     		str	r2, [r3, #60]
 475:Libraries/uC-OSIII/os_tick.c ****                          p_tcb->MsgSize    = (OS_MSG_SIZE)0u;
 1016              		.loc 1 475 0
 1017 06c0 BB69     		ldr	r3, [r7, #24]
 1018 06c2 4FF00002 		mov	r2, #0
 1019 06c6 A3F84020 		strh	r2, [r3, #64]	@ movhi
 476:Libraries/uC-OSIII/os_tick.c **** #endif
 477:Libraries/uC-OSIII/os_tick.c ****                          p_tcb->TS         = OS_TS_GET();
 1020              		.loc 1 477 0
 1021 06ca FFF7FEFF 		bl	CPU_TS_TmrRd
 1022 06ce 0246     		mov	r2, r0
 1023 06d0 BB69     		ldr	r3, [r7, #24]
 1024 06d2 9A63     		str	r2, [r3, #56]
 478:Libraries/uC-OSIII/os_tick.c ****                          OS_PendListRemove(p_tcb);                     /* Remove from wait list    
 1025              		.loc 1 478 0
 1026 06d4 B869     		ldr	r0, [r7, #24]
 1027 06d6 FFF7FEFF 		bl	OS_PendListRemove
 479:Libraries/uC-OSIII/os_tick.c ****                          OS_TickListRemove(p_tcb);                     /* Remove from current wheel
 1028              		.loc 1 479 0
 1029 06da B869     		ldr	r0, [r7, #24]
 1030 06dc FFF7FEFF 		bl	OS_TickListRemove
 480:Libraries/uC-OSIII/os_tick.c ****                          p_tcb->TaskState  = OS_TASK_STATE_SUSPENDED;
 1031              		.loc 1 480 0
 1032 06e0 BB69     		ldr	r3, [r7, #24]
 1033 06e2 4FF00402 		mov	r2, #4
 1034 06e6 83F8C220 		strb	r2, [r3, #194]
 481:Libraries/uC-OSIII/os_tick.c ****                          p_tcb->PendStatus = OS_STATUS_PEND_TIMEOUT;   /* Indicate pend timed out  
 1035              		.loc 1 481 0
 1036 06ea BB69     		ldr	r3, [r7, #24]
 1037 06ec 4FF00302 		mov	r2, #3
 1038 06f0 83F8C120 		strb	r2, [r3, #193]
 482:Libraries/uC-OSIII/os_tick.c ****                          p_tcb->PendOn     = OS_TASK_PEND_ON_NOTHING;  /* Indicate no longer pendin
 1039              		.loc 1 482 0
 1040 06f4 BB69     		ldr	r3, [r7, #24]
 1041 06f6 4FF00002 		mov	r2, #0
 1042 06fa 83F8C020 		strb	r2, [r3, #192]
 483:Libraries/uC-OSIII/os_tick.c ****                      } else {
 484:Libraries/uC-OSIII/os_tick.c ****                          done              = DEF_TRUE;                 /* Don't find a match, we're
 485:Libraries/uC-OSIII/os_tick.c ****                      }
 486:Libraries/uC-OSIII/os_tick.c ****                      break;
 1043              		.loc 1 486 0
 1044 06fe 04E0     		b	.L47
 1045              	.L54:
 484:Libraries/uC-OSIII/os_tick.c ****                          done              = DEF_TRUE;                 /* Don't find a match, we're
 1046              		.loc 1 484 0
 1047 0700 4FF00103 		mov	r3, #1
 1048 0704 FB77     		strb	r3, [r7, #31]
 1049              		.loc 1 486 0
 1050 0706 00E0     		b	.L47
 1051              	.L61:
 487:Libraries/uC-OSIII/os_tick.c **** 
 488:Libraries/uC-OSIII/os_tick.c ****                 default:
 489:Libraries/uC-OSIII/os_tick.c ****                      break;
 1052              		.loc 1 489 0
 1053 0708 00BF     		nop
 1054              	.L47:
 490:Libraries/uC-OSIII/os_tick.c ****             }
 491:Libraries/uC-OSIII/os_tick.c ****             p_tcb = p_tcb_next;
 1055              		.loc 1 491 0
 1056 070a 7B68     		ldr	r3, [r7, #4]
 1057 070c BB61     		str	r3, [r7, #24]
 1058 070e 02E0     		b	.L38
 1059              	.L39:
 492:Libraries/uC-OSIII/os_tick.c ****         } else {
 493:Libraries/uC-OSIII/os_tick.c ****             done  = DEF_TRUE;
 1060              		.loc 1 493 0
 1061 0710 4FF00103 		mov	r3, #1
 1062 0714 FB77     		strb	r3, [r7, #31]
 1063              	.L38:
 418:Libraries/uC-OSIII/os_tick.c ****     while (done == DEF_FALSE) {
 1064              		.loc 1 418 0 discriminator 1
 1065 0716 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1066 0718 002B     		cmp	r3, #0
 1067 071a 3FF412AF 		beq	.L56
 494:Libraries/uC-OSIII/os_tick.c ****         }
 495:Libraries/uC-OSIII/os_tick.c ****     }
 496:Libraries/uC-OSIII/os_tick.c ****     ts_end = OS_TS_GET() - ts_start;                                   /* Measure execution time of
 1068              		.loc 1 496 0
 1069 071e FFF7FEFF 		bl	CPU_TS_TmrRd
 1070 0722 0246     		mov	r2, r0
 1071 0724 3B69     		ldr	r3, [r7, #16]
 1072 0726 D31A     		subs	r3, r2, r3
 1073 0728 3B60     		str	r3, [r7, #0]
 497:Libraries/uC-OSIII/os_tick.c ****     if (ts_end > OSTickTaskTimeMax) {
 1074              		.loc 1 497 0
 1075 072a 40F20003 		movw	r3, #:lower16:OSTickTaskTimeMax
 1076 072e C0F20003 		movt	r3, #:upper16:OSTickTaskTimeMax
 1077 0732 1B68     		ldr	r3, [r3, #0]
 1078 0734 3A68     		ldr	r2, [r7, #0]
 1079 0736 9A42     		cmp	r2, r3
 1080 0738 05D9     		bls	.L57
 498:Libraries/uC-OSIII/os_tick.c ****         OSTickTaskTimeMax = ts_end;
 1081              		.loc 1 498 0
 1082 073a 40F20003 		movw	r3, #:lower16:OSTickTaskTimeMax
 1083 073e C0F20003 		movt	r3, #:upper16:OSTickTaskTimeMax
 1084 0742 3A68     		ldr	r2, [r7, #0]
 1085 0744 1A60     		str	r2, [r3, #0]
 1086              	.L57:
 499:Libraries/uC-OSIII/os_tick.c ****     }
 500:Libraries/uC-OSIII/os_tick.c ****     OS_CRITICAL_EXIT();
 1087              		.loc 1 500 0
 1088 0746 FFF7FEFF 		bl	CPU_SR_Save
 1089 074a 7861     		str	r0, [r7, #20]
 1090 074c FFF7FEFF 		bl	CPU_IntDisMeasStart
 1091 0750 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1092 0754 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1093 0758 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1094 075a 03F1FF33 		add	r3, r3, #-1
 1095 075e DAB2     		uxtb	r2, r3
 1096 0760 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1097 0764 C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1098 0768 1A70     		strb	r2, [r3, #0]
 1099 076a 40F20003 		movw	r3, #:lower16:OSSchedLockNestingCtr
 1100 076e C0F20003 		movt	r3, #:upper16:OSSchedLockNestingCtr
 1101 0772 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1102 0774 002B     		cmp	r3, #0
 1103 0776 16D1     		bne	.L58
 1104              		.loc 1 500 0 is_stmt 0 discriminator 1
 1105 0778 FFF7FEFF 		bl	OS_SchedLockTimeMeasStop
 1106 077c 40F20003 		movw	r3, #:lower16:OSIntQNbrEntries
 1107 0780 C0F20003 		movt	r3, #:upper16:OSIntQNbrEntries
 1108 0784 1B88     		ldrh	r3, [r3, #0]
 1109 0786 002B     		cmp	r3, #0
 1110 0788 07D0     		beq	.L59
 1111              		.loc 1 500 0 discriminator 3
 1112 078a FFF7FEFF 		bl	CPU_IntDisMeasStop
 1113 078e 7869     		ldr	r0, [r7, #20]
 1114 0790 FFF7FEFF 		bl	CPU_SR_Restore
 1115 0794 FFF7FEFF 		bl	OS_Sched0
 1116 0798 0AE0     		b	.L36
 1117              	.L59:
 1118              		.loc 1 500 0 discriminator 4
 1119 079a FFF7FEFF 		bl	CPU_IntDisMeasStop
 1120 079e 7869     		ldr	r0, [r7, #20]
 1121 07a0 FFF7FEFF 		bl	CPU_SR_Restore
 1122 07a4 04E0     		b	.L36
 1123              	.L58:
 1124              		.loc 1 500 0 discriminator 2
 1125 07a6 FFF7FEFF 		bl	CPU_IntDisMeasStop
 1126 07aa 7869     		ldr	r0, [r7, #20]
 1127 07ac FFF7FEFF 		bl	CPU_SR_Restore
 1128              	.L36:
 501:Libraries/uC-OSIII/os_tick.c **** }
 1129              		.loc 1 501 0 is_stmt 1
 1130 07b0 07F12007 		add	r7, r7, #32
 1131 07b4 BD46     		mov	sp, r7
 1132 07b6 80BD     		pop	{r7, pc}
 1133              		.cfi_endproc
 1134              	.LFE6:
 1136              	.Letext0:
 1137              		.file 2 "Libraries/uC-CPU/cpu.h"
 1138              		.file 3 "Libraries/uC-CPU/cpu_core.h"
 1139              		.file 4 "Libraries/uC-OSIII/os_type.h"
 1140              		.file 5 "Libraries/uC-OSIII/os.h"
DEFINED SYMBOLS
                            *ABS*:00000000 os_tick.c
     /tmp/ccZzBL57.s:18     .text:00000000 $t
     /tmp/ccZzBL57.s:23     .text:00000000 OS_TickTask
     /tmp/ccZzBL57.s:755    .text:00000498 OS_TickListUpdate
     /tmp/ccZzBL57.s:72     .rodata:00000000 $d
     /tmp/ccZzBL57.s:73     .rodata:00000000 .LC0
     /tmp/ccZzBL57.s:81     .text:0000003c OS_TickTaskInit
     /tmp/ccZzBL57.s:172    .text:000000f0 OS_TickListInit
     /tmp/ccZzBL57.s:238    .text:0000014c OS_TickListInsert
     /tmp/ccZzBL57.s:585    .text:000003b0 OS_TickListRemove
     /tmp/ccZzBL57.s:697    .text:0000044c OS_TickListResetPeak
     /tmp/ccZzBL57.s:855    .text:00000564 $d
     /tmp/ccZzBL57.s:865    .text:00000584 $t
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
OSTaskSemPend
OSRunning
OSTickCtr
OSTickTaskTimeMax
OSCfg_TickTaskPrio
OSCfg_TickTaskStkBasePtr
OSCfg_TickTaskStkLimit
OSCfg_TickTaskStkSize
OSTickTaskTCB
OSTaskCreate
OSCfg_TickWheel
OSCfg_TickWheelSize
CPU_SR_Save
CPU_IntDisMeasStart
OSSchedLockNestingCtr
OS_SchedLockTimeMeasStart
CPU_IntDisMeasStop
CPU_SR_Restore
CPU_TS_TmrRd
OS_TaskRdy
OS_PendListRemove
OS_SchedLockTimeMeasStop
OSIntQNbrEntries
OS_Sched0
