   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"lib_math.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.comm	Math_RandSeedCur,4,4
  19              		.align	2
  20              		.global	Math_Init
  21              		.thumb
  22              		.thumb_func
  24              	Math_Init:
  25              	.LFB0:
  26              		.file 1 "Libraries/uC-LIB/lib_math.c"
   1:Libraries/uC-LIB/lib_math.c **** /*
   2:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
   3:Libraries/uC-LIB/lib_math.c **** *                                                uC/LIB
   4:Libraries/uC-LIB/lib_math.c **** *                                        CUSTOM LIBRARY MODULES
   5:Libraries/uC-LIB/lib_math.c **** *
   6:Libraries/uC-LIB/lib_math.c **** *                          (c) Copyright 2004-2011; Micrium, Inc.; Weston, FL
   7:Libraries/uC-LIB/lib_math.c **** *
   8:Libraries/uC-LIB/lib_math.c **** *               All rights reserved.  Protected by international copyright laws.
   9:Libraries/uC-LIB/lib_math.c **** *
  10:Libraries/uC-LIB/lib_math.c **** *               uC/LIB is provided in source form to registered licensees ONLY.  It is 
  11:Libraries/uC-LIB/lib_math.c **** *               illegal to distribute this source code to any third party unless you receive 
  12:Libraries/uC-LIB/lib_math.c **** *               written permission by an authorized Micrium representative.  Knowledge of 
  13:Libraries/uC-LIB/lib_math.c **** *               the source code may NOT be used to develop a similar product.
  14:Libraries/uC-LIB/lib_math.c **** *
  15:Libraries/uC-LIB/lib_math.c **** *               Please help us continue to provide the Embedded community with the finest 
  16:Libraries/uC-LIB/lib_math.c **** *               software available.  Your honesty is greatly appreciated.
  17:Libraries/uC-LIB/lib_math.c **** *
  18:Libraries/uC-LIB/lib_math.c **** *               You can contact us at www.micrium.com.
  19:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  20:Libraries/uC-LIB/lib_math.c **** */
  21:Libraries/uC-LIB/lib_math.c **** 
  22:Libraries/uC-LIB/lib_math.c **** /*
  23:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  24:Libraries/uC-LIB/lib_math.c **** *
  25:Libraries/uC-LIB/lib_math.c **** *                                        MATHEMATIC OPERATIONS
  26:Libraries/uC-LIB/lib_math.c **** *
  27:Libraries/uC-LIB/lib_math.c **** * Filename      : lib_math.c
  28:Libraries/uC-LIB/lib_math.c **** * Version       : V1.35.00
  29:Libraries/uC-LIB/lib_math.c **** * Programmer(s) : SR
  30:Libraries/uC-LIB/lib_math.c **** *                 ITJ
  31:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  32:Libraries/uC-LIB/lib_math.c **** * Note(s)       : (1) NO compiler-supplied standard library functions are used in library or produc
  33:Libraries/uC-LIB/lib_math.c **** *
  34:Libraries/uC-LIB/lib_math.c **** *                     (a) ALL standard library functions are implemented in the custom library modu
  35:Libraries/uC-LIB/lib_math.c **** *
  36:Libraries/uC-LIB/lib_math.c **** *                         (1) \<Custom Library Directory>\lib_*.*
  37:Libraries/uC-LIB/lib_math.c **** *
  38:Libraries/uC-LIB/lib_math.c **** *                         (2) \<Custom Library Directory>\Ports\<cpu>\<compiler>\lib*_a.*
  39:Libraries/uC-LIB/lib_math.c **** *
  40:Libraries/uC-LIB/lib_math.c **** *                               where
  41:Libraries/uC-LIB/lib_math.c **** *                                       <Custom Library Directory>      directory path for custom l
  42:Libraries/uC-LIB/lib_math.c **** *                                       <cpu>                           directory name for specific
  43:Libraries/uC-LIB/lib_math.c **** *                                       <compiler>                      directory name for specific
  44:Libraries/uC-LIB/lib_math.c **** *
  45:Libraries/uC-LIB/lib_math.c **** *                     (b) Product-specific library functions are implemented in individual products
  46:Libraries/uC-LIB/lib_math.c **** *
  47:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  48:Libraries/uC-LIB/lib_math.c **** * Notice(s)     : (1) The Institute of Electrical and Electronics Engineers and The Open Group, hav
  49:Libraries/uC-LIB/lib_math.c **** *                     us permission to reprint portions of their documentation.  Portions of this t
  50:Libraries/uC-LIB/lib_math.c **** *                     reprinted and reproduced in electronic form from the IEEE Std 1003.1, 2004 Ed
  51:Libraries/uC-LIB/lib_math.c **** *                     Standard for Information Technology -- Portable Operating System Interface (P
  52:Libraries/uC-LIB/lib_math.c **** *                     The Open Group Base Specifications Issue 6, Copyright (C) 2001-2004 by the In
  53:Libraries/uC-LIB/lib_math.c **** *                     of Electrical and Electronics Engineers, Inc and The Open Group.  In the even
  54:Libraries/uC-LIB/lib_math.c **** *                     discrepancy between these versions and the original IEEE and The Open Group S
  55:Libraries/uC-LIB/lib_math.c **** *                     the original IEEE and The Open Group Standard is the referee document.  The o
  56:Libraries/uC-LIB/lib_math.c **** *                     Standard can be obtained online at http://www.opengroup.org/unix/online.html.
  57:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  58:Libraries/uC-LIB/lib_math.c **** */
  59:Libraries/uC-LIB/lib_math.c **** 
  60:Libraries/uC-LIB/lib_math.c **** 
  61:Libraries/uC-LIB/lib_math.c **** /*
  62:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  63:Libraries/uC-LIB/lib_math.c **** *                                            INCLUDE FILES
  64:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  65:Libraries/uC-LIB/lib_math.c **** */
  66:Libraries/uC-LIB/lib_math.c **** 
  67:Libraries/uC-LIB/lib_math.c **** #define    LIB_MATH_MODULE
  68:Libraries/uC-LIB/lib_math.c **** #include  <lib_math.h>
  69:Libraries/uC-LIB/lib_math.c **** 
  70:Libraries/uC-LIB/lib_math.c **** 
  71:Libraries/uC-LIB/lib_math.c **** /*$PAGE*/
  72:Libraries/uC-LIB/lib_math.c **** /*
  73:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  74:Libraries/uC-LIB/lib_math.c **** *                                            LOCAL DEFINES
  75:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  76:Libraries/uC-LIB/lib_math.c **** */
  77:Libraries/uC-LIB/lib_math.c **** 
  78:Libraries/uC-LIB/lib_math.c **** 
  79:Libraries/uC-LIB/lib_math.c **** /*
  80:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  81:Libraries/uC-LIB/lib_math.c **** *                                           LOCAL CONSTANTS
  82:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  83:Libraries/uC-LIB/lib_math.c **** */
  84:Libraries/uC-LIB/lib_math.c **** 
  85:Libraries/uC-LIB/lib_math.c **** 
  86:Libraries/uC-LIB/lib_math.c **** /*
  87:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  88:Libraries/uC-LIB/lib_math.c **** *                                          LOCAL DATA TYPES
  89:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  90:Libraries/uC-LIB/lib_math.c **** */
  91:Libraries/uC-LIB/lib_math.c **** 
  92:Libraries/uC-LIB/lib_math.c **** 
  93:Libraries/uC-LIB/lib_math.c **** /*
  94:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  95:Libraries/uC-LIB/lib_math.c **** *                                            LOCAL TABLES
  96:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
  97:Libraries/uC-LIB/lib_math.c **** */
  98:Libraries/uC-LIB/lib_math.c **** 
  99:Libraries/uC-LIB/lib_math.c **** 
 100:Libraries/uC-LIB/lib_math.c **** /*
 101:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
 102:Libraries/uC-LIB/lib_math.c **** *                                       LOCAL GLOBAL VARIABLES
 103:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
 104:Libraries/uC-LIB/lib_math.c **** */
 105:Libraries/uC-LIB/lib_math.c **** 
 106:Libraries/uC-LIB/lib_math.c **** RAND_NBR  Math_RandSeedCur;                                     /* Cur rand nbr seed.              
 107:Libraries/uC-LIB/lib_math.c **** 
 108:Libraries/uC-LIB/lib_math.c **** 
 109:Libraries/uC-LIB/lib_math.c **** /*
 110:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
 111:Libraries/uC-LIB/lib_math.c **** *                                      LOCAL FUNCTION PROTOTYPES
 112:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
 113:Libraries/uC-LIB/lib_math.c **** */
 114:Libraries/uC-LIB/lib_math.c **** 
 115:Libraries/uC-LIB/lib_math.c **** 
 116:Libraries/uC-LIB/lib_math.c **** /*
 117:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
 118:Libraries/uC-LIB/lib_math.c **** *                                     LOCAL CONFIGURATION ERRORS
 119:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
 120:Libraries/uC-LIB/lib_math.c **** */
 121:Libraries/uC-LIB/lib_math.c **** 
 122:Libraries/uC-LIB/lib_math.c **** 
 123:Libraries/uC-LIB/lib_math.c **** /*$PAGE*/
 124:Libraries/uC-LIB/lib_math.c **** /*
 125:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
 126:Libraries/uC-LIB/lib_math.c **** *                                             Math_Init()
 127:Libraries/uC-LIB/lib_math.c **** *
 128:Libraries/uC-LIB/lib_math.c **** * Description : (1) Initialize Mathematic Module :
 129:Libraries/uC-LIB/lib_math.c **** *
 130:Libraries/uC-LIB/lib_math.c **** *                   (a) Initialize random number seed value
 131:Libraries/uC-LIB/lib_math.c **** *
 132:Libraries/uC-LIB/lib_math.c **** *
 133:Libraries/uC-LIB/lib_math.c **** * Argument(s) : none.
 134:Libraries/uC-LIB/lib_math.c **** *
 135:Libraries/uC-LIB/lib_math.c **** * Return(s)   : none.
 136:Libraries/uC-LIB/lib_math.c **** *
 137:Libraries/uC-LIB/lib_math.c **** * Caller(s)   : Application.
 138:Libraries/uC-LIB/lib_math.c **** *
 139:Libraries/uC-LIB/lib_math.c **** * Note(s)     : (2) IEEE Std 1003.1, 2004 Edition, Section 'rand() : DESCRIPTION' states that "if r
 140:Libraries/uC-LIB/lib_math.c **** *                   is called before any calls to srand() are made, the same sequence shall be gene
 141:Libraries/uC-LIB/lib_math.c **** *                   as when srand() is first called with a seed value of 1".
 142:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
 143:Libraries/uC-LIB/lib_math.c **** */
 144:Libraries/uC-LIB/lib_math.c **** 
 145:Libraries/uC-LIB/lib_math.c **** void  Math_Init (void)
 146:Libraries/uC-LIB/lib_math.c **** {
  27              		.loc 1 146 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31 0000 80B5     		push	{r7, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 14, -4
  35              		.cfi_offset 7, -8
  36 0002 00AF     		add	r7, sp, #0
  37              	.LCFI1:
  38              		.cfi_def_cfa_register 7
 147:Libraries/uC-LIB/lib_math.c ****     Math_RandSetSeed((RAND_NBR)RAND_SEED_INIT_VAL);             /* See Note #2.                    
  39              		.loc 1 147 0
  40 0004 4FF00100 		mov	r0, #1
  41 0008 FFF7FEFF 		bl	Math_RandSetSeed
 148:Libraries/uC-LIB/lib_math.c **** }
  42              		.loc 1 148 0
  43 000c 80BD     		pop	{r7, pc}
  44              		.cfi_endproc
  45              	.LFE0:
  47 000e 00BF     		.align	2
  48              		.global	Math_RandSetSeed
  49              		.thumb
  50              		.thumb_func
  52              	Math_RandSetSeed:
  53              	.LFB1:
 149:Libraries/uC-LIB/lib_math.c **** 
 150:Libraries/uC-LIB/lib_math.c **** 
 151:Libraries/uC-LIB/lib_math.c **** /*$PAGE*/
 152:Libraries/uC-LIB/lib_math.c **** /*
 153:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
 154:Libraries/uC-LIB/lib_math.c **** *                                         Math_RandSetSeed()
 155:Libraries/uC-LIB/lib_math.c **** *
 156:Libraries/uC-LIB/lib_math.c **** * Description : Set the current pseudo-random number generator seed.
 157:Libraries/uC-LIB/lib_math.c **** *
 158:Libraries/uC-LIB/lib_math.c **** * Argument(s) : seed        Initial (or current) value to set for the pseudo-random number sequence
 159:Libraries/uC-LIB/lib_math.c **** *
 160:Libraries/uC-LIB/lib_math.c **** * Return(s)   : none.
 161:Libraries/uC-LIB/lib_math.c **** *
 162:Libraries/uC-LIB/lib_math.c **** * Caller(s)   : Application.
 163:Libraries/uC-LIB/lib_math.c **** *
 164:Libraries/uC-LIB/lib_math.c **** * Note(s)     : (1) IEEE Std 1003.1, 2004 Edition, Section 'rand() : DESCRIPTION' states that "sran
 165:Libraries/uC-LIB/lib_math.c **** *                   ... uses the argument as a seed for a new sequence of pseudo-random numbers to 
 166:Libraries/uC-LIB/lib_math.c **** *                   returned by subsequent calls to rand()".
 167:Libraries/uC-LIB/lib_math.c **** *
 168:Libraries/uC-LIB/lib_math.c **** *               (2) 'Math_RandSeedCur' MUST always be accessed exclusively in critical sections.
 169:Libraries/uC-LIB/lib_math.c **** *
 170:Libraries/uC-LIB/lib_math.c **** *                   See also 'Math_Rand()  Note #1b'.
 171:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
 172:Libraries/uC-LIB/lib_math.c **** */
 173:Libraries/uC-LIB/lib_math.c **** 
 174:Libraries/uC-LIB/lib_math.c **** void  Math_RandSetSeed (RAND_NBR  seed)
 175:Libraries/uC-LIB/lib_math.c **** {
  54              		.loc 1 175 0
  55              		.cfi_startproc
  56              		@ args = 0, pretend = 0, frame = 16
  57              		@ frame_needed = 1, uses_anonymous_args = 0
  58 0010 80B5     		push	{r7, lr}
  59              	.LCFI2:
  60              		.cfi_def_cfa_offset 8
  61              		.cfi_offset 14, -4
  62              		.cfi_offset 7, -8
  63 0012 84B0     		sub	sp, sp, #16
  64              	.LCFI3:
  65              		.cfi_def_cfa_offset 24
  66 0014 00AF     		add	r7, sp, #0
  67              	.LCFI4:
  68              		.cfi_def_cfa_register 7
  69 0016 7860     		str	r0, [r7, #4]
 176:Libraries/uC-LIB/lib_math.c ****     CPU_SR_ALLOC();
  70              		.loc 1 176 0
  71 0018 4FF00003 		mov	r3, #0
  72 001c FB60     		str	r3, [r7, #12]
 177:Libraries/uC-LIB/lib_math.c **** 
 178:Libraries/uC-LIB/lib_math.c **** 
 179:Libraries/uC-LIB/lib_math.c ****     CPU_CRITICAL_ENTER();
  73              		.loc 1 179 0
  74 001e FFF7FEFF 		bl	CPU_SR_Save
  75 0022 F860     		str	r0, [r7, #12]
  76 0024 FFF7FEFF 		bl	CPU_IntDisMeasStart
 180:Libraries/uC-LIB/lib_math.c ****     Math_RandSeedCur = seed;
  77              		.loc 1 180 0
  78 0028 40F20003 		movw	r3, #:lower16:Math_RandSeedCur
  79 002c C0F20003 		movt	r3, #:upper16:Math_RandSeedCur
  80 0030 7A68     		ldr	r2, [r7, #4]
  81 0032 1A60     		str	r2, [r3, #0]
 181:Libraries/uC-LIB/lib_math.c ****     CPU_CRITICAL_EXIT();
  82              		.loc 1 181 0
  83 0034 FFF7FEFF 		bl	CPU_IntDisMeasStop
  84 0038 F868     		ldr	r0, [r7, #12]
  85 003a FFF7FEFF 		bl	CPU_SR_Restore
 182:Libraries/uC-LIB/lib_math.c **** }
  86              		.loc 1 182 0
  87 003e 07F11007 		add	r7, r7, #16
  88 0042 BD46     		mov	sp, r7
  89 0044 80BD     		pop	{r7, pc}
  90              		.cfi_endproc
  91              	.LFE1:
  93 0046 00BF     		.align	2
  94              		.global	Math_Rand
  95              		.thumb
  96              		.thumb_func
  98              	Math_Rand:
  99              	.LFB2:
 183:Libraries/uC-LIB/lib_math.c **** 
 184:Libraries/uC-LIB/lib_math.c **** 
 185:Libraries/uC-LIB/lib_math.c **** /*$PAGE*/
 186:Libraries/uC-LIB/lib_math.c **** /*
 187:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
 188:Libraries/uC-LIB/lib_math.c **** *                                             Math_Rand()
 189:Libraries/uC-LIB/lib_math.c **** *
 190:Libraries/uC-LIB/lib_math.c **** * Description : Calculate the next pseudo-random number.
 191:Libraries/uC-LIB/lib_math.c **** *
 192:Libraries/uC-LIB/lib_math.c **** * Argument(s) : none.
 193:Libraries/uC-LIB/lib_math.c **** *
 194:Libraries/uC-LIB/lib_math.c **** * Return(s)   : Next pseudo-random number in the sequence after 'Math_RandSeedCur'.
 195:Libraries/uC-LIB/lib_math.c **** *
 196:Libraries/uC-LIB/lib_math.c **** * Caller(s)   : Application.
 197:Libraries/uC-LIB/lib_math.c **** *
 198:Libraries/uC-LIB/lib_math.c **** * Note(s)     : (1) (a) The pseudo-random number generator is implemented as a Linear Congruential 
 199:Libraries/uC-LIB/lib_math.c **** *                       Generator (LCG).
 200:Libraries/uC-LIB/lib_math.c **** *
 201:Libraries/uC-LIB/lib_math.c **** *                   (b) The pseudo-random number generated is in the range [0, RAND_LCG_PARAM_M].
 202:Libraries/uC-LIB/lib_math.c **** *
 203:Libraries/uC-LIB/lib_math.c **** *                   See also 'Math_RandSeed()  Note #1'.
 204:Libraries/uC-LIB/lib_math.c **** *
 205:Libraries/uC-LIB/lib_math.c **** *               (2) (a) IEEE Std 1003.1, 2004 Edition, Section 'rand() : DESCRIPTION' states that "
 206:Libraries/uC-LIB/lib_math.c **** *                       ... need not be reentrant ... [and] is not required to be thread-safe".
 207:Libraries/uC-LIB/lib_math.c **** *
 208:Libraries/uC-LIB/lib_math.c **** *                   (b) However, in order to implement Math_Rand() as re-entrant; 'Math_RandSeedCur
 209:Libraries/uC-LIB/lib_math.c **** *                       always be accessed & updated exclusively in critical sections.
 210:Libraries/uC-LIB/lib_math.c **** *
 211:Libraries/uC-LIB/lib_math.c **** *                   See also 'Math_RandSeed()  Note #2'.
 212:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
 213:Libraries/uC-LIB/lib_math.c **** */
 214:Libraries/uC-LIB/lib_math.c **** 
 215:Libraries/uC-LIB/lib_math.c **** RAND_NBR  Math_Rand (void)
 216:Libraries/uC-LIB/lib_math.c **** {
 100              		.loc 1 216 0
 101              		.cfi_startproc
 102              		@ args = 0, pretend = 0, frame = 16
 103              		@ frame_needed = 1, uses_anonymous_args = 0
 104 0048 80B5     		push	{r7, lr}
 105              	.LCFI5:
 106              		.cfi_def_cfa_offset 8
 107              		.cfi_offset 14, -4
 108              		.cfi_offset 7, -8
 109 004a 84B0     		sub	sp, sp, #16
 110              	.LCFI6:
 111              		.cfi_def_cfa_offset 24
 112 004c 00AF     		add	r7, sp, #0
 113              	.LCFI7:
 114              		.cfi_def_cfa_register 7
 217:Libraries/uC-LIB/lib_math.c ****     RAND_NBR  seed;
 218:Libraries/uC-LIB/lib_math.c ****     RAND_NBR  rand_nbr;
 219:Libraries/uC-LIB/lib_math.c ****     CPU_SR_ALLOC();
 115              		.loc 1 219 0
 116 004e 4FF00003 		mov	r3, #0
 117 0052 FB60     		str	r3, [r7, #12]
 220:Libraries/uC-LIB/lib_math.c **** 
 221:Libraries/uC-LIB/lib_math.c **** 
 222:Libraries/uC-LIB/lib_math.c ****     CPU_CRITICAL_ENTER();
 118              		.loc 1 222 0
 119 0054 FFF7FEFF 		bl	CPU_SR_Save
 120 0058 F860     		str	r0, [r7, #12]
 121 005a FFF7FEFF 		bl	CPU_IntDisMeasStart
 223:Libraries/uC-LIB/lib_math.c ****     seed             = Math_RandSeedCur;
 122              		.loc 1 223 0
 123 005e 40F20003 		movw	r3, #:lower16:Math_RandSeedCur
 124 0062 C0F20003 		movt	r3, #:upper16:Math_RandSeedCur
 125 0066 1B68     		ldr	r3, [r3, #0]
 126 0068 BB60     		str	r3, [r7, #8]
 224:Libraries/uC-LIB/lib_math.c ****     rand_nbr         = Math_RandSeed(seed);
 127              		.loc 1 224 0
 128 006a B868     		ldr	r0, [r7, #8]
 129 006c FFF7FEFF 		bl	Math_RandSeed
 130 0070 7860     		str	r0, [r7, #4]
 225:Libraries/uC-LIB/lib_math.c ****     Math_RandSeedCur = rand_nbr;
 131              		.loc 1 225 0
 132 0072 40F20003 		movw	r3, #:lower16:Math_RandSeedCur
 133 0076 C0F20003 		movt	r3, #:upper16:Math_RandSeedCur
 134 007a 7A68     		ldr	r2, [r7, #4]
 135 007c 1A60     		str	r2, [r3, #0]
 226:Libraries/uC-LIB/lib_math.c ****     CPU_CRITICAL_EXIT();
 136              		.loc 1 226 0
 137 007e FFF7FEFF 		bl	CPU_IntDisMeasStop
 138 0082 F868     		ldr	r0, [r7, #12]
 139 0084 FFF7FEFF 		bl	CPU_SR_Restore
 227:Libraries/uC-LIB/lib_math.c **** 
 228:Libraries/uC-LIB/lib_math.c ****     return (rand_nbr);
 140              		.loc 1 228 0
 141 0088 7B68     		ldr	r3, [r7, #4]
 229:Libraries/uC-LIB/lib_math.c **** }
 142              		.loc 1 229 0
 143 008a 1846     		mov	r0, r3
 144 008c 07F11007 		add	r7, r7, #16
 145 0090 BD46     		mov	sp, r7
 146 0092 80BD     		pop	{r7, pc}
 147              		.cfi_endproc
 148              	.LFE2:
 150              		.align	2
 151              		.global	Math_RandSeed
 152              		.thumb
 153              		.thumb_func
 155              	Math_RandSeed:
 156              	.LFB3:
 230:Libraries/uC-LIB/lib_math.c **** 
 231:Libraries/uC-LIB/lib_math.c **** 
 232:Libraries/uC-LIB/lib_math.c **** /*$PAGE*/
 233:Libraries/uC-LIB/lib_math.c **** /*
 234:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
 235:Libraries/uC-LIB/lib_math.c **** *                                           Math_RandSeed()
 236:Libraries/uC-LIB/lib_math.c **** *
 237:Libraries/uC-LIB/lib_math.c **** * Description : Calculate the next pseudo-random number.
 238:Libraries/uC-LIB/lib_math.c **** *
 239:Libraries/uC-LIB/lib_math.c **** * Argument(s) : seed        Initial (or current) value for the pseudo-random number sequence.
 240:Libraries/uC-LIB/lib_math.c **** *
 241:Libraries/uC-LIB/lib_math.c **** * Return(s)   : Next pseudo-random number in the sequence after 'seed'.
 242:Libraries/uC-LIB/lib_math.c **** *
 243:Libraries/uC-LIB/lib_math.c **** * Caller(s)   : Math_Rand(),
 244:Libraries/uC-LIB/lib_math.c **** *               Application.
 245:Libraries/uC-LIB/lib_math.c **** *
 246:Libraries/uC-LIB/lib_math.c **** * Note(s)     : (1) (a) BSD/ANSI-C implements rand() as a Linear Congruential Generator (LCG) :
 247:Libraries/uC-LIB/lib_math.c **** *
 248:Libraries/uC-LIB/lib_math.c **** *                       (A) random_number       =  [(a * random_number ) + b]  modulo m
 249:Libraries/uC-LIB/lib_math.c **** *                                        n + 1                        n
 250:Libraries/uC-LIB/lib_math.c **** *
 251:Libraries/uC-LIB/lib_math.c **** *                               where
 252:Libraries/uC-LIB/lib_math.c **** *                                       (1) (a) random_number           Next     random number to g
 253:Libraries/uC-LIB/lib_math.c **** *                                                            n+1
 254:Libraries/uC-LIB/lib_math.c **** *                                           (b) random_number           Previous random number    g
 255:Libraries/uC-LIB/lib_math.c **** *                                                            n
 256:Libraries/uC-LIB/lib_math.c **** *
 257:Libraries/uC-LIB/lib_math.c **** *                                       (2) a = RAND_LCG_PARAM_A        LCG multiplier
 258:Libraries/uC-LIB/lib_math.c **** *                                       (3) b = RAND_LCG_PARAM_B        LCG incrementor
 259:Libraries/uC-LIB/lib_math.c **** *                                       (4) m = RAND_LCG_PARAM_M + 1    LCG modulus
 260:Libraries/uC-LIB/lib_math.c **** *
 261:Libraries/uC-LIB/lib_math.c **** *                   (b) The pseudo-random number generated is in the range [0, RAND_LCG_PARAM_M].
 262:Libraries/uC-LIB/lib_math.c **** *
 263:Libraries/uC-LIB/lib_math.c ****                     See also 'lib_math.h  RANDOM NUMBER DEFINES  Note #1b'.
 264:Libraries/uC-LIB/lib_math.c **** *
 265:Libraries/uC-LIB/lib_math.c **** *               (2) (a) IEEE Std 1003.1, 2004 Edition, Section 'rand() : DESCRIPTION' states that "
 266:Libraries/uC-LIB/lib_math.c **** *                       ... need not be reentrant ... [and] is not required to be thread-safe".
 267:Libraries/uC-LIB/lib_math.c **** *
 268:Libraries/uC-LIB/lib_math.c **** *                   (b) However, Math_RandSeed() is re-entrant since it calculates the next random 
 269:Libraries/uC-LIB/lib_math.c **** *                       using ONLY local variables.
 270:Libraries/uC-LIB/lib_math.c **** ***************************************************************************************************
 271:Libraries/uC-LIB/lib_math.c **** */
 272:Libraries/uC-LIB/lib_math.c **** 
 273:Libraries/uC-LIB/lib_math.c **** RAND_NBR  Math_RandSeed (RAND_NBR  seed)
 274:Libraries/uC-LIB/lib_math.c **** {
 157              		.loc 1 274 0
 158              		.cfi_startproc
 159              		@ args = 0, pretend = 0, frame = 16
 160              		@ frame_needed = 1, uses_anonymous_args = 0
 161              		@ link register save eliminated.
 162 0094 80B4     		push	{r7}
 163              	.LCFI8:
 164              		.cfi_def_cfa_offset 4
 165              		.cfi_offset 7, -4
 166 0096 85B0     		sub	sp, sp, #20
 167              	.LCFI9:
 168              		.cfi_def_cfa_offset 24
 169 0098 00AF     		add	r7, sp, #0
 170              	.LCFI10:
 171              		.cfi_def_cfa_register 7
 172 009a 7860     		str	r0, [r7, #4]
 275:Libraries/uC-LIB/lib_math.c ****     RAND_NBR  rand_nbr;
 276:Libraries/uC-LIB/lib_math.c **** 
 277:Libraries/uC-LIB/lib_math.c **** 
 278:Libraries/uC-LIB/lib_math.c ****     rand_nbr = (((RAND_NBR)RAND_LCG_PARAM_A * seed) + (RAND_NBR)RAND_LCG_PARAM_B)  %  ((RAND_NBR)RA
 173              		.loc 1 278 0
 174 009c 7A68     		ldr	r2, [r7, #4]
 175 009e 44F66D63 		movw	r3, #20077
 176 00a2 C4F2C613 		movt	r3, 16838
 177 00a6 03FB02F3 		mul	r3, r3, r2
 178 00aa 03F54053 		add	r3, r3, #12288
 179 00ae 03F13903 		add	r3, r3, #57
 180 00b2 23F00043 		bic	r3, r3, #-2147483648
 181 00b6 FB60     		str	r3, [r7, #12]
 279:Libraries/uC-LIB/lib_math.c **** 
 280:Libraries/uC-LIB/lib_math.c ****     return (rand_nbr);
 182              		.loc 1 280 0
 183 00b8 FB68     		ldr	r3, [r7, #12]
 281:Libraries/uC-LIB/lib_math.c **** }
 184              		.loc 1 281 0
 185 00ba 1846     		mov	r0, r3
 186 00bc 07F11407 		add	r7, r7, #20
 187 00c0 BD46     		mov	sp, r7
 188 00c2 80BC     		pop	{r7}
 189 00c4 7047     		bx	lr
 190              		.cfi_endproc
 191              	.LFE3:
 193              	.Letext0:
 194              		.file 2 "Libraries/uC-CPU/cpu.h"
 195              		.file 3 "Libraries/uC-LIB/lib_math.h"
DEFINED SYMBOLS
                            *ABS*:00000000 lib_math.c
                            *COM*:00000004 Math_RandSeedCur
     /tmp/ccTnIntg.s:19     .text:00000000 $t
     /tmp/ccTnIntg.s:24     .text:00000000 Math_Init
     /tmp/ccTnIntg.s:52     .text:00000010 Math_RandSetSeed
     /tmp/ccTnIntg.s:98     .text:00000048 Math_Rand
     /tmp/ccTnIntg.s:155    .text:00000094 Math_RandSeed
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
CPU_SR_Save
CPU_IntDisMeasStart
CPU_IntDisMeasStop
CPU_SR_Restore
