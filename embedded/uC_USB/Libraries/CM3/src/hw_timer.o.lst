   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"hw_timer.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.align	2
  19              		.global	TimerInit
  20              		.thumb
  21              		.thumb_func
  23              	TimerInit:
  24              	.LFB55:
  25              		.file 1 "Libraries/CM3/src/hw_timer.c"
   1:Libraries/CM3/src/hw_timer.c **** #include "hw_timer.h"
   2:Libraries/CM3/src/hw_timer.c **** #include "LPC17xx.h"
   3:Libraries/CM3/src/hw_timer.c **** 
   4:Libraries/CM3/src/hw_timer.c **** char TimerInit(char timer)
   5:Libraries/CM3/src/hw_timer.c **** {
  26              		.loc 1 5 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 8
  29              		@ frame_needed = 1, uses_anonymous_args = 0
  30              		@ link register save eliminated.
  31 0000 80B4     		push	{r7}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 4
  34              		.cfi_offset 7, -4
  35 0002 83B0     		sub	sp, sp, #12
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 16
  38 0004 00AF     		add	r7, sp, #0
  39              	.LCFI2:
  40              		.cfi_def_cfa_register 7
  41 0006 0346     		mov	r3, r0
  42 0008 FB71     		strb	r3, [r7, #7]
   6:Libraries/CM3/src/hw_timer.c **** 	//LPC_SC->PCONP |= (1<<1);
   7:Libraries/CM3/src/hw_timer.c **** 	switch(timer){
  43              		.loc 1 7 0
  44 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
  45 000c 032B     		cmp	r3, #3
  46 000e 31D8     		bhi	.L9
  47 0010 01A2     		adr	r2, .L7
  48 0012 52F823F0 		ldr	pc, [r2, r3, lsl #2]
  49 0016 00BF     		.align	2
  50              	.L7:
  51 0018 29000000 		.word	.L3+1
  52 001c 75000000 		.word	.L9+1
  53 0020 75000000 		.word	.L9+1
  54 0024 75000000 		.word	.L9+1
  55              	.L3:
   8:Libraries/CM3/src/hw_timer.c **** 		case 0: LPC_TIM0->TCR = 0x02;	/* stop and reset timer */
  56              		.loc 1 8 0
  57 0028 4FF04023 		mov	r3, #1073758208
  58 002c 4FF00202 		mov	r2, #2
  59 0030 5A60     		str	r2, [r3, #4]
   9:Libraries/CM3/src/hw_timer.c **** 				LPC_TIM0->PR  = 100000;	/* set PRE to 1ms */
  60              		.loc 1 9 0
  61 0032 4FF04022 		mov	r2, #1073758208
  62 0036 48F2A063 		movw	r3, #34464
  63 003a C0F20103 		movt	r3, 1
  64 003e D360     		str	r3, [r2, #12]
  10:Libraries/CM3/src/hw_timer.c **** 				LPC_TIM0->PC  = 0x00;
  65              		.loc 1 10 0
  66 0040 4FF04023 		mov	r3, #1073758208
  67 0044 4FF00002 		mov	r2, #0
  68 0048 1A61     		str	r2, [r3, #16]
  11:Libraries/CM3/src/hw_timer.c **** 				LPC_TIM0->TC  = 0x00;
  69              		.loc 1 11 0
  70 004a 4FF04023 		mov	r3, #1073758208
  71 004e 4FF00002 		mov	r2, #0
  72 0052 9A60     		str	r2, [r3, #8]
  12:Libraries/CM3/src/hw_timer.c **** 				LPC_TIM0->MR0 = 25;	/* set MR0 to 0.025s */
  73              		.loc 1 12 0
  74 0054 4FF04023 		mov	r3, #1073758208
  75 0058 4FF01902 		mov	r2, #25
  76 005c 9A61     		str	r2, [r3, #24]
  13:Libraries/CM3/src/hw_timer.c **** 				LPC_TIM0->IR  = 0x01;	/* reset Timer0 IR flag */
  77              		.loc 1 13 0
  78 005e 4FF04023 		mov	r3, #1073758208
  79 0062 4FF00102 		mov	r2, #1
  80 0066 1A60     		str	r2, [r3, #0]
  14:Libraries/CM3/src/hw_timer.c **** 				LPC_TIM0->MCR = 0x03;	/* Interrupt on MR0, Reset TC on MR0 */
  81              		.loc 1 14 0
  82 0068 4FF04023 		mov	r3, #1073758208
  83 006c 4FF00302 		mov	r2, #3
  84 0070 5A61     		str	r2, [r3, #20]
  15:Libraries/CM3/src/hw_timer.c **** 				break;
  85              		.loc 1 15 0
  86 0072 00E0     		b	.L8
  87              	.L9:
  16:Libraries/CM3/src/hw_timer.c **** 		case 1: /* not yet implemented */
  17:Libraries/CM3/src/hw_timer.c **** 				break;
  18:Libraries/CM3/src/hw_timer.c **** 		case 2: /* not yet implemented */
  19:Libraries/CM3/src/hw_timer.c **** 				break;
  20:Libraries/CM3/src/hw_timer.c **** 		case 3: /* not yet implemented */
  21:Libraries/CM3/src/hw_timer.c **** 				break;
  22:Libraries/CM3/src/hw_timer.c **** 		default: break;
  88              		.loc 1 22 0
  89 0074 00BF     		nop
  90              	.L8:
  23:Libraries/CM3/src/hw_timer.c **** 	}
  24:Libraries/CM3/src/hw_timer.c **** 
  25:Libraries/CM3/src/hw_timer.c **** 	return 0;
  91              		.loc 1 25 0
  92 0076 4FF00003 		mov	r3, #0
  26:Libraries/CM3/src/hw_timer.c **** }
  93              		.loc 1 26 0
  94 007a 1846     		mov	r0, r3
  95 007c 07F10C07 		add	r7, r7, #12
  96 0080 BD46     		mov	sp, r7
  97 0082 80BC     		pop	{r7}
  98 0084 7047     		bx	lr
  99              		.cfi_endproc
 100              	.LFE55:
 102 0086 00BF     		.align	2
 103              		.global	TimerStart
 104              		.thumb
 105              		.thumb_func
 107              	TimerStart:
 108              	.LFB56:
  27:Libraries/CM3/src/hw_timer.c **** 
  28:Libraries/CM3/src/hw_timer.c **** char TimerStart()
  29:Libraries/CM3/src/hw_timer.c **** {
 109              		.loc 1 29 0
 110              		.cfi_startproc
 111              		@ args = 0, pretend = 0, frame = 0
 112              		@ frame_needed = 1, uses_anonymous_args = 0
 113              		@ link register save eliminated.
 114 0088 80B4     		push	{r7}
 115              	.LCFI3:
 116              		.cfi_def_cfa_offset 4
 117              		.cfi_offset 7, -4
 118 008a 00AF     		add	r7, sp, #0
 119              	.LCFI4:
 120              		.cfi_def_cfa_register 7
  30:Libraries/CM3/src/hw_timer.c **** 	LPC_TIM0->TCR = 0x01;	/* start timer */
 121              		.loc 1 30 0
 122 008c 4FF04023 		mov	r3, #1073758208
 123 0090 4FF00102 		mov	r2, #1
 124 0094 5A60     		str	r2, [r3, #4]
  31:Libraries/CM3/src/hw_timer.c **** 	return 0;
 125              		.loc 1 31 0
 126 0096 4FF00003 		mov	r3, #0
  32:Libraries/CM3/src/hw_timer.c **** }
 127              		.loc 1 32 0
 128 009a 1846     		mov	r0, r3
 129 009c BD46     		mov	sp, r7
 130 009e 80BC     		pop	{r7}
 131 00a0 7047     		bx	lr
 132              		.cfi_endproc
 133              	.LFE56:
 135 00a2 00BF     		.align	2
 136              		.global	TimerResetStop
 137              		.thumb
 138              		.thumb_func
 140              	TimerResetStop:
 141              	.LFB57:
  33:Libraries/CM3/src/hw_timer.c **** 
  34:Libraries/CM3/src/hw_timer.c **** char TimerResetStop()
  35:Libraries/CM3/src/hw_timer.c **** {
 142              		.loc 1 35 0
 143              		.cfi_startproc
 144              		@ args = 0, pretend = 0, frame = 0
 145              		@ frame_needed = 1, uses_anonymous_args = 0
 146              		@ link register save eliminated.
 147 00a4 80B4     		push	{r7}
 148              	.LCFI5:
 149              		.cfi_def_cfa_offset 4
 150              		.cfi_offset 7, -4
 151 00a6 00AF     		add	r7, sp, #0
 152              	.LCFI6:
 153              		.cfi_def_cfa_register 7
  36:Libraries/CM3/src/hw_timer.c **** 	LPC_TIM0->TCR = 0x02;	/* stop and reset timer */
 154              		.loc 1 36 0
 155 00a8 4FF04023 		mov	r3, #1073758208
 156 00ac 4FF00202 		mov	r2, #2
 157 00b0 5A60     		str	r2, [r3, #4]
  37:Libraries/CM3/src/hw_timer.c **** 	return 0;
 158              		.loc 1 37 0
 159 00b2 4FF00003 		mov	r3, #0
  38:Libraries/CM3/src/hw_timer.c **** }
 160              		.loc 1 38 0
 161 00b6 1846     		mov	r0, r3
 162 00b8 BD46     		mov	sp, r7
 163 00ba 80BC     		pop	{r7}
 164 00bc 7047     		bx	lr
 165              		.cfi_endproc
 166              	.LFE57:
 168 00be 00BF     		.align	2
 169              		.global	TimerClrIRFlag
 170              		.thumb
 171              		.thumb_func
 173              	TimerClrIRFlag:
 174              	.LFB58:
  39:Libraries/CM3/src/hw_timer.c **** 
  40:Libraries/CM3/src/hw_timer.c **** char TimerClrIRFlag()
  41:Libraries/CM3/src/hw_timer.c **** {
 175              		.loc 1 41 0
 176              		.cfi_startproc
 177              		@ args = 0, pretend = 0, frame = 0
 178              		@ frame_needed = 1, uses_anonymous_args = 0
 179              		@ link register save eliminated.
 180 00c0 80B4     		push	{r7}
 181              	.LCFI7:
 182              		.cfi_def_cfa_offset 4
 183              		.cfi_offset 7, -4
 184 00c2 00AF     		add	r7, sp, #0
 185              	.LCFI8:
 186              		.cfi_def_cfa_register 7
  42:Libraries/CM3/src/hw_timer.c **** 	LPC_TIM0->IR = 0x01;
 187              		.loc 1 42 0
 188 00c4 4FF04023 		mov	r3, #1073758208
 189 00c8 4FF00102 		mov	r2, #1
 190 00cc 1A60     		str	r2, [r3, #0]
  43:Libraries/CM3/src/hw_timer.c **** 	return 0;
 191              		.loc 1 43 0
 192 00ce 4FF00003 		mov	r3, #0
  44:Libraries/CM3/src/hw_timer.c **** }
 193              		.loc 1 44 0
 194 00d2 1846     		mov	r0, r3
 195 00d4 BD46     		mov	sp, r7
 196 00d6 80BC     		pop	{r7}
 197 00d8 7047     		bx	lr
 198              		.cfi_endproc
 199              	.LFE58:
 201              	.Letext0:
 202              		.file 2 "/home/wimma/bin/codesourcery/Sourcery_CodeBench_Lite_for_ARM_EABI/bin/../lib/gcc/arm-none
 203              		.file 3 "Libraries/CM3/inc/LPC17xx.h"
 204              		.file 4 "Libraries/CM3/inc/core_cm3.h"
DEFINED SYMBOLS
                            *ABS*:00000000 hw_timer.c
     /tmp/cc9X4LwQ.s:18     .text:00000000 $t
     /tmp/cc9X4LwQ.s:23     .text:00000000 TimerInit
     /tmp/cc9X4LwQ.s:51     .text:00000018 $d
     /tmp/cc9X4LwQ.s:57     .text:00000028 $t
     /tmp/cc9X4LwQ.s:107    .text:00000088 TimerStart
     /tmp/cc9X4LwQ.s:140    .text:000000a4 TimerResetStop
     /tmp/cc9X4LwQ.s:173    .text:000000c0 TimerClrIRFlag
                     .debug_frame:00000010 $d

NO UNDEFINED SYMBOLS
